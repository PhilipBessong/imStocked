var u1=Object.defineProperty,l1=Object.defineProperties;var d1=Object.getOwnPropertyDescriptors;var nI=Object.getOwnPropertySymbols,h1=Object.getPrototypeOf,f1=Object.prototype.hasOwnProperty,p1=Object.prototype.propertyIsEnumerable,m1=Reflect.get;var rI=(n,e,t)=>e in n?u1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})f1.call(e,t)&&rI(n,t,e[t]);if(nI)for(var t of nI(e))p1.call(e,t)&&rI(n,t,e[t]);return n},ae=(n,e)=>l1(n,d1(e));var Yr=(n,e,t)=>m1(h1(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function jp(n,e){return Object.is(n,e)}var ct=null,Qu=!1,Up=1,Xt=Symbol("SIGNAL");function Re(n){let e=ct;return ct=n,e}function iI(){return ct}var $a={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Zu(n){if(Qu)throw new Error("");if(ct===null)return;ct.consumerOnSignalRead(n);let e=ct.nextProducerIndex++;if(el(ct),e<ct.producerNode.length&&ct.producerNode[e]!==n&&Ba(ct)){let t=ct.producerNode[e];Xu(t,ct.producerIndexOfThis[e])}ct.producerNode[e]!==n&&(ct.producerNode[e]=n,ct.producerIndexOfThis[e]=Ba(ct)?aI(n,ct,e):0),ct.producerLastReadVersion[e]=n.version}function g1(){Up++}function Bp(n){if(!(Ba(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Up)){if(!n.producerMustRecompute(n)&&!Hp(n)){Lp(n);return}n.producerRecomputeValue(n),Lp(n)}}function oI(n){if(n.liveConsumerNode===void 0)return;let e=Qu;Qu=!0;try{for(let t of n.liveConsumerNode)t.dirty||y1(t)}finally{Qu=e}}function sI(){return ct?.consumerAllowSignalWrites!==!1}function y1(n){n.dirty=!0,oI(n),n.consumerMarkedDirty?.(n)}function Lp(n){n.dirty=!1,n.lastCleanEpoch=Up}function Ju(n){return n&&(n.nextProducerIndex=0),Re(n)}function $p(n,e){if(Re(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ba(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Xu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Hp(n){el(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Bp(t),r!==t.version))return!0}return!1}function zp(n){if(el(n),Ba(n))for(let e=0;e<n.producerNode.length;e++)Xu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function aI(n,e,t){if(cI(n),n.liveConsumerNode.length===0&&uI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=aI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Xu(n,e){if(cI(n),n.liveConsumerNode.length===1&&uI(n))for(let r=0;r<n.producerNode.length;r++)Xu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];el(i),i.producerIndexOfThis[r]=e}}function Ba(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function el(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function cI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function uI(n){return n.producerNode!==void 0}function lI(n){let e=Object.create(v1);e.computation=n;let t=()=>{if(Bp(e),Zu(e),e.value===Yu)throw e.error;return e.value};return t[Xt]=e,t}var Fp=Symbol("UNSET"),Vp=Symbol("COMPUTING"),Yu=Symbol("ERRORED"),v1=ae(V({},$a),{value:Fp,dirty:!0,error:null,equal:jp,kind:"computed",producerMustRecompute(n){return n.value===Fp||n.value===Vp},producerRecomputeValue(n){if(n.value===Vp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Vp;let t=Ju(n),r;try{r=n.computation()}catch(i){r=Yu,n.error=i}finally{$p(n,t)}if(e!==Fp&&e!==Yu&&r!==Yu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function _1(){throw new Error}var dI=_1;function hI(){dI()}function fI(n){dI=n}var w1=null;function pI(n){let e=Object.create(qp);e.value=n;let t=()=>(Zu(e),e.value);return t[Xt]=e,t}function tl(n,e){sI()||hI(),n.equal(n.value,e)||(n.value=e,E1(n))}function mI(n,e){sI()||hI(),tl(n,e(n.value))}var qp=ae(V({},$a),{equal:jp,value:void 0,kind:"signal"});function E1(n){n.version++,g1(),oI(n),w1?.()}function fe(n){return typeof n=="function"}function Oo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var nl=Oo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ha(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var tt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof nl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{gI(o)}catch(s){e=e??[],s instanceof nl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new nl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)gI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ha(t,e)}remove(e){let{_finalizers:t}=this;t&&Ha(t,e),e instanceof n&&e._removeParent(this)}};tt.EMPTY=(()=>{let n=new tt;return n.closed=!0,n})();var Wp=tt.EMPTY;function rl(n){return n instanceof tt||n&&"closed"in n&&fe(n.remove)&&fe(n.add)&&fe(n.unsubscribe)}function gI(n){fe(n)?n():n.unsubscribe()}var Cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ko={setTimeout(n,e,...t){let{delegate:r}=ko;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ko;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function il(n){ko.setTimeout(()=>{let{onUnhandledError:e}=Cn;if(e)e(n);else throw n})}function za(){}var yI=Gp("C",void 0,void 0);function vI(n){return Gp("E",void 0,n)}function _I(n){return Gp("N",n,void 0)}function Gp(n,e,t){return{kind:n,value:e,error:t}}var ki=null;function Fo(n){if(Cn.useDeprecatedSynchronousErrorHandling){let e=!ki;if(e&&(ki={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ki;if(ki=null,t)throw r}}else n()}function wI(n){Cn.useDeprecatedSynchronousErrorHandling&&ki&&(ki.errorThrown=!0,ki.error=n)}var Fi=class extends tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rl(e)&&e.add(this)):this.destination=C1}static create(e,t,r){return new Zr(e,t,r)}next(e){this.isStopped?Qp(_I(e),this):this._next(e)}error(e){this.isStopped?Qp(vI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qp(yI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},I1=Function.prototype.bind;function Kp(n,e){return I1.call(n,e)}var Yp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ol(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ol(r)}else ol(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ol(t)}}},Zr=class extends Fi{constructor(e,t,r){super();let i;if(fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kp(e.next,o),error:e.error&&Kp(e.error,o),complete:e.complete&&Kp(e.complete,o)}):i=e}this.destination=new Yp(i)}};function ol(n){Cn.useDeprecatedSynchronousErrorHandling?wI(n):il(n)}function b1(n){throw n}function Qp(n,e){let{onStoppedNotification:t}=Cn;t&&ko.setTimeout(()=>t(n,e))}var C1={closed:!0,next:za,error:b1,complete:za};var Vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function en(n){return n}function sl(...n){return Zp(n)}function Zp(n){return n.length===0?en:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=D1(t)?t:new Zr(t,r,i);return Fo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=EI(r),new r((i,o)=>{let s=new Zr({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Vo](){return this}pipe(...t){return Zp(t)(this)}toPromise(t){return t=EI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function EI(n){var e;return(e=n??Cn.Promise)!==null&&e!==void 0?e:Promise}function T1(n){return n&&fe(n.next)&&fe(n.error)&&fe(n.complete)}function D1(n){return n&&n instanceof Fi||T1(n)&&rl(n)}function Jp(n){return fe(n?.lift)}function Me(n){return e=>{if(Jp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(n,e,t,r,i){return new Xp(n,e,t,r,i)}var Xp=class extends Fi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Lo(){return Me((n,e)=>{let t=null;n._refCount++;let r=Te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var jo=class extends Ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tt;let t=this.getSubject();e.add(this.source.subscribe(Te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tt.EMPTY)}return e}refCount(){return Lo()(this)}};var II=Oo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class n extends Ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new al(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new II}next(t){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wp:(this.currentObservers=null,o.push(t),new tt(()=>{this.currentObservers=null,Ha(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ee;return t.source=this,t}}return n.create=(e,t)=>new al(e,t),n})(),al=class extends ut{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Wp}};var Ke=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var tn=new Ee(n=>n.complete());function bI(n){return n&&fe(n.schedule)}function CI(n){return n[n.length-1]}function cl(n){return fe(CI(n))?n.pop():void 0}function Jr(n){return bI(CI(n))?n.pop():void 0}function em(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function DI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function TI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vi(n){return this instanceof Vi?(this.v=n,this):new Vi(n)}function SI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(M){return Promise.resolve(M).then(y,p)}}function a(y,M){r[y]&&(i[y]=function(P){return new Promise(function(N,U){o.push([y,P,N,U])>1||u(y,P)})},M&&(i[y]=M(i[y])))}function u(y,M){try{l(r[y](M))}catch(P){g(o[0][3],P)}}function l(y){y.value instanceof Vi?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,M){y(M),o.shift(),o.length&&u(o[0][0],o[0][1])}}function AI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof TI=="function"?TI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ul=n=>n&&typeof n.length=="number"&&typeof n!="function";function ll(n){return fe(n?.then)}function dl(n){return fe(n[Vo])}function hl(n){return Symbol.asyncIterator&&fe(n?.[Symbol.asyncIterator])}function fl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function S1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pl=S1();function ml(n){return fe(n?.[pl])}function gl(n){return SI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Vi(t.read());if(i)return yield Vi(void 0);yield yield Vi(r)}}finally{t.releaseLock()}})}function yl(n){return fe(n?.getReader)}function nt(n){if(n instanceof Ee)return n;if(n!=null){if(dl(n))return A1(n);if(ul(n))return M1(n);if(ll(n))return x1(n);if(hl(n))return MI(n);if(ml(n))return R1(n);if(yl(n))return N1(n)}throw fl(n)}function A1(n){return new Ee(e=>{let t=n[Vo]();if(fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function M1(n){return new Ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function x1(n){return new Ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,il)})}function R1(n){return new Ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function MI(n){return new Ee(e=>{P1(n,e).catch(t=>e.error(t))})}function N1(n){return MI(gl(n))}function P1(n,e){var t,r,i,o;return DI(this,void 0,void 0,function*(){try{for(t=AI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Gt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function vl(n,e=0){return Me((t,r)=>{t.subscribe(Te(r,i=>Gt(r,n,()=>r.next(i),e),()=>Gt(r,n,()=>r.complete(),e),i=>Gt(r,n,()=>r.error(i),e)))})}function _l(n,e=0){return Me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function xI(n,e){return nt(n).pipe(_l(e),vl(e))}function RI(n,e){return nt(n).pipe(_l(e),vl(e))}function NI(n,e){return new Ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function PI(n,e){return new Ee(t=>{let r;return Gt(t,e,()=>{r=n[pl](),Gt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}function wl(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ee(t=>{Gt(t,e,()=>{let r=n[Symbol.asyncIterator]();Gt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function OI(n,e){return wl(gl(n),e)}function kI(n,e){if(n!=null){if(dl(n))return xI(n,e);if(ul(n))return NI(n,e);if(ll(n))return RI(n,e);if(hl(n))return wl(n,e);if(ml(n))return PI(n,e);if(yl(n))return OI(n,e)}throw fl(n)}function Be(n,e){return e?kI(n,e):nt(n)}function ie(...n){let e=Jr(n);return Be(n,e)}function Uo(n,e){let t=fe(n)?n:()=>n,r=i=>i.error(t());return new Ee(e?i=>e.schedule(r,0,i):r)}function tm(n){return!!n&&(n instanceof Ee||fe(n.lift)&&fe(n.subscribe))}var Tn=Oo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function qa(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Zr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Tn)}});n.subscribe(o)})}function ee(n,e){return Me((t,r)=>{let i=0;t.subscribe(Te(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:O1}=Array;function k1(n,e){return O1(e)?n(...e):n(e)}function El(n){return ee(e=>k1(n,e))}var{isArray:F1}=Array,{getPrototypeOf:V1,prototype:L1,keys:j1}=Object;function Il(n){if(n.length===1){let e=n[0];if(F1(e))return{args:e,keys:null};if(U1(e)){let t=j1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function U1(n){return n&&typeof n=="object"&&V1(n)===L1}function bl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Wa(...n){let e=Jr(n),t=cl(n),{args:r,keys:i}=Il(n);if(r.length===0)return Be([],e);let o=new Ee(B1(r,e,i?s=>bl(i,s):en));return t?o.pipe(El(t)):o}function B1(n,e,t=en){return r=>{FI(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)FI(e,()=>{let l=Be(n[u],e),h=!1;l.subscribe(Te(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function FI(n,e,t){n?Gt(t,n,e):e()}function VI(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?M(P):u.push(P),M=P=>{o&&e.next(P),l++;let N=!1;nt(t(P,h++)).subscribe(Te(e,U=>{i?.(U),o?y(U):e.next(U)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let U=u.shift();s?Gt(e,s,()=>M(U)):M(U)}g()}catch(U){e.error(U)}}))};return n.subscribe(Te(e,y,()=>{p=!0,g()})),()=>{a?.()}}function rt(n,e,t=1/0){return fe(e)?rt((r,i)=>ee((o,s)=>e(r,o,i,s))(nt(n(r,i))),t):(typeof e=="number"&&(t=e),Me((r,i)=>VI(r,i,n,t)))}function Bo(n=1/0){return rt(en,n)}function LI(){return Bo(1)}function $o(...n){return LI()(Be(n,Jr(n)))}function Cl(n){return new Ee(e=>{nt(n()).subscribe(e)})}function nm(...n){let e=cl(n),{args:t,keys:r}=Il(n),i=new Ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;nt(t[h]).subscribe(Te(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?bl(r,a):a),o.complete())}))}});return e?i.pipe(El(e)):i}function jt(n,e){return Me((t,r)=>{let i=0;t.subscribe(Te(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Xr(n){return Me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Te(t,void 0,void 0,s=>{o=nt(n(s,Xr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function jI(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(Te(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function fr(n,e){return fe(e)?rt(n,e,1):rt(n,1)}function ei(n){return Me((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pr(n){return n<=0?()=>tn:Me((e,t)=>{let r=0;e.subscribe(Te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Tl(n=$1){return Me((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function $1(){return new Tn}function Li(n){return Me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function mr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?jt((i,o)=>n(i,o,r)):en,pr(1),t?ei(e):Tl(()=>new Tn))}function Ho(n){return n<=0?()=>tn:Me((e,t)=>{let r=[];e.subscribe(Te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?jt((i,o)=>n(i,o,r)):en,Ho(1),t?ei(e):Tl(()=>new Tn))}function Dl(n,e){return Me(jI(n,e,arguments.length>=2,!0))}function Sl(...n){let e=Jr(n);return Me((t,r)=>{(e?$o(n,t,e):$o(n,t)).subscribe(r)})}function Kt(n,e){return Me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Te(r,u=>{i?.unsubscribe();let l=0,h=o++;nt(n(u,h)).subscribe(i=Te(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function im(n){return Me((e,t)=>{nt(n).subscribe(Te(t,()=>t.complete(),za)),!t.closed&&e.subscribe(t)})}function ft(n,e,t){let r=fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Te(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):en}var H1="https://g.co/ng/security#xss",K=class extends Error{code;constructor(e,t){super(od(e,t)),this.code=e}};function od(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var Db=Symbol("InputSignalNode#UNSET"),z1=ae(V({},qp),{transformFn:void 0,applyValueToInputSignal(n,e){tl(n,e)}});function Sb(n,e){let t=Object.create(z1);t.value=n,t.transformFn=e?.transform;function r(){if(Zu(t),t.value===Db)throw new K(-950,!1);return t.value}return r[Xt]=t,r}function ic(n){return{toString:n}.toString()}var Al="__parameters__";function q1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Ab(n,e,t){return ic(()=>{let r=q1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Al)?u[Al]:Object.defineProperty(u,Al,{value:[]})[Al];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Le(n){for(let e in n)if(n[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function W1(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Bt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Bt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function UI(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var G1=Le({__forward_ref__:Le});function $n(n){return n.__forward_ref__=$n,n.toString=function(){return Bt(this())},n}function Ut(n){return Mb(n)?n():n}function Mb(n){return typeof n=="function"&&n.hasOwnProperty(G1)&&n.__forward_ref__===$n}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Er(n){return{providers:n.providers||[],imports:n.imports||[]}}function sd(n){return BI(n,Rb)||BI(n,Nb)}function xb(n){return sd(n)!==null}function BI(n,e){return n.hasOwnProperty(e)?n[e]:null}function K1(n){let e=n&&(n[Rb]||n[Nb]);return e||null}function $I(n){return n&&(n.hasOwnProperty(HI)||n.hasOwnProperty(Q1))?n[HI]:null}var Rb=Le({\u0275prov:Le}),HI=Le({\u0275inj:Le}),Nb=Le({ngInjectableDef:Le}),Q1=Le({ngInjectorDef:Le}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Pb(n){return n&&!!n.\u0275providers}var Y1=Le({\u0275cmp:Le}),Z1=Le({\u0275dir:Le}),J1=Le({\u0275pipe:Le}),X1=Le({\u0275mod:Le}),Fl=Le({\u0275fac:Le}),Ya=Le({__NG_ELEMENT_ID__:Le}),zI=Le({__NG_ENV_ID__:Le});function Za(n){return typeof n=="string"?n:n==null?"":String(n)}function eP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Za(n)}function tP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new K(-200,n)}function cg(n,e){throw new K(-201,!1)}var ve=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ve||{}),ym;function Ob(){return ym}function dn(n){let e=ym;return ym=n,e}function kb(n,e,t){let r=sd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ve.Optional)return null;if(e!==void 0)return e;cg(n,"Injector")}var nP={},Ja=nP,vm="__NG_DI_FLAG__",Vl="ngTempTokenPath",rP="ngTokenPath",iP=/\n/gm,oP="\u0275",qI="__source",Ko;function sP(){return Ko}function ti(n){let e=Ko;return Ko=n,e}function aP(n,e=ve.Default){if(Ko===void 0)throw new K(-203,!1);return Ko===null?kb(n,void 0,e):Ko.get(n,e&ve.Optional?null:void 0,e)}function J(n,e=ve.Default){return(Ob()||aP)(Ut(n),e)}function k(n,e=ve.Default){return J(n,ad(e))}function ad(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _m(n){let e=[];for(let t=0;t<n.length;t++){let r=Ut(n[t]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],u=cP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function Fb(n,e){return n[vm]=e,n.prototype[vm]=e,n}function cP(n){return n[vm]}function uP(n,e,t,r){let i=n[Vl];throw e[qI]&&i.unshift(e[qI]),n.message=lP(`
`+n.message,i,t,r),n[rP]=i,n[Vl]=null,n}function lP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==oP?n.slice(2):n;let i=Bt(e);if(Array.isArray(e))i=e.map(Bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Bt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(iP,`
  `)}`}var Pt=Fb(Ab("Optional"),8);var ug=Fb(Ab("SkipSelf"),4);function Yo(n,e){let t=n.hasOwnProperty(Fl);return t?n[Fl]:null}function lg(n,e){n.forEach(t=>Array.isArray(t)?lg(t,e):e(t))}function Vb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ll(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function dP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function hP(n,e,t){let r=oc(n,e);return r>=0?n[r|1]=t:(r=~r,dP(n,r,e,t)),r}function om(n,e){let t=oc(n,e);if(t>=0)return n[t|1]}function oc(n,e){return fP(n,e,1)}function fP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Zo={},hn=[],Jo=new q(""),Lb=new q("",-1),jb=new q(""),jl=class{get(e,t=Ja){if(t===Ja){let r=new Error(`NullInjectorError: No provider for ${Bt(e)}!`);throw r.name="NullInjectorError",r}return t}};function Ub(n,e){let t=n[X1]||null;if(!t&&e===!0)throw new Error(`Type ${Bt(n)} does not have '\u0275mod' property.`);return t}function ii(n){return n[Y1]||null}function Bb(n){return n[Z1]||null}function $b(n){return n[J1]||null}function Hb(n){let e=ii(n)||Bb(n)||$b(n);return e!==null&&e.standalone}function Mn(n){return{\u0275providers:n}}function pP(...n){return{\u0275providers:zb(!0,n),\u0275fromNgModule:!0}}function zb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return lg(e,s=>{let a=s;wm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qb(i,o),t}function qb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];dg(i,o=>{e(o,r)})}}function wm(n,e,t,r){if(n=Ut(n),!n)return!1;let i=null,o=$I(n),s=!o&&ii(n);if(!o&&!s){let u=n.ngModule;if(o=$I(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)wm(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{lg(o.imports,h=>{wm(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&qb(l,e)}if(!a){let l=Yo(i)||(()=>new i);e({provide:i,useFactory:l,deps:hn},i),e({provide:jb,useValue:i,multi:!0},i),e({provide:Jo,useValue:()=>J(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;dg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function dg(n,e){for(let t of n)Pb(t)&&(t=t.\u0275providers),Array.isArray(t)?dg(t,e):e(t)}var mP=Le({provide:String,useValue:Le});function Wb(n){return n!==null&&typeof n=="object"&&mP in n}function gP(n){return!!(n&&n.useExisting)}function yP(n){return!!(n&&n.useFactory)}function Xo(n){return typeof n=="function"}function vP(n){return!!n.useClass}var cd=new q(""),Rl={},_P={},sm;function hg(){return sm===void 0&&(sm=new jl),sm}var Tt=class{},Xa=class extends Tt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Im(e,s=>this.processProvider(s)),this.records.set(Lb,zo(void 0,this)),i.has("environment")&&this.records.set(Tt,zo(void 0,this));let o=this.records.get(cd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jb,hn,ve.Self))}destroy(){Ka(this),this._destroyed=!0;let e=Re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Re(e)}}onDestroy(e){return Ka(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ka(this);let t=ti(this),r=dn(void 0),i;try{return e()}finally{ti(t),dn(r)}}get(e,t=Ja,r=ve.Default){if(Ka(this),e.hasOwnProperty(zI))return e[zI](this);r=ad(r);let i,o=ti(this),s=dn(void 0);try{if(!(r&ve.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=CP(e)&&sd(e);l&&this.injectableDefInScope(l)?u=zo(Em(e),Rl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ve.Self?hg():this.parent;return t=r&ve.Optional&&t===Ja?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Vl]=a[Vl]||[]).unshift(Bt(e)),o)throw a;return uP(a,e,"R3InjectorError",this.source)}else throw a}finally{dn(s),ti(o)}}resolveInjectorInitializers(){let e=Re(null),t=ti(this),r=dn(void 0),i;try{let o=this.get(Jo,hn,ve.Self);for(let s of o)s()}finally{ti(t),dn(r),Re(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Bt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ut(e);let t=Xo(e)?e:Ut(e&&e.provide),r=EP(e);if(!Xo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=zo(void 0,Rl,!0),i.factory=()=>_m(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Re(null);try{return t.value===Rl&&(t.value=_P,t.value=t.factory()),typeof t.value=="object"&&t.value&&bP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ut(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Em(n){let e=sd(n),t=e!==null?e.factory:Yo(n);if(t!==null)return t;if(n instanceof q)throw new K(204,!1);if(n instanceof Function)return wP(n);throw new K(204,!1)}function wP(n){if(n.length>0)throw new K(204,!1);let t=K1(n);return t!==null?()=>t.factory(n):()=>new n}function EP(n){if(Wb(n))return zo(void 0,n.useValue);{let e=Gb(n);return zo(e,Rl)}}function Gb(n,e,t){let r;if(Xo(n)){let i=Ut(n);return Yo(i)||Em(i)}else if(Wb(n))r=()=>Ut(n.useValue);else if(yP(n))r=()=>n.useFactory(..._m(n.deps||[]));else if(gP(n))r=()=>J(Ut(n.useExisting));else{let i=Ut(n&&(n.useClass||n.provide));if(IP(n))r=()=>new i(..._m(n.deps));else return Yo(i)||Em(i)}return r}function Ka(n){if(n.destroyed)throw new K(205,!1)}function zo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function IP(n){return!!n.deps}function bP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function CP(n){return typeof n=="function"||typeof n=="object"&&n instanceof q}function Im(n,e){for(let t of n)Array.isArray(t)?Im(t,e):t&&Pb(t)?Im(t.\u0275providers,e):e(t)}function mt(n,e){n instanceof Xa&&Ka(n);let t,r=ti(n),i=dn(void 0);try{return e()}finally{ti(r),dn(i)}}function Kb(){return Ob()!==void 0||sP()!=null}function fg(n){if(!Kb())throw new K(-203,!1)}function TP(n){return typeof n=="function"}var Ir=0,De=1,le=2,$t=3,Sn=4,xn=5,Ul=6,Bl=7,An=8,es=9,oi=10,it=11,ec=12,WI=13,us=14,jn=15,ts=16,qo=17,ns=18,ud=19,Qb=20,ni=21,am=22,$l=23,nn=24,gr=25,Yb=1;var Ui=7,Hl=8,zl=9,pn=10;function ri(n){return Array.isArray(n)&&typeof n[Yb]=="object"}function br(n){return Array.isArray(n)&&n[Yb]===!0}function pg(n){return(n.flags&4)!==0}function ld(n){return n.componentOffset>-1}function dd(n){return(n.flags&1)===1}function si(n){return!!n.template}function bm(n){return(n[le]&512)!==0}function sc(n){return(n[le]&256)===256}var Cm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Zb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ls=(()=>{let n=()=>Jb;return n.ngInherit=!0,n})();function Jb(n){return n.type.prototype.ngOnChanges&&(n.setInput=SP),DP}function DP(){let n=eC(this),e=n?.current;if(e){let t=n.previous;if(t===Zo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function SP(n,e,t,r,i){let o=this.declaredInputs[r],s=eC(n)||AP(n,{previous:Zo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Cm(l&&l.currentValue,t,u===Zo),Zb(n,e,i,t)}var Xb="__ngSimpleChanges__";function eC(n){return n[Xb]||null}function AP(n,e){return n[Xb]=e}var GI=null;var fn=function(n,e,t){GI?.(n,e,t)},MP="svg",xP="math";function Un(n){for(;Array.isArray(n);)n=n[Ir];return n}function tC(n,e){return Un(e[n])}function mn(n,e){return Un(e[n.index])}function nC(n,e){return n.data[e]}function li(n,e){let t=e[n];return ri(t)?t:t[Ir]}function mg(n){return(n[le]&128)===128}function RP(n){return br(n[$t])}function rs(n,e){return e==null?null:n[e]}function rC(n){n[qo]=0}function gg(n){n[le]&1024||(n[le]|=1024,mg(n)&&fd(n))}function NP(n,e){for(;n>0;)e=e[us],n--;return e}function hd(n){return!!(n[le]&9216||n[nn]?.dirty)}function Tm(n){n[oi].changeDetectionScheduler?.notify(9),n[le]&64&&(n[le]|=1024),hd(n)&&fd(n)}function fd(n){n[oi].changeDetectionScheduler?.notify(0);let e=Bi(n);for(;e!==null&&!(e[le]&8192||(e[le]|=8192,!mg(e)));)e=Bi(e)}function iC(n,e){if(sc(n))throw new K(911,!1);n[ni]===null&&(n[ni]=[]),n[ni].push(e)}function PP(n,e){if(n[ni]===null)return;let t=n[ni].indexOf(e);t!==-1&&n[ni].splice(t,1)}function Bi(n){let e=n[$t];return br(e)?e[$t]:e}function OP(n){return n[Bl]??=[]}function kP(n){return n.cleanup??=[]}var Ie={lFrame:fC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Dm=!1;function FP(){return Ie.lFrame.elementDepthCount}function VP(){Ie.lFrame.elementDepthCount++}function LP(){Ie.lFrame.elementDepthCount--}function oC(){return Ie.bindingsEnabled}function jP(){return Ie.skipHydrationRootTNode!==null}function UP(n){return Ie.skipHydrationRootTNode===n}function BP(){Ie.skipHydrationRootTNode=null}function $e(){return Ie.lFrame.lView}function Ht(){return Ie.lFrame.tView}function Y(n){return Ie.lFrame.contextLView=n,n[An]}function Z(n){return Ie.lFrame.contextLView=null,n}function zt(){let n=sC();for(;n!==null&&n.type===64;)n=n.parent;return n}function sC(){return Ie.lFrame.currentTNode}function $P(){let n=Ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ki(n,e){let t=Ie.lFrame;t.currentTNode=n,t.isParent=e}function yg(){return Ie.lFrame.isParent}function aC(){Ie.lFrame.isParent=!1}function cC(){return Dm}function KI(n){let e=Dm;return Dm=n,e}function HP(){return Ie.lFrame.bindingIndex}function zP(n){return Ie.lFrame.bindingIndex=n}function pd(){return Ie.lFrame.bindingIndex++}function uC(n){let e=Ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function qP(){return Ie.lFrame.inI18n}function WP(n,e){let t=Ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,Sm(e)}function GP(){return Ie.lFrame.currentDirectiveIndex}function Sm(n){Ie.lFrame.currentDirectiveIndex=n}function KP(n){let e=Ie.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function lC(n){Ie.lFrame.currentQueryIndex=n}function QP(n){let e=n[De];return e.type===2?e.declTNode:e.type===1?n[xn]:null}function dC(n,e,t){if(t&ve.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ve.Host);)if(i=QP(o),i===null||(o=o[us],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ie.lFrame=hC();return r.currentTNode=e,r.lView=n,!0}function vg(n){let e=hC(),t=n[De];Ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function hC(){let n=Ie.lFrame,e=n===null?null:n.child;return e===null?fC(n):e}function fC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function pC(){let n=Ie.lFrame;return Ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var mC=pC;function _g(){let n=pC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function YP(n){return(Ie.lFrame.contextLView=NP(n,Ie.lFrame.contextLView))[An]}function Qi(){return Ie.lFrame.selectedIndex}function $i(n){Ie.lFrame.selectedIndex=n}function wg(){let n=Ie.lFrame;return nC(n.tView,n.selectedIndex)}function ZP(){return Ie.lFrame.currentNamespace}var gC=!0;function md(){return gC}function gd(n){gC=n}function JP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Jb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function yd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Nl(n,e,t){yC(n,e,3,t)}function Pl(n,e,t,r){(n[le]&3)===t&&yC(n,e,t,r)}function cm(n,e){let t=n[le];(t&3)===e&&(t&=16383,t+=1,n[le]=t)}function yC(n,e,t,r){let i=r!==void 0?n[qo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[qo]+=65536),(a<o||o==-1)&&(XP(n,t,e,u),n[qo]=(n[qo]&4294901760)+u+2),u++}function QI(n,e){fn(4,n,e);let t=Re(null);try{e.call(n)}finally{Re(t),fn(5,n,e)}}function XP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[le]>>14<n[qo]>>16&&(n[le]&3)===e&&(n[le]+=16384,QI(a,o)):QI(a,o)}var Qo=-1,Hi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function eO(n){return n instanceof Hi}function tO(n){return(n.flags&8)!==0}function nO(n){return(n.flags&16)!==0}function Am(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];iO(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function rO(n){return n===3||n===4||n===6}function iO(n){return n.charCodeAt(0)===64}function tc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?YI(n,t,i,null,e[++r]):YI(n,t,i,null,null))}}return n}function YI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var um={},Mm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ad(r);let i=this.injector.get(e,um,r);return i!==um||t===um?i:this.parentInjector.get(e,t,r)}};function vC(n){return n!==Qo}function ql(n){return n&32767}function oO(n){return n>>16}function Wl(n,e){let t=oO(n),r=e;for(;t>0;)r=r[us],t--;return r}var xm=!0;function ZI(n){let e=xm;return xm=n,e}var sO=256,_C=sO-1,wC=5,aO=0,Ln={};function cO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ya)&&(r=t[Ya]),r==null&&(r=t[Ya]=aO++);let i=r&_C,o=1<<i;e.data[n+(i>>wC)]|=o}function Gl(n,e){let t=EC(n,e);if(t!==-1)return t;let r=e[De];r.firstCreatePass&&(n.injectorIndex=e.length,lm(r.data,n),lm(e,null),lm(r.blueprint,null));let i=Eg(n,e),o=n.injectorIndex;if(vC(i)){let s=ql(i),a=Wl(i,e),u=a[De].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function lm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function EC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Eg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=DC(i),r===null)return Qo;if(t++,i=i[us],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Qo}function Rm(n,e,t){cO(n,e,t)}function IC(n,e,t){if(t&ve.Optional||n!==void 0)return n;cg(e,"NodeInjector")}function bC(n,e,t,r){if(t&ve.Optional&&r===void 0&&(r=null),!(t&(ve.Self|ve.Host))){let i=n[es],o=dn(void 0);try{return i?i.get(e,r,t&ve.Optional):kb(e,r,t&ve.Optional)}finally{dn(o)}}return IC(r,e,t)}function CC(n,e,t,r=ve.Default,i){if(n!==null){if(e[le]&2048&&!(r&ve.Self)){let s=fO(n,e,t,r,Ln);if(s!==Ln)return s}let o=TC(n,e,t,r,Ln);if(o!==Ln)return o}return bC(e,t,r,i)}function TC(n,e,t,r,i){let o=dO(t);if(typeof o=="function"){if(!dC(e,n,r))return r&ve.Host?IC(i,t,r):bC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))cg(t);else return s}finally{mC()}}else if(typeof o=="number"){let s=null,a=EC(n,e),u=Qo,l=r&ve.Host?e[jn][xn]:null;for((a===-1||r&ve.SkipSelf)&&(u=a===-1?Eg(n,e):e[a+8],u===Qo||!XI(r,!1)?a=-1:(s=e[De],a=ql(u),e=Wl(u,e)));a!==-1;){let h=e[De];if(JI(o,a,h.data)){let p=uO(a,e,t,s,r,l);if(p!==Ln)return p}u=e[a+8],u!==Qo&&XI(r,e[De].data[a+8]===l)&&JI(o,a,e)?(s=h,a=ql(u),e=Wl(u,e)):a=-1}}return i}function uO(n,e,t,r,i,o){let s=e[De],a=s.data[n+8],u=r==null?ld(a)&&xm:r!=s&&(a.type&3)!==0,l=i&ve.Host&&o===a,h=lO(a,s,t,u,l);return h!==null?is(e,s,h,a):Ln}function lO(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let M=s[y];if(y<u&&t===M||y>=u&&M.type===t)return y}if(i){let y=s[u];if(y&&si(y)&&y.type===t)return u}return null}function is(n,e,t,r){let i=n[t],o=e.data;if(eO(i)){let s=i;s.resolving&&tP(eP(o[t]));let a=ZI(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?dn(s.injectImpl):null,h=dC(n,r,ve.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&JP(t,o[t],e)}finally{l!==null&&dn(l),ZI(a),s.resolving=!1,mC()}}return i}function dO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ya)?n[Ya]:void 0;return typeof e=="number"?e>=0?e&_C:hO:e}function JI(n,e,t){let r=1<<n;return!!(t[e+(n>>wC)]&r)}function XI(n,e){return!(n&ve.Self)&&!(n&ve.Host&&e)}var ji=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return CC(this._tNode,this._lView,e,ad(r),t)}};function hO(){return new ji(zt(),$e())}function Cr(n){return ic(()=>{let e=n.prototype.constructor,t=e[Fl]||Nm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Fl]||Nm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nm(n){return Mb(n)?()=>{let e=Nm(Ut(n));return e&&e()}:Yo(n)}function fO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[le]&2048&&!(s[le]&512);){let a=TC(o,s,t,r|ve.Self,Ln);if(a!==Ln)return a;let u=o.parent;if(!u){let l=s[Qb];if(l){let h=l.get(t,Ln,r);if(h!==Ln)return h}u=DC(s),s=s[us]}o=u}return i}function DC(n){let e=n[De],t=e.type;return t===2?e.declTNode:t===1?n[xn]:null}function eb(n,e=null,t=null,r){let i=SC(n,e,t,r);return i.resolveInjectorInitializers(),i}function SC(n,e=null,t=null,r,i=new Set){let o=[t||hn,pP(n)];return r=r||(typeof n=="object"?void 0:Bt(n)),new Xa(o,e||hg(),r||null,i)}var et=class n{static THROW_IF_NOT_FOUND=Ja;static NULL=new jl;static create(e,t){if(Array.isArray(e))return eb({name:""},t,e,"");{let r=e.name??"";return eb({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:n,providedIn:"any",factory:()=>J(Lb)});static __NG_ELEMENT_ID__=-1};var pO=new q("");pO.__NG_ELEMENT_ID__=n=>{let e=zt();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(n&ve.Optional)return null;throw new K(204,!1)};var AC=!1,vd=(()=>{class n{static __NG_ELEMENT_ID__=mO;static __NG_ENV_ID__=t=>t}return n})(),Pm=class extends vd{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return iC(this._lView,e),()=>PP(this._lView,e)}};function mO(){return new Pm($e())}var zi=class{},Ig=new q("",{providedIn:"root",factory:()=>!1});var MC=new q(""),xC=new q(""),Tr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ke(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),_d=(()=>{class n{internalPendingTasks=k(Tr);scheduler=k(zi);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(t))}}run(t){return v(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),Om=class extends ut{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Kb()&&(this.destroyRef=k(vd,{optional:!0})??void 0,this.pendingTasks=k(Tr,{optional:!0})??void 0)}emit(e){let t=Re(null);try{super.next(e)}finally{Re(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof tt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},pt=Om;function Kl(...n){}function RC(n){let e,t;function r(){n=Kl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function tb(n){return queueMicrotask(()=>n()),()=>{n=Kl}}var bg="isAngularZone",Ql=bg+"_ID",gO=0,Oe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pt(!1);onMicrotaskEmpty=new pt(!1);onStable=new pt(!1);onError=new pt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=AC}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,_O(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,yO,Kl,Kl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},yO={};function Cg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){RC(()=>{n.callbackScheduled=!1,km(n),n.isCheckStableRunning=!0,Cg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),km(n)}function _O(n){let e=()=>{vO(n)},t=gO++;n._inner=n._inner.fork({name:"angular",properties:{[bg]:!0,[Ql]:t,[Ql+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(wO(u))return r.invokeTask(o,s,a,u);try{return nb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),rb(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return nb(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!EO(u)&&e(),rb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,km(n),Cg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function km(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function nb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rb(n){n._nesting--,Cg(n)}var Fm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pt;onMicrotaskEmpty=new pt;onStable=new pt;onError=new pt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function wO(n){return NC(n,"__ignore_ng_zone__")}function EO(n){return NC(n,"__scheduler_tick__")}function NC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var yr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},IO=new q("",{providedIn:"root",factory:()=>{let n=k(Oe),e=k(yr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function ib(n,e){return Sb(n,e)}function bO(n){return Sb(Db,n)}var PC=(ib.required=bO,ib);function CO(){return wd(zt(),$e())}function wd(n,e){return new Hn(mn(n,e))}var Hn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=CO}return n})();var ob=new Set;function ds(n){ob.has(n)||(ob.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function TO(n){return typeof n=="function"&&n[Xt]!==void 0}function hs(n,e){ds("NgSignals");let t=pI(n),r=t[Xt];return e?.equal&&(r.equal=e.equal),t.set=i=>tl(r,i),t.update=i=>mI(r,i),t.asReadonly=DO.bind(t),t}function DO(){let n=this[Xt];if(n.readonlyFn===void 0){let e=()=>this();e[Xt]=n,n.readonlyFn=e}return n.readonlyFn}function OC(n){return TO(n)&&typeof n.set=="function"}function kC(n){return(n.flags&128)===128}var FC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(FC||{}),VC=new Map,SO=0;function AO(){return SO++}function MO(n){VC.set(n[ud],n)}function Vm(n){VC.delete(n[ud])}var sb="__ngContext__";function ai(n,e){ri(e)?(n[sb]=e[ud],MO(e)):n[sb]=e}function LC(n){return UC(n[ec])}function jC(n){return UC(n[Sn])}function UC(n){for(;n!==null&&!br(n);)n=n[Sn];return n}var Lm;function BC(n){Lm=n}function xO(){if(Lm!==void 0)return Lm;if(typeof document<"u")return document;throw new K(210,!1)}var Tg=new q("",{providedIn:"root",factory:()=>RO}),RO="ng",Dg=new q(""),zn=new q("",{providedIn:"platform",factory:()=>"unknown"});var Sg=new q("",{providedIn:"root",factory:()=>xO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var NO="h",PO="b";var $C=!1,OO=new q("",{providedIn:"root",factory:()=>$C});var Ag=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Ag||{}),fs=new q("");var Wo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Wo||{}),HC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),kO=[Wo.EarlyRead,Wo.Write,Wo.MixedReadWrite,Wo.Read],FO=(()=>{class n{ngZone=k(Oe);scheduler=k(zi);errorHandler=k(yr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){k(fs,{optional:!0})}execute(){this.executing=!0;for(let t of kO)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[t]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[t](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(7))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Ag.AFTER_NEXT_RENDER,t):t()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),jm=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o=null){this.impl=e,this.hooks=t,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Mg(n,e){!e?.injector&&fg(Mg);let t=e?.injector??k(et);return ds("NgAfterNextRender"),LO(n,t,e,!0)}function VO(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function LO(n,e,t,r){let i=e.get(HC);i.impl??=e.get(FO);let o=e.get(fs,null,{optional:!0}),s=t?.phase??Wo.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(vd):null,u=new jm(i.impl,VO(n,s),r,a,o?.snapshot(null));return i.impl.register(u),u}var jO=()=>null;function xg(n,e,t=!1){return jO(n,e,t)}function zC(n,e){let t=n.contentQueries;if(t!==null){let r=Re(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];lC(o),a.contentQueries(2,e[s],s)}}}finally{Re(r)}}}function Um(n,e,t){lC(0);let r=Re(null);try{e(n,t)}finally{Re(r)}}function Rg(n,e,t){if(pg(e)){let r=Re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Re(r)}}}var Bn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Bn||{});var Bm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${H1})`}};function Ng(n){return n instanceof Bm?n.changingThisBreaksApplicationSecurity:n}var UO=/^>|^->|<!--|-->|--!>|<!-$/g,BO=/(<|>)/g,$O="\u200B$1\u200B";function HO(n){return n.replace(UO,e=>e.replace(BO,$O))}function qC(n){return n instanceof Function?n():n}var ci=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ci||{}),vr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(vr||{}),zO;function Pg(n,e){return zO(n,e)}function Go(n,e,t,r,i){if(r!=null){let o,s=!1;br(r)?o=r:ri(r)&&(s=!0,r=r[Ir]);let a=Un(r);n===0&&t!==null?i==null?YC(e,t,a):Yl(e,t,a,i||null,!0):n===1&&t!==null?Yl(e,t,a,i||null,!0):n===2?sk(e,a,s):n===3&&e.destroyNode(a),o!=null&&ck(e,n,o,t,i)}}function qO(n,e){return n.createText(e)}function WO(n,e,t){n.setValue(e,t)}function GO(n,e){return n.createComment(HO(e))}function WC(n,e,t){return n.createElement(e,t)}function KO(n,e){GC(n,e),e[Ir]=null,e[xn]=null}function QO(n,e,t,r,i,o){r[Ir]=i,r[xn]=e,Id(n,r,t,1,i,o)}function GC(n,e){e[oi].changeDetectionScheduler?.notify(10),Id(n,e,e[it],2,null,null)}function YO(n){let e=n[ec];if(!e)return dm(n[De],n);for(;e;){let t=null;if(ri(e))t=e[ec];else{let r=e[pn];r&&(t=r)}if(!t){for(;e&&!e[Sn]&&e!==n;)ri(e)&&dm(e[De],e),e=e[$t];e===null&&(e=n),ri(e)&&dm(e[De],e),t=e&&e[Sn]}e=t}}function ZO(n,e,t,r){let i=pn+r,o=t.length;r>0&&(t[i-1][Sn]=e),r<o-pn?(e[Sn]=t[i],Vb(t,pn+r,e)):(t.push(e),e[Sn]=null),e[$t]=t;let s=e[ts];s!==null&&t!==s&&KC(s,e);let a=e[ns];a!==null&&a.insertView(n),Tm(e),e[le]|=128}function KC(n,e){let t=n[zl],r=e[$t];if(ri(r))n[le]|=2;else{let i=r[$t][jn];e[jn]!==i&&(n[le]|=2)}t===null?n[zl]=[e]:t.push(e)}function Og(n,e){let t=n[zl],r=t.indexOf(e);t.splice(r,1)}function $m(n,e){if(n.length<=pn)return;let t=pn+e,r=n[t];if(r){let i=r[ts];i!==null&&i!==n&&Og(i,r),e>0&&(n[t-1][Sn]=r[Sn]);let o=Ll(n,pn+e);KO(r[De],r);let s=o[ns];s!==null&&s.detachView(o[De]),r[$t]=null,r[Sn]=null,r[le]&=-129}return r}function QC(n,e){if(sc(e))return;let t=e[it];t.destroyNode&&Id(n,e,t,3,null,null),YO(e)}function dm(n,e){if(sc(e))return;let t=Re(null);try{e[le]&=-129,e[le]|=256,e[nn]&&zp(e[nn]),XO(n,e),JO(n,e),e[De].type===1&&e[it].destroy();let r=e[ts];if(r!==null&&br(e[$t])){r!==e[$t]&&Og(r,e);let i=e[ns];i!==null&&i.detachView(n)}Vm(e)}finally{Re(t)}}function JO(n,e){let t=n.cleanup,r=e[Bl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Bl]=null);let i=e[ni];if(i!==null){e[ni]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[$l];if(o!==null){e[$l]=null;for(let s of o)s.destroy()}}function XO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Hi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];fn(4,a,u);try{u.call(a)}finally{fn(5,a,u)}}else{fn(4,i,o);try{o.call(i)}finally{fn(5,i,o)}}}}}function ek(n,e,t){return tk(n,e.parent,t)}function tk(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ir];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Bn.None||o===Bn.Emulated)return null}return mn(r,t)}}function Yl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function YC(n,e,t){n.appendChild(e,t)}function ab(n,e,t,r,i){r!==null?Yl(n,e,t,r,i):YC(n,e,t)}function ZC(n,e){return n.parentNode(e)}function nk(n,e){return n.nextSibling(e)}function rk(n,e,t){return ok(n,e,t)}function ik(n,e,t){return n.type&40?mn(n,t):null}var ok=ik,cb;function Ed(n,e,t,r){let i=ek(n,r,e),o=e[it],s=r.parent||e[xn],a=rk(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)ab(o,i,t[u],a,!1);else ab(o,i,t,a,!1);cb!==void 0&&cb(o,r,e,t,i)}function Qa(n,e){if(e!==null){let t=e.type;if(t&3)return mn(e,n);if(t&4)return Hm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Qa(n,r);{let i=n[e.index];return br(i)?Hm(-1,i):Un(i)}}else{if(t&128)return Qa(n,e.next);if(t&32)return Pg(e,n)()||Un(n[e.index]);{let r=JC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Bi(n[jn]);return Qa(i,r)}else return Qa(n,e.next)}}}return null}function JC(n,e){if(e!==null){let r=n[jn][xn],i=e.projection;return r.projection[i]}return null}function Hm(n,e){let t=pn+n+1;if(t<e.length){let r=e[t],i=r[De].firstChild;if(i!==null)return Qa(r,i)}return e[Ui]}function sk(n,e,t){n.removeChild(null,e,t)}function kg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&ai(Un(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)kg(n,e,t.child,r,i,o,!1),Go(e,n,i,a,o);else if(u&32){let l=Pg(t,r),h;for(;h=l();)Go(e,n,i,h,o);Go(e,n,i,a,o)}else u&16?ak(n,e,r,t,i,o):Go(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Id(n,e,t,r,i,o){kg(t,r,n.firstChild,e,i,o,!1)}function ak(n,e,t,r,i,o){let s=t[jn],u=s[xn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Go(e,n,i,h,o)}else{let l=u,h=s[$t];kC(r)&&(l.flags|=128),kg(n,e,l,h,i,o,!0)}}function ck(n,e,t,r,i){let o=t[Ui],s=Un(t);o!==s&&Go(e,n,r,o,i);for(let a=pn;a<t.length;a++){let u=t[a];Id(u[De],u,n,e,r,o)}}function uk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:vr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=vr.Important),n.setStyle(t,r,i,o))}}function lk(n,e,t){n.setAttribute(e,"style",t)}function XC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Am(n,e,r),i!==null&&XC(n,e,i),o!==null&&lk(n,e,o)}function dk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var tT="ng-template";function hk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&dk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Fg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Fg(n){return n.type===4&&n.value!==tT}function fk(n,e,t){let r=n.type===4&&!t?tT:n.value;return e===r}function pk(n,e,t){let r=4,i=n.attrs,o=i!==null?yk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Dn(r)&&!Dn(u))return!1;if(s&&Dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!fk(n,u,t)||u===""&&e.length===1){if(Dn(r))return!1;s=!0}}else if(r&8){if(i===null||!hk(n,i,u,t)){if(Dn(r))return!1;s=!0}}else{let l=e[++a],h=mk(u,i,Fg(n),t);if(h===-1){if(Dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Dn(r))return!1;s=!0}}}}return Dn(r)||s}function Dn(n){return(n&1)===0}function mk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return vk(e,n)}function gk(n,e,t=!1){for(let r=0;r<e.length;r++)if(pk(n,e[r],t))return!0;return!1}function yk(n){for(let e=0;e<n.length;e++){let t=n[e];if(rO(t))return e}return n.length}function vk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function ub(n,e){return n?":not("+e.trim()+")":e}function _k(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dn(s)&&(e+=ub(o,i),i=""),r=s,o=o||!Dn(r);t++}return i!==""&&(e+=ub(o,i)),e}function wk(n){return n.map(_k).join(",")}function Ek(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Dn(i))break;i=o}r++}return{attrs:e,classes:t}}var di={};function O(n=1){nT(Ht(),$e(),Qi()+n,!1)}function nT(n,e,t,r){if(!r)if((e[le]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Nl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Pl(e,o,0,t)}$i(t)}function B(n,e=ve.Default){let t=$e();if(t===null)return J(n,e);let r=zt();return CC(r,t,Ut(n),e)}function rT(){let n="invalid";throw new Error(n)}function iT(n,e,t,r,i,o){let s=Re(null);try{let a=null;i&ci.SignalBased&&(a=e[r][Xt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ci.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):Zb(e,a,r,o)}finally{Re(s)}}function bd(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Ir]=i,p[le]=r|4|128|8|64|1024,(l!==null||n&&n[le]&2048)&&(p[le]|=2048),rC(p),p[$t]=p[us]=n,p[An]=t,p[oi]=s||n&&n[oi],p[it]=a||n&&n[it],p[es]=u||n&&n[es]||null,p[xn]=o,p[ud]=AO(),p[Ul]=h,p[Qb]=l,p[jn]=e.type==2?n[jn]:p,p}function ac(n,e,t,r,i){let o=n.data[e];if(o===null)o=Ik(n,e,t,r,i),qP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=$P();o.injectorIndex=s===null?-1:s.injectorIndex}return Ki(o,!0),o}function Ik(n,e,t,r,i){let o=sC(),s=yg(),a=s?o:o&&o.parent,u=n.data[e]=Sk(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function oT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function sT(n,e,t,r,i){let o=Qi(),s=r&2;try{$i(-1),s&&e.length>gr&&nT(n,e,gr,!1),fn(s?2:0,i),t(r,i)}finally{$i(o),fn(s?3:1,i)}}function Vg(n,e,t){oC()&&(Pk(n,e,t,mn(t,e)),(t.flags&64)===64&&lT(n,e,t))}function Lg(n,e,t=mn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function aT(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=jg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function jg(n,e,t,r,i,o,s,a,u,l,h){let p=gr+r,g=p+i,y=bk(p,g),M=typeof l=="function"?l():l;return y[De]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:h}}function bk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:di);return t}function Ck(n,e,t,r){let o=r.get(OO,$C)||t===Bn.ShadowDom,s=n.selectRootElement(e,o);return Tk(s),s}function Tk(n){Dk(n)}var Dk=()=>null;function Sk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return jP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function lb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ci.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?db(r,t,l,a,u):db(r,t,l,a)}return r}function db(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function Ak(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=t?t.get(p):null,y=g?g.inputs:null,M=g?g.outputs:null;u=lb(0,p.inputs,h,u,y),l=lb(1,p.outputs,h,l,M);let P=u!==null&&s!==null&&!Fg(e)?zk(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Mk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function cT(n,e,t,r,i,o,s,a){let u=mn(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Bg(n,t,h,r,i),ld(e)&&xk(t,e.index)):e.type&3?(r=Mk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function xk(n,e){let t=li(e,n);t[le]&16||(t[le]|=64)}function Ug(n,e,t,r){if(oC()){let i=r===null?null:{"":-1},o=kk(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&uT(n,e,t,s,i,a),i&&Fk(t,r,i)}t.mergedAttrs=tc(t.mergedAttrs,t.attrs)}function uT(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Rm(Gl(t,e),n,r[l].type);Lk(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=oT(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=tc(t.mergedAttrs,h.hostAttrs),jk(n,t,e,u,h),Vk(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}Ak(n,t,o)}function Rk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Nk(s)!=a&&s.push(a),s.push(t,r,o)}}function Nk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Pk(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;ld(t)&&Uk(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Gl(t,e),ai(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=is(e,n,a,t);if(ai(l,e),s!==null&&Hk(e,a-i,l,u,t,s),si(u)){let h=li(t.index,e);h[An]=is(e,n,a,t)}}}function lT(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=GP();try{$i(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Sm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ok(u,l)}}finally{$i(-1),Sm(s)}}function Ok(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function kk(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(gk(e,s.selectors,!1))if(r||(r=[]),si(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;zm(n,e,u)}else r.unshift(s),zm(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function zm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Fk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}}function Vk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;si(e)&&(t[""]=n)}}function Lk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function jk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Yo(i.type,!0)),s=new Hi(o,si(i),B);n.blueprint[r]=s,t[r]=s,Rk(n,e,r,oT(n,t,i.hostVars,di),i)}function dT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Uk(n,e,t){let r=mn(e,n),i=aT(t),o=n[oi].rendererFactory,s=Cd(n,bd(n,i,null,dT(t),r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=s}function Bk(n,e,t,r,i,o){let s=mn(n,e);$k(e[it],s,o,n.value,t,r,i)}function $k(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Za(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Hk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];iT(r,t,u,l,h,p)}}function zk(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function hT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Cd(n,e){return n[ec]?n[WI][Sn]=e:n[ec]=e,n[WI]=e,e}function fT(n,e){let t=n[es],r=t?t.get(yr,null):null;r&&r.handleError(e)}function Bg(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];iT(h,l,r,a,u,i)}}function qk(n,e){let t=li(e,n),r=t[De];Wk(r,t);let i=t[Ir];i!==null&&t[Ul]===null&&(t[Ul]=xg(i,t[es])),$g(r,t,t[An])}function Wk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function $g(n,e,t){vg(e);try{let r=n.viewQuery;r!==null&&Um(1,r,t);let i=n.template;i!==null&&sT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ns]?.finishViewCreation(n),n.staticContentQueries&&zC(n,e),n.staticViewQueries&&Um(2,n.viewQuery,t);let o=n.components;o!==null&&Gk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[le]&=-5,_g()}}function Gk(n,e){for(let t=0;t<e.length;t++)qk(n,e[t])}function Kk(n,e,t,r){let i=Re(null);try{let o=e.tView,a=n[le]&4096?4096:16,u=bd(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ts]=l;let h=n[ns];return h!==null&&(u[ns]=h.createEmbeddedView(o)),$g(o,u,t),u}finally{Re(i)}}function hb(n,e){return!e||e.firstChild===null||kC(n)}function Qk(n,e,t,r=!0){let i=e[De];if(ZO(i,e,n,t),r){let s=Hm(t,n),a=e[it],u=ZC(a,n[Ui]);u!==null&&QO(i,n[xn],a,e,u,s)}let o=e[Ul];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Zl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Un(o)),br(o)&&Yk(o,r);let s=t.type;if(s&8)Zl(n,e,t.child,r);else if(s&32){let a=Pg(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=JC(e,t);if(Array.isArray(a))r.push(...a);else{let u=Bi(e[jn]);Zl(u[De],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Yk(n,e){for(let t=pn;t<n.length;t++){let r=n[t],i=r[De].firstChild;i!==null&&Zl(r[De],r,i,e)}n[Ui]!==n[Ir]&&e.push(n[Ui])}var pT=[];function Zk(n){return n[nn]??Jk(n)}function Jk(n){let e=pT.pop()??Object.create(eF);return e.lView=n,e}function Xk(n){n.lView[nn]!==n&&(n.lView=null,pT.push(n))}var eF=ae(V({},$a),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{fd(n.lView)},consumerOnSignalRead(){this.lView[nn]=this}});function tF(n){let e=n[nn]??Object.create(nF);return e.lView=n,e}var nF=ae(V({},$a),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Bi(n.lView);for(;e&&!mT(e[De]);)e=Bi(e);e&&gg(e)},consumerOnSignalRead(){this.lView[nn]=this}});function mT(n){return n.type!==2}function gT(n){if(n[$l]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[$l])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[le]&8192)}}var rF=100;function yT(n,e=!0,t=0){let i=n[oi].rendererFactory,o=!1;o||i.begin?.();try{iF(n,t)}catch(s){throw e&&fT(n,s),s}finally{o||i.end?.()}}function iF(n,e){let t=cC();try{KI(!0),qm(n,e);let r=0;for(;hd(n);){if(r===rF)throw new K(103,!1);r++,qm(n,1)}}finally{KI(t)}}function oF(n,e,t,r){if(sc(e))return;let i=e[le],o=!1,s=!1;vg(e);let a=!0,u=null,l=null;o||(mT(n)?(l=Zk(e),u=Ju(l)):iI()===null?(a=!1,l=tF(e),u=Ju(l)):e[nn]&&(zp(e[nn]),e[nn]=null));try{rC(e),zP(n.bindingStartIndex),t!==null&&sT(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Nl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Pl(e,y,0,null),cm(e,0)}if(s||sF(e),gT(e),vT(e,0),n.contentQueries!==null&&zC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Nl(e,y)}else{let y=n.contentHooks;y!==null&&Pl(e,y,1),cm(e,1)}cF(n,e);let p=n.components;p!==null&&wT(e,p,0);let g=n.viewQuery;if(g!==null&&Um(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Nl(e,y)}else{let y=n.viewHooks;y!==null&&Pl(e,y,2),cm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[am]){for(let y of e[am])y();e[am]=null}o||(e[le]&=-73)}catch(h){throw o||fd(e),h}finally{l!==null&&($p(l,u),a&&Xk(l)),_g()}}function vT(n,e){for(let t=LC(n);t!==null;t=jC(t))for(let r=pn;r<t.length;r++){let i=t[r];_T(i,e)}}function sF(n){for(let e=LC(n);e!==null;e=jC(e)){if(!(e[le]&2))continue;let t=e[zl];for(let r=0;r<t.length;r++){let i=t[r];gg(i)}}}function aF(n,e,t){let r=li(e,n);_T(r,t)}function _T(n,e){mg(n)&&qm(n,e)}function qm(n,e){let r=n[De],i=n[le],o=n[nn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Hp(o)),s||=!1,o&&(o.dirty=!1),n[le]&=-9217,s)oF(r,n,r.template,n[An]);else if(i&8192){gT(n),vT(n,1);let a=r.components;a!==null&&wT(n,a,1)}}function wT(n,e,t){for(let r=0;r<e.length;r++)aF(n,e[r],t)}function cF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)$i(~i);else{let o=i,s=t[++r],a=t[++r];WP(s,o);let u=e[o];fn(24,u),a(2,u),fn(25,u)}}}finally{$i(-1)}}function Hg(n,e){let t=cC()?64:1088;for(n[oi].changeDetectionScheduler?.notify(e);n;){n[le]|=t;let r=Bi(n);if(bm(n)&&!r)return n;n=r}return null}var qi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[De];return Zl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[An]}get dirty(){return!!(this._lView[le]&9280)||!!this._lView[nn]?.dirty}set context(e){this._lView[An]=e}get destroyed(){return sc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[$t];if(br(e)){let t=e[Hl],r=t?t.indexOf(this):-1;r>-1&&($m(e,r),Ll(t,r))}this._attachedToViewContainer=!1}QC(this._lView[De],this._lView)}onDestroy(e){iC(this._lView,e)}markForCheck(){Hg(this._cdRefInjectingView||this._lView,4)}markForRefresh(){gg(this._cdRefInjectingView||this._lView)}detach(){this._lView[le]&=-129}reattach(){Tm(this._lView),this._lView[le]|=128}detectChanges(){this._lView[le]|=1024,yT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bm(this._lView),t=this._lView[ts];t!==null&&!e&&Og(t,this._lView),GC(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let t=bm(this._lView),r=this._lView[ts];r!==null&&!t&&KC(r,this._lView),Tm(this._lView)}},Td=(()=>{class n{static __NG_ELEMENT_ID__=dF}return n})(),uF=Td,lF=class extends uF{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Kk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new qi(i)}};function dF(){return hF(zt(),$e())}function hF(n,e){return n.type&4?new lF(e,n,wd(n,e)):null}var kG=new RegExp(`^(\\d+)*(${PO}|${NO})*(.*)`);var fF=()=>null;function fb(n,e){return fF(n,e)}var Wm=class{},Jl=class{},Gm=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Bt(e)}.`)}},os=class{static NULL=new Gm},ss=class{},Dr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>pF()}return n})();function pF(){let n=$e(),e=zt(),t=li(e.index,n);return(ri(t)?t:n)[it]}var mF=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>null})}return n})();function Xl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=UI(i,a);else if(o==2){let u=a,l=e[++s];r=UI(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var ed=class extends os{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ii(e);return new as(t,this.ngModule)}};function pb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ci.None;e?t.push({propName:s,templateName:r,isSignal:(a&ci.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function gF(n){let e=n.toLowerCase();return e==="svg"?MP:e==="math"?xP:null}var as=class extends Jl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,t=e.inputTransforms,r=pb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return pb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=wk(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Re(null);try{i=i||this.ngModule;let s=i instanceof Tt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Mm(e,s):e,u=a.get(ss,null);if(u===null)throw new K(407,!1);let l=a.get(mF,null),h=a.get(zi,null),p={rendererFactory:u,sanitizer:l,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",M=r?Ck(g,r,this.componentDef.encapsulation,a):WC(g,y,gF(y)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let N=null;M!==null&&(N=xg(M,a,!0));let U=jg(0,null,null,1,0,null,null,null,null,null,null),W=bd(null,U,null,P,null,null,p,g,a,null,N);vg(W);let H,he,qe=null;try{let ce=this.componentDef,T,E=null;ce.findHostDirectiveDefs?(T=[],E=new Map,ce.findHostDirectiveDefs(ce,T,E),T.push(ce)):T=[ce];let I=yF(W,M);qe=vF(I,M,ce,T,W,p,g),he=nC(U,gr),M&&EF(g,ce,M,r),t!==void 0&&IF(he,this.ngContentSelectors,t),H=wF(qe,ce,T,E,W,[bF]),$g(U,W,null)}catch(ce){throw qe!==null&&Vm(qe),Vm(W),ce}finally{_g()}return new Km(this.componentType,H,wd(he,W),W,he)}finally{Re(o)}}},Km=class extends Wm{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new qi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Bg(o[De],o,i,e,t),this.previousInputValues.set(e,t);let s=li(this._tNode.index,o);Hg(s,1)}}get injector(){return new ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yF(n,e){let t=n[De],r=gr;return n[r]=e,ac(t,r,2,"#host",null)}function vF(n,e,t,r,i,o,s){let a=i[De];_F(r,n,e,s);let u=null;e!==null&&(u=xg(e,i[es]));let l=o.rendererFactory.createRenderer(e,t),h=bd(i,aT(t),null,dT(t),i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&zm(a,n,r.length-1),Cd(i,h),i[n.index]=h}function _F(n,e,t,r){for(let i of n)e.mergedAttrs=tc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Xl(e,e.mergedAttrs,!0),t!==null&&eT(r,t,e))}function wF(n,e,t,r,i,o){let s=zt(),a=i[De],u=mn(s,i);uT(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,g=is(i,a,p,s);ai(g,i)}lT(a,i,s),u&&ai(u,i);let l=is(i,a,s.directiveStart+s.componentOffset,s);if(n[An]=i[An]=l,o!==null)for(let h of o)h(l,e);return Rg(a,s,i),l}function EF(n,e,t,r){if(r)Am(n,t,["ng-version","19.1.1"]);else{let{attrs:i,classes:o}=Ek(e.selectors[0]);i&&Am(n,t,i),o&&o.length>0&&XC(n,t,o.join(" "))}}function IF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}function bF(){let n=zt();yd($e()[De],n)}var ps=(()=>{class n{static __NG_ELEMENT_ID__=CF}return n})();function CF(){let n=zt();return DF(n,$e())}var TF=ps,ET=class extends TF{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wd(this._hostTNode,this._hostLView)}get injector(){return new ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=Eg(this._hostTNode,this._hostLView);if(vC(e)){let t=Wl(e,this._hostLView),r=ql(e),i=t[De].data[r+8];return new ji(i,t)}else return new ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=mb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=fb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,hb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!TP(e),a;if(s)a=t;else{let M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new as(ii(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Tt,null);P&&(o=P)}let h=ii(u.componentType??{}),p=fb(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,o);return this.insertImpl(y.hostView,a,hb(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(RP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[$t],l=new ET(u,u[xn],u[$t]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Qk(s,i,o,r),e.attachToViewContainerRef(),Vb(hm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=mb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=$m(this._lContainer,t);r&&(Ll(hm(this._lContainer),t),QC(r[De],r))}detach(e){let t=this._adjustIndex(e,-1),r=$m(this._lContainer,t);return r&&Ll(hm(this._lContainer),t)!=null?new qi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function mb(n){return n[Hl]}function hm(n){return n[Hl]||(n[Hl]=[])}function DF(n,e){let t,r=e[n.index];return br(r)?t=r:(t=hT(r,e,null,n),e[n.index]=t,Cd(e,t)),AF(t,e,n,r),new ET(t,n,e)}function SF(n,e){let t=n[it],r=t.createComment(""),i=mn(e,n),o=ZC(t,i);return Yl(t,o,r,nk(t,i),!1),r}var AF=RF,MF=()=>!1;function xF(n,e,t){return MF(n,e,t)}function RF(n,e,t,r){if(n[Ui])return;let i;t.type&8?i=Un(r):i=SF(e,t),n[Ui]=i}var ui=class{},nc=class{};var Qm=class extends ui{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ed(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Ub(e);this._bootstrapComponents=qC(o.bootstrap),this._r3Injector=SC(e,t,[{provide:ui,useValue:this},{provide:os,useValue:this.componentFactoryResolver},...r],Bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ym=class extends nc{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Qm(this.moduleType,e,[])}};var td=class extends ui{injector;componentFactoryResolver=new ed(this);instance=null;constructor(e){super();let t=new Xa([...e.providers,{provide:ui,useValue:this},{provide:os,useValue:this.componentFactoryResolver}],e.parent||hg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Dd(n,e,t=null){return new td({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var NF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=zb(!1,t.type),i=r.length>0?Dd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(J(Tt))})}return n})();function Pe(n){return ic(()=>{let e=IT(n),t=ae(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===FC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(NF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Bn.Emulated,styles:n.styles||hn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ds("NgStandalone"),bT(t);let r=n.dependencies;return t.directiveDefs=yb(r,!1),t.pipeDefs=yb(r,!0),t.id=kF(t),t})}function PF(n){return ii(n)||Bb(n)}function OF(n){return n!==null}function Sr(n){return ic(()=>({type:n.type,bootstrap:n.bootstrap||hn,declarations:n.declarations||hn,imports:n.imports||hn,exports:n.exports||hn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gb(n,e){if(n==null)return Zo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=ci.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==ci.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Qe(n){return ic(()=>{let e=IT(n);return bT(e),e})}function IT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Zo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||hn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gb(n.inputs,e),outputs:gb(n.outputs),debugInfo:null}}function bT(n){n.features?.forEach(e=>e(n))}function yb(n,e){if(!n)return null;let t=e?$b:PF;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(OF)}function kF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function FF(n){return Object.getPrototypeOf(n.prototype).constructor}function gn(n){let e=FF(n.type),t=!0,r=[n];for(;e;){let i;if(si(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Ml(n.inputs),s.inputTransforms=Ml(n.inputTransforms),s.declaredInputs=Ml(n.declaredInputs),s.outputs=Ml(n.outputs);let a=i.hostBindings;a&&BF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&jF(n,u),l&&UF(n,l),VF(n,i),W1(n.outputs,i.outputs),si(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===gn&&(t=!1)}}e=Object.getPrototypeOf(e)}LF(r)}function VF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function LF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=tc(i.hostAttrs,t=tc(t,i.hostAttrs))}}function Ml(n){return n===Zo?{}:n===hn?[]:n}function jF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function UF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function BF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function CT(n){return HF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function $F(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function HF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Wi(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function zF(n,e,t,r){let i=Wi(n,e,t);return Wi(n,e+1,r)||i}function qF(n){return(n.flags&32)===32}function WF(n,e,t,r,i,o,s,a,u){let l=e.consts,h=ac(e,n,4,s||null,a||null);Ug(e,t,h,rs(l,u)),yd(e,h);let p=h.tView=jg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function GF(n,e,t,r,i,o,s,a,u,l){let h=t+gr,p=e.firstCreatePass?WF(h,e,n,r,i,o,s,a,u):e.data[h];Ki(p,!1);let g=KF(e,n,p,t);md()&&Ed(e,n,g,p),ai(g,n);let y=hT(g,n,g,p);return n[h]=y,Cd(n,y),xF(y,p,n),dd(p)&&Vg(e,n,p),u!=null&&Lg(n,p,l),p}function be(n,e,t,r,i,o,s,a){let u=$e(),l=Ht(),h=rs(l.consts,o);return GF(u,l,n,e,t,r,i,h,s,a),be}var KF=QF;function QF(n,e,t,r){return gd(!0),e[it].createComment("")}var zg=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var TT=new q("");function Yi(n){return!!n&&typeof n.then=="function"}function DT(n){return!!n&&typeof n.subscribe=="function"}var Sd=new q("");var ST=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=k(Sd,{optional:!0})??[];injector=k(et);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=mt(this.injector,i);if(Yi(o))t.push(o);else if(DT(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YF=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new Zm})}return n})(),Zm=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},cc=new q("");function ZF(){fI(()=>{throw new K(600,!1)})}function JF(n){return n.isBoundToModule}var XF=10;function eV(n,e,t){try{let r=t();return Yi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var _r=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=k(IO);afterRenderManager=k(HC);zonelessEnabled=k(Ig);rootEffectScheduler=k(YF);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ut;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=k(Tr).hasPendingTasks.pipe(ee(t=>!t));constructor(){k(fs,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=k(Tt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Jl;if(!this._injector.get(ST).done){let g=!i&&Hb(t),y=!1;throw new K(405,y)}let s;i?s=t:s=this._injector.get(os).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=JF(s)?void 0:this._injector.get(ui),u=r||s.selector,l=s.create(et.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(TT,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ol(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Ag.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new K(101,!1);let t=Re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Re(t),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ss,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<XF;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)tV(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>hd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ol(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ol(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ol(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tV(n,e,t,r){if(!t&&!hd(n))return;yT(n,e,t&&!r?0:1)}function Ad(n,e,t,r){let i=$e(),o=pd();if(Wi(i,o,e)){let s=Ht(),a=wg();Bk(a,i,n,e,t,r)}return Ad}function nV(n,e,t,r){return Wi(n,pd(),t)?e+Za(t)+r:di}function rV(n,e,t,r,i,o){let s=HP(),a=zF(n,s,t,i);return uC(2),a?e+Za(t)+r+Za(i)+o:di}function xl(n,e){return n<<17|e<<2}function Gi(n){return n>>17&32767}function iV(n){return(n&2)==2}function oV(n,e){return n&131071|e<<17}function Jm(n){return n|2}function cs(n){return(n&131068)>>2}function fm(n,e){return n&-131069|e<<2}function sV(n){return(n&1)===1}function Xm(n){return n|1}function aV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Gi(s),u=cs(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||oc(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Gi(n[a+1]);n[r+1]=xl(g,a),g!==0&&(n[g+1]=fm(n[g+1],r)),n[a+1]=oV(n[a+1],r)}else n[r+1]=xl(a,0),a!==0&&(n[a+1]=fm(n[a+1],r)),a=r;else n[r+1]=xl(u,0),a===0?a=r:n[u+1]=fm(n[u+1],r),u=r;l&&(n[r+1]=Jm(n[r+1])),vb(n,h,r,!0),vb(n,h,r,!1),cV(e,h,n,r,o),s=xl(a,u),o?e.classBindings=s:e.styleBindings=s}function cV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&oc(o,e)>=0&&(t[r+1]=Xm(t[r+1]))}function vb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Gi(i):cs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];uV(u,e)&&(a=!0,n[s+1]=r?Xm(l):Jm(l)),s=r?Gi(l):cs(l)}a&&(n[t+1]=r?Jm(i):Xm(i))}function uV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?oc(n,e)>=0:!1}function ue(n,e,t){let r=$e(),i=pd();if(Wi(r,i,e)){let o=Ht(),s=wg();cT(o,s,r,n,e,r[it],t,!1)}return ue}function _b(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Bg(n,t,o[s],s,r)}function Md(n,e){return lV(n,e,null,!0),Md}function lV(n,e,t,r){let i=$e(),o=Ht(),s=uC(2);if(o.firstUpdatePass&&hV(o,n,s,r),e!==di&&Wi(i,s,e)){let a=o.data[Qi()];yV(o,a,i,i[it],n,i[s+1]=vV(e,t),r,s)}}function dV(n,e){return e>=n.expandoStartIndex}function hV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Qi()],s=dV(n,t);_V(o,r)&&e===null&&!s&&(e=!1),e=fV(i,o,e,r),aV(i,o,e,t,s,r)}}function fV(n,e,t,r){let i=KP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=pm(null,n,e,t,r),t=rc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=pm(i,n,e,t,r),o===null){let u=pV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=pm(null,n,e,u[1],r),u=rc(u,e.attrs,r),mV(n,e,r,u))}else o=gV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function pV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(cs(r)!==0)return n[Gi(r)]}function mV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Gi(i)]=r}function gV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=rc(r,s,t)}return rc(r,e.attrs,t)}function pm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=rc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function rc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),hP(n,s,t?!0:e[++o]))}return n===void 0?null:n}function yV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=sV(l)?wb(u,e,t,i,cs(l),s):void 0;if(!nd(h)){nd(o)||iV(l)&&(o=wb(u,null,t,i,a,s));let p=tC(Qi(),t);uk(r,s,p,i,o)}}function wb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===di&&(g=p?hn:void 0);let y=p?om(g,r):h===r?g:void 0;if(l&&!nd(y)&&(y=om(u,r)),nd(y)&&(a=y,s))return a;let M=n[i+1];i=s?Gi(M):cs(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=om(u,r))}return a}function nd(n){return n!==void 0}function vV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Bt(Ng(n)))),n}function _V(n,e){return(n.flags&(e?8:16))!==0}function wV(n,e,t,r,i,o){let s=e.consts,a=rs(s,i),u=ac(e,n,2,r,a);return Ug(e,t,u,rs(s,o)),u.attrs!==null&&Xl(u,u.attrs,!1),u.mergedAttrs!==null&&Xl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function _(n,e,t,r){let i=$e(),o=Ht(),s=gr+n,a=i[it],u=o.firstCreatePass?wV(s,o,i,e,t,r):o.data[s],l=EV(o,i,u,a,e,n);i[s]=l;let h=dd(u);return Ki(u,!0),eT(a,l,u),!qF(u)&&md()&&Ed(o,i,l,u),FP()===0&&ai(l,i),VP(),h&&(Vg(o,i,u),Rg(o,u,i)),r!==null&&Lg(i,u),_}function w(){let n=zt();yg()?aC():(n=n.parent,Ki(n,!1));let e=n;UP(e)&&BP(),LP();let t=Ht();return t.firstCreatePass&&(yd(t,n),pg(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&tO(e)&&_b(t,e,$e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nO(e)&&_b(t,e,$e(),e.stylesWithoutHost,!1),w}function te(n,e,t,r){return _(n,e,t,r),w(),te}var EV=(n,e,t,r,i,o)=>(gd(!0),WC(r,i,ZP()));function IV(n,e,t,r,i){let o=e.consts,s=rs(o,r),a=ac(e,n,8,"ng-container",s);s!==null&&Xl(a,s,!0);let u=rs(o,i);return Ug(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function qg(n,e,t){let r=$e(),i=Ht(),o=n+gr,s=i.firstCreatePass?IV(o,i,r,e,t):i.data[o];Ki(s,!0);let a=bV(i,r,s,n);return r[o]=a,md()&&Ed(i,r,a,s),ai(a,r),dd(s)&&(Vg(i,r,s),Rg(i,s,r)),t!=null&&Lg(r,s),qg}function Wg(){let n=zt(),e=Ht();return yg()?aC():(n=n.parent,Ki(n,!1)),e.firstCreatePass&&(yd(e,n),pg(n)&&e.queries.elementEnd(n)),Wg}var bV=(n,e,t,r)=>(gd(!0),GO(e[it],""));function je(){return $e()}var rd="en-US";var CV=rd;function TV(n){typeof n=="string"&&(CV=n.toLowerCase().replace(/_/g,"-"))}var DV=(n,e,t)=>{};function $(n,e,t,r){let i=$e(),o=Ht(),s=zt();return AT(o,i,i[it],s,n,e,r),$}function SV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Bl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function AT(n,e,t,r,i,o,s){let a=dd(r),l=n.firstCreatePass&&kP(n),h=e[An],p=OP(e),g=!0;if(r.type&3||s){let P=mn(r,e),N=s?s(P):P,U=p.length,W=s?he=>s(Un(he[r.index])):r.index,H=null;if(!s&&a&&(H=SV(n,e,i,r.index)),H!==null){let he=H.__ngLastListenerFn__||H;he.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,g=!1}else{o=Ib(r,e,h,o),DV(P,i,o);let he=t.listen(N,i,o);p.push(o,he),l&&l.push(i,W,U,U+1)}}else o=Ib(r,e,h,o);let y=r.outputs,M;if(g&&y!==null&&(M=y[i])){let P=M.length;if(P)for(let N=0;N<P;N+=2){let U=M[N],W=M[N+1],qe=e[U][W].subscribe(o),ce=p.length;p.push(o,qe),l&&l.push(i,r.index,ce,-(ce+1))}}}function Eb(n,e,t,r){let i=Re(null);try{return fn(6,e,t),t(r)!==!1}catch(o){return fT(n,o),!1}finally{fn(7,e,t),Re(i)}}function Ib(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?li(n.index,e):e;Hg(s,5);let a=Eb(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=Eb(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function X(n=1){return YP(n)}function D(n,e=""){let t=$e(),r=Ht(),i=n+gr,o=r.firstCreatePass?ac(r,i,1,e,null):r.data[i],s=AV(r,t,o,e,n);t[i]=s,md()&&Ed(r,t,s,o),Ki(o,!1)}var AV=(n,e,t,r,i)=>(gd(!0),qO(e[it],r));function oe(n){return MT("",n,""),oe}function MT(n,e,t){let r=$e(),i=nV(r,n,e,t);return i!==di&&xT(r,Qi(),i),MT}function Zi(n,e,t,r,i){let o=$e(),s=rV(o,n,e,t,r,i);return s!==di&&xT(o,Qi(),s),Zi}function xT(n,e,t){let r=tC(e,n);WO(n[it],r,t)}function ge(n,e,t){OC(e)&&(e=e());let r=$e(),i=pd();if(Wi(r,i,e)){let o=Ht(),s=wg();cT(o,s,r,n,e,r[it],t,!1)}return ge}function _e(n,e){let t=OC(n);return t&&n.set(e),t}function ye(n,e){let t=$e(),r=Ht(),i=zt();return AT(r,t,t[it],i,n,e),ye}function MV(n,e,t){let r=Ht();if(r.firstCreatePass){let i=si(n);eg(t,r.data,r.blueprint,i,!0),eg(e,r.data,r.blueprint,i,!1)}}function eg(n,e,t,r,i){if(n=Ut(n),Array.isArray(n))for(let o=0;o<n.length;o++)eg(n[o],e,t,r,i);else{let o=Ht(),s=$e(),a=zt(),u=Xo(n)?n:Ut(n.provide),l=Gb(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Xo(n)||!n.multi){let y=new Hi(l,i,B),M=gm(u,e,i?h:h+g,p);M===-1?(Rm(Gl(a,s),o,u),mm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[M]=y,s[M]=y)}else{let y=gm(u,e,h+g,p),M=gm(u,e,h,h+g),P=y>=0&&t[y],N=M>=0&&t[M];if(i&&!N||!i&&!P){Rm(Gl(a,s),o,u);let U=NV(i?RV:xV,t.length,i,r,l);!i&&N&&(t[M].providerFactory=U),mm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(U),s.push(U)}else{let U=RT(t[i?M:y],l,!i&&r);mm(o,n,y>-1?y:M,U)}!i&&r&&N&&t[M].componentProviders++}}}function mm(n,e,t,r){let i=Xo(e),o=vP(e);if(i||o){let u=(o?Ut(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function RT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function gm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function xV(n,e,t,r){return tg(this.multi,[])}function RV(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=is(t,t[De],this.providerFactory.index,r);o=a.slice(0,s),tg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],tg(i,o);return o}function tg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function NV(n,e,t,r,i){let o=new Hi(n,t,B);return o.multi=[],o.index=e,o.componentProviders=0,RT(o,i,r&&!t),o}function hi(n,e=[]){return t=>{t.providersResolver=(r,i)=>MV(r,i?i(n):n,e)}}var wr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},NT=new wr("19.1.1"),ng=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},xd=(()=>{class n{compileModuleSync(t){return new Ym(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Ub(t),o=qC(i.declarations).reduce((s,a)=>{let u=ii(a);return u&&s.push(new as(u)),s},[]);return new ng(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var PV=(()=>{class n{zone=k(Oe);changeDetectionScheduler=k(zi);applicationRef=k(_r);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OV({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Oe(ae(V({},kV()),{scheduleInRootZone:t})),[{provide:Oe,useFactory:n},{provide:Jo,multi:!0,useFactory:()=>{let r=k(PV,{optional:!0});return()=>r.initialize()}},{provide:Jo,multi:!0,useFactory:()=>{let r=k(FV);return()=>{r.initialize()}}},e===!0?{provide:MC,useValue:!0}:[],{provide:xC,useValue:t??AC}]}function kV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var FV=(()=>{class n{subscription=new tt;initialized=!1;zone=k(Oe);pendingTasks=k(Tr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var VV=(()=>{class n{appRef=k(_r);taskService=k(Tr);ngZone=k(Oe);zonelessEnabled=k(Ig);tracing=k(fs,{optional:!0});disableScheduling=k(MC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new tt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ql):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(xC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Fm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?tb:RC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ql+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,tb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LV(){return typeof $localize<"u"&&$localize.locale||rd}var Gg=new q("",{providedIn:"root",factory:()=>k(Gg,ve.Optional|ve.SkipSelf)||LV()});var rg=new q(""),jV=new q("");function Ga(n){return!n.moduleRef}function UV(n){let e=Ga(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Oe);return t.run(()=>{Ga(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(yr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ga(n)){let o=()=>e.destroy(),s=n.platformInjector.get(rg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(rg);s.add(o),n.moduleRef.onDestroy(()=>{Ol(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return eV(r,t,()=>{let o=e.get(ST);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Gg,rd);if(TV(s||rd),!e.get(jV,!0))return Ga(n)?e.get(_r):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ga(n)){let u=e.get(_r);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return BV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function BV(n,e){let t=n.injector.get(_r);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new K(-403,!1);e.push(n)}var kl=null;function $V(n=[],e){return et.create({name:e,providers:[{provide:cd,useValue:"platform"},{provide:rg,useValue:new Set([()=>kl=null])},...n]})}function HV(n=[]){if(kl)return kl;let e=$V(n);return kl=e,ZF(),zV(e),e}function zV(n){let e=n.get(Dg,null);mt(n,()=>{e?.forEach(t=>t())})}function Kg(){return!1}var Ji=(()=>{class n{static __NG_ELEMENT_ID__=qV}return n})();function qV(n){return WV(zt(),$e(),(n&16)===16)}function WV(n,e,t){if(ld(n)&&!t){let r=li(n.index,e);return new qi(r,r)}else if(n.type&175){let r=e[jn];return new qi(r,e)}return null}var ig=class{constructor(){}supports(e){return CT(e)}create(e){return new og(e)}},GV=(n,e)=>e,og=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||GV}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<bb(r,i,o)?t:r,a=bb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,M=y+g;h<=M&&M<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!CT(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,$F(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new sg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new id),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new id),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},sg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ag=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},id=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ag,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Cb(){return new Qg([new ig])}var Qg=(()=>{class n{factories;static \u0275prov=G({token:n,providedIn:"root",factory:Cb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Cb()),deps:[[n,new ug,new Pt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new K(901,!1)}}return n})();function PT(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=HV(r),o=[OV({}),{provide:zi,useExisting:VV},...t||[]],s=new td({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return UV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function uc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ms(n,e){ds("NgSignals");let t=lI(n);return e?.equal&&(t[Xt].equal=e.equal),t}function qn(n){let e=Re(null);try{return n()}finally{Re(e)}}var Tb=class{[Xt];constructor(e){this[Xt]=e}destroy(){this[Xt].destroy()}};function OT(n){let e=ii(n);if(!e)return null;let t=new as(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var UT=null;function Mr(){return UT}function BT(n){UT??=n}var Rd=class{};var Ot=new q(""),ey=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>k(YV),providedIn:"platform"})}return n})(),$T=new q(""),YV=(()=>{class n extends ey{_location;_history;_doc=k(Ot);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mr().getBaseHref(this._doc)}onPopState(t){let r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ty(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function kT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ar(n){return n&&n[0]!=="?"?"?"+n:n}var Xi=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>k(ny),providedIn:"root"})}return n})(),HT=new q(""),ny=(()=>{class n extends Xi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ty(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ar(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(ey),J(HT,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zT=(()=>{class n extends Xi{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=ty(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(ey),J(HT,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),ys=(()=>{class n{_subject=new ut;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=XV(kT(FT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ar(r))}normalize(t){return n.stripTrailingSlash(JV(this._basePath,FT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ar(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ar(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ar;static joinWithSlash=ty;static stripTrailingSlash=kT;static \u0275fac=function(r){return new(r||n)(J(Xi))};static \u0275prov=G({token:n,factory:()=>ZV(),providedIn:"root"})}return n})();function ZV(){return new ys(J(Xi))}function JV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function FT(n){return n.replace(/\/index.html$/,"")}function XV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Nd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Yg=/\s+/,VT=[],qT=(()=>{class n{_ngEl;_renderer;initialClasses=VT;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Yg):VT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Yg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Yg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(B(Hn),B(Dr))};static \u0275dir=Qe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Zg=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Zg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),LT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);LT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(B(ps),B(Td),B(Qg))};static \u0275dir=Qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function LT(n,e){n.context.$implicit=e.item}var Wn=(()=>{class n{_viewContainer;_context=new Jg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(B(ps),B(Td))};static \u0275dir=Qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Jg=class{$implicit=null;ngIf=null};function jT(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Bt(e)}'.`)}var Ue=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Sr({type:n});static \u0275inj=Er({})}return n})(),WT="browser",eL="server";function ry(n){return n===eL}var GT=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new Xg(k(Ot),window)})}return n})(),Xg=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=tL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function tL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var gs=class{};var dc=class{},Od=class{},eo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var oy=class{encodeKey(e){return KT(e)}encodeValue(e){return KT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function nL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var rL=/%(\d[a-f0-9])/gi,iL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function KT(n){return encodeURIComponent(n).replace(rL,(e,t)=>iL[t]??e)}function Pd(n){return`${n}`}var fi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new oy,e.fromString){if(e.fromObject)throw new K(2805,!1);this.map=nL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Pd):[Pd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Pd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Pd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var sy=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function oL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function QT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function YT(n){return typeof Blob<"u"&&n instanceof Blob}function ZT(n){return typeof FormData<"u"&&n instanceof FormData}function sL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var JT="Content-Type",tD="X-Request-URL",nD="text/plain",rD="application/json",aL=`${rD}, ${nD}, */*`,lc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(oL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new eo,this.context??=new sy,!this.params)this.params=new fi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||QT(this.body)||YT(this.body)||ZT(this.body)||sL(this.body)?this.body:this.body instanceof fi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ZT(this.body)?null:YT(this.body)?this.body.type||null:QT(this.body)?null:typeof this.body=="string"?nD:this.body instanceof fi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?rD:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},vs=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(vs||{}),hc=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new eo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ay=class n extends hc{constructor(e={}){super(e)}type=vs.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},kd=class n extends hc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=vs.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fd=class extends hc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},cL=200,uL=204;function iy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var lL=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof lc)o=t;else{let u;i.headers instanceof eo?u=i.headers:u=new eo(i.headers);let l;i.params&&(i.params instanceof fi?l=i.params:l=new fi({fromObject:i.params})),o=new lc(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ie(o).pipe(fr(u=>this.handler.handle(u)));if(t instanceof lc||i.observe==="events")return s;let a=s.pipe(jt(u=>u instanceof kd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new fi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,iy(i,r))}post(t,r,i={}){return this.request("POST",t,iy(i,r))}put(t,r,i={}){return this.request("PUT",t,iy(i,r))}static \u0275fac=function(r){return new(r||n)(J(dc))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();var dL=new q("");function hL(n,e){return e(n)}function fL(n,e,t){return(r,i)=>mt(t,()=>e(r,o=>n(o,i)))}var iD=new q(""),pL=new q(""),mL=new q("",{providedIn:"root",factory:()=>!0});var XT=(()=>{class n extends dc{backend;injector;chain=null;pendingTasks=k(Tr);contributeToStability=k(mL);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(iD),...this.injector.get(pL,[])]));this.chain=r.reduceRight((i,o)=>fL(i,o,this.injector),hL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Li(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(J(Od),J(Tt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();var gL=/^\)\]\}',?\n/,yL=RegExp(`^${tD}:`,"m");function vL(n){return"responseURL"in n&&n.responseURL?n.responseURL:yL.test(n.getAllResponseHeaders())?n.getResponseHeader(tD):null}var eD=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Be(r.\u0275loadImpl()):ie(null)).pipe(Kt(()=>new Ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((P,N)=>s.setRequestHeader(P,N.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept",aL),!t.headers.has(JT)){let P=t.detectContentTypeHeader();P!==null&&s.setRequestHeader(JT,P)}if(t.responseType){let P=t.responseType.toLowerCase();s.responseType=P!=="json"?P:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let P=s.statusText||"OK",N=new eo(s.getAllResponseHeaders()),U=vL(s)||t.url;return u=new ay({headers:N,status:s.status,statusText:P,url:U}),u},h=()=>{let{headers:P,status:N,statusText:U,url:W}=l(),H=null;N!==uL&&(H=typeof s.response>"u"?s.responseText:s.response),N===0&&(N=H?cL:0);let he=N>=200&&N<300;if(t.responseType==="json"&&typeof H=="string"){let qe=H;H=H.replace(gL,"");try{H=H!==""?JSON.parse(H):null}catch(ce){H=qe,he&&(he=!1,H={error:ce,text:H})}}he?(o.next(new kd({body:H,headers:P,status:N,statusText:U,url:W||void 0})),o.complete()):o.error(new Fd({error:H,headers:P,status:N,statusText:U,url:W||void 0}))},p=P=>{let{url:N}=l(),U=new Fd({error:P,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});o.error(U)},g=!1,y=P=>{g||(o.next(l()),g=!0);let N={type:vs.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(N.total=P.total),t.responseType==="text"&&s.responseText&&(N.partialText=s.responseText),o.next(N)},M=P=>{let N={type:vs.UploadProgress,loaded:P.loaded};P.lengthComputable&&(N.total=P.total),o.next(N)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",M)),s.send(a),o.next({type:vs.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",M)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(J(gs))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),oD=new q(""),_L="XSRF-TOKEN",wL=new q("",{providedIn:"root",factory:()=>_L}),EL="X-XSRF-TOKEN",IL=new q("",{providedIn:"root",factory:()=>EL}),Vd=class{},bL=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(J(Ot),J(zn),J(wL))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function CL(n,e){let t=n.url.toLowerCase();if(!k(oD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=k(Vd).getToken(),i=k(IL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function sD(...n){let e=[lL,eD,XT,{provide:dc,useExisting:XT},{provide:Od,useFactory:()=>k(dL,{optional:!0})??k(eD)},{provide:iD,useValue:CL,multi:!0},{provide:oD,useValue:!0},{provide:Vd,useClass:bL}];for(let t of n)e.push(...t.\u0275providers);return Mn(e)}var uy=class extends Rd{supportsDOMEvents=!0},ly=class n extends uy{static makeCurrent(){BT(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=TL();return t==null?null:DL(t)}resetBaseElement(){fc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Nd(document.cookie,e)}},fc=null;function TL(){return fc=fc||document.querySelector("base"),fc?fc.getAttribute("href"):null}function DL(n){return new URL(n,document.baseURI).pathname}var SL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),dy=new q(""),hD=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(J(dy),J(Oe))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),jd=class{_doc;constructor(e){this._doc=e}manager},Ld="ng-app-id";function aD(n){for(let e of n)e.remove()}function cD(n,e){let t=e.createElement("style");return t.textContent=n,t}function AL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Ld}="${e}"],link[${Ld}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Ld),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function hy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var fD=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ry(o),AL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,cD);r?.forEach(i=>this.addUsage(i,this.external,hy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(aD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])aD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,cD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,hy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ld,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(J(Ot),J(Tg),J(Sg,8),J(zn))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),cy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},py=/%COMP%/g,pD="%COMP%",ML=`_nghost-${pD}`,xL=`_ngcontent-${pD}`,RL=!0,NL=new q("",{providedIn:"root",factory:()=>RL});function PL(n){return xL.replace(py,n)}function OL(n){return ML.replace(py,n)}function mD(n,e){return e.map(t=>t.replace(py,n))}var uD=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=ry(a),this.defaultRenderer=new pc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Bn.ShadowDom&&(r=ae(V({},r),{encapsulation:Bn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ud?i.applyToHost(t):i instanceof mc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Bn.Emulated:o=new Ud(u,l,r,this.appId,h,s,a,p,this.tracingService);break;case Bn.ShadowDom:return new fy(u,l,t,r,s,a,this.nonce,p,this.tracingService);default:o=new mc(u,l,r,h,s,a,p,this.tracingService);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(J(hD),J(fD),J(Tg),J(NL),J(Ot),J(zn),J(Oe),J(Sg),J(fs,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),pc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(cy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(lD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(lD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=cy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=cy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vr.DashCase|vr.Important)?e.style.setProperty(t,r,i&vr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Mr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function lD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var fy=class extends pc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=mD(i.id,i.styles);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=hy(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},mc=class extends pc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?mD(l,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ud=class extends mc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=PL(h),this.hostAttr=OL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},kL=(()=>{class n extends jd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(J(Ot))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),dD=["alt","control","meta","shift"],FL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},LL=(()=>{class n extends jd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),dD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=FL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),dD.forEach(s=>{if(s!==i){let a=VL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(J(Ot))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function gD(n,e){return PT(V({rootComponent:n},jL(e)))}function jL(n){return{appProviders:[...zL,...n?.providers??[]],platformProviders:HL}}function UL(){ly.makeCurrent()}function BL(){return new yr}function $L(){return BC(document),document}var HL=[{provide:zn,useValue:WT},{provide:Dg,useValue:UL,multi:!0},{provide:Ot,useFactory:$L,deps:[]}];var zL=[{provide:cd,useValue:"root"},{provide:yr,useFactory:BL,deps:[]},{provide:dy,useClass:kL,multi:!0,deps:[Ot,Oe,zn]},{provide:dy,useClass:LL,multi:!0,deps:[Ot]},uD,fD,hD,{provide:ss,useExisting:uD},{provide:gs,useClass:SL,deps:[]},[]];var yD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(J(Ot))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var me="primary",xc=Symbol("RouteTitle"),_y=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Cs(n){return new _y(n)}function WL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function GL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gn(n[t],e[t]))return!1;return!0}function Gn(n,e){let t=n?wy(n):void 0,r=e?wy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!AD(n[i],e[i]))return!1;return!0}function wy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function AD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function MD(n){return n.length>0?n[n.length-1]:null}function mi(n){return tm(n)?n:Yi(n)?Be(Promise.resolve(n)):ie(n)}var KL={exact:RD,subset:ND},xD={exact:QL,subset:YL,ignored:()=>!0};function vD(n,e,t){return KL[t.paths](n.root,e.root,t.matrixParams)&&xD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function QL(n,e){return Gn(n,e)}function RD(n,e,t){if(!no(n.segments,e.segments)||!Hd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!RD(n.children[r],e.children[r],t))return!1;return!0}function YL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>AD(n[t],e[t]))}function ND(n,e,t){return PD(n,e,e.segments,t)}function PD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!no(i,t)||e.hasChildren()||!Hd(i,t,r))}else if(n.segments.length===t.length){if(!no(n.segments,t)||!Hd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ND(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!no(n.segments,i)||!Hd(n.segments,i,r)||!n.children[me]?!1:PD(n.children[me],e,o,r)}}function Hd(n,e,t){return e.every((r,i)=>xD[t](n[i].parameters,r.parameters))}var Rr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ke([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){return XL.serialize(this)}},ke=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zd(this)}},to=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Cs(this.parameters),this._parameterMap}toString(){return kD(this)}};function ZL(n,e){return no(n,e)&&n.every((t,r)=>Gn(t.parameters,e[r].parameters))}function no(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function JL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===me&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==me&&(t=t.concat(e(i,r)))}),t}var Rc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new Ts,providedIn:"root"})}return n})(),Ts=class{parse(e){let t=new Iy(e);return new Rr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${gc(e.root,!0)}`,r=n2(e.queryParams),i=typeof e.fragment=="string"?`#${e2(e.fragment)}`:"";return`${t}${r}${i}`}},XL=new Ts;function zd(n){return n.segments.map(e=>kD(e)).join("/")}function gc(n,e){if(!n.hasChildren())return zd(n);if(e){let t=n.children[me]?gc(n.children[me],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${gc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=JL(n,(r,i)=>i===me?[gc(n.children[me],!1)]:[`${i}:${gc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[me]!=null?`${zd(n)}/${t[0]}`:`${zd(n)}/(${t.join("//")})`}}function OD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bd(n){return OD(n).replace(/%3B/gi,";")}function e2(n){return encodeURI(n)}function Ey(n){return OD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qd(n){return decodeURIComponent(n)}function _D(n){return qd(n.replace(/\+/g,"%20"))}function kD(n){return`${Ey(n.path)}${t2(n.parameters)}`}function t2(n){return Object.entries(n).map(([e,t])=>`;${Ey(e)}=${Ey(t)}`).join("")}function n2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Bd(t)}=${Bd(i)}`).join("&"):`${Bd(t)}=${Bd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var r2=/^[^\/()?;#]+/;function my(n){let e=n.match(r2);return e?e[0]:""}var i2=/^[^\/()?;=#]+/;function o2(n){let e=n.match(i2);return e?e[0]:""}var s2=/^[^=?&#]+/;function a2(n){let e=n.match(s2);return e?e[0]:""}var c2=/^[^&#]+/;function u2(n){let e=n.match(c2);return e?e[0]:""}var Iy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new ke(e,t)),r}parseSegment(){let e=my(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new to(qd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=o2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=my(this.remaining);i&&(r=i,this.capture(r))}e[qd(t)]=qd(r)}parseQueryParam(e){let t=a2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=u2(this.remaining);s&&(r=s,this.capture(r))}let i=_D(t),o=_D(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=my(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[me]:new ke([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function FD(n){return n.segments.length>0?new ke([],{[me]:n}):n}function VD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=VD(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ke(n.segments,e);return l2(t)}function l2(n){if(n.numberOfChildren===1&&n.children[me]){let e=n.children[me];return new ke(n.segments.concat(e.segments),e.children)}return n}function Ec(n){return n instanceof Rr}function d2(n,e,t=null,r=null){let i=LD(n);return jD(i,e,t,r)}function LD(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new ke(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=FD(r);return e??i}function jD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return gy(i,i,i,t,r);let o=h2(e);if(o.toRoot())return gy(i,i,new ke([],{}),t,r);let s=f2(o,i,n),a=s.processChildren?vc(s.segmentGroup,s.index,o.commands):BD(s.segmentGroup,s.index,o.commands);return gy(i,s.segmentGroup,a,t,r)}function Wd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ic(n){return typeof n=="object"&&n!=null&&n.outlets}function gy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=UD(n,e,t);let a=FD(VD(s));return new Rr(a,o,i)}function UD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=UD(o,e,t)}),new ke(n.segments,r)}var Gd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Wd(r[0]))throw new K(4003,!1);let i=r.find(Ic);if(i&&i!==MD(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function h2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Gd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Gd(t,e,r)}var Es=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function f2(n,e,t){if(n.isAbsolute)return new Es(e,!0,0);if(!t)return new Es(e,!1,NaN);if(t.parent===null)return new Es(t,!0,0);let r=Wd(n.commands[0])?0:1,i=t.segments.length-1+r;return p2(t,i,n.numberOfDoubleDots)}function p2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Es(r,!1,i-o)}function m2(n){return Ic(n[0])?n[0].outlets:{[me]:n}}function BD(n,e,t){if(n??=new ke([],{}),n.segments.length===0&&n.hasChildren())return vc(n,e,t);let r=g2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ke(n.segments.slice(0,r.pathIndex),{});return o.children[me]=new ke(n.segments.slice(r.pathIndex),n.children),vc(o,0,i)}else return r.match&&i.length===0?new ke(n.segments,{}):r.match&&!n.hasChildren()?by(n,e,t):r.match?vc(n,0,i):by(n,e,t)}function vc(n,e,t){if(t.length===0)return new ke(n.segments,{});{let r=m2(t),i={};if(Object.keys(r).some(o=>o!==me)&&n.children[me]&&n.numberOfChildren===1&&n.children[me].segments.length===0){let o=vc(n.children[me],e,t);return new ke(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=BD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ke(n.segments,i)}}function g2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ic(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ED(u,l,s))return o;r+=2}else{if(!ED(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function by(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ic(o)){let u=y2(o.outlets);return new ke(r,u)}if(i===0&&Wd(t[0])){let u=n.segments[e];r.push(new to(u.path,wD(t[0]))),i++;continue}let s=Ic(o)?o.outlets[me]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Wd(a)?(r.push(new to(s,wD(a))),i+=2):(r.push(new to(s,{})),i++)}return new ke(r,{})}function y2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=by(new ke([],{}),0,r))}),e}function wD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ED(n,e,t){return n==t.path&&Gn(e,t.parameters)}var _c="imperative",yt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(yt||{}),vn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ds=class extends vn{type=yt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Nr=class extends vn{urlAfterRedirects;type=yt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},on=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(on||{}),Kd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Kd||{}),xr=class extends vn{reason;code;type=yt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pi=class extends vn{reason;code;type=yt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},bc=class extends vn{error;target;type=yt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qd=class extends vn{urlAfterRedirects;state;type=yt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cy=class extends vn{urlAfterRedirects;state;type=yt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ty=class extends vn{urlAfterRedirects;state;shouldActivate;type=yt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Dy=class extends vn{urlAfterRedirects;state;type=yt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sy=class extends vn{urlAfterRedirects;state;type=yt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ay=class{route;type=yt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},My=class{route;type=yt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xy=class{snapshot;type=yt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ry=class{snapshot;type=yt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ny=class{snapshot;type=yt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Py=class{snapshot;type=yt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yd=class{routerEvent;position;anchor;type=yt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Cc=class{},Ss=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function v2(n,e){return n.providers&&!n._injector&&(n._injector=Dd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Rn(n){return n.outlet||me}function _2(n,e){let t=n.filter(r=>Rn(r)===e);return t.push(...n.filter(r=>Rn(r)!==e)),t}function Nc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Oy=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Nc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Pc(this.rootInjector)}},Pc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Oy(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(J(Tt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ky(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ky(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Fy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fy(e,this._root).map(t=>t.value)}};function ky(n,e){if(n===e.value)return e;for(let t of e.children){let r=ky(n,t);if(r)return r}return null}function Fy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Fy(n,t);if(r.length)return r.unshift(e),r}return[]}var rn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ws(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Jd=class extends Zd{snapshot;constructor(e,t){super(e),this.snapshot=t,qy(this,e)}toString(){return this.snapshot.toString()}};function $D(n){let e=w2(n),t=new Ke([new to("",{})]),r=new Ke({}),i=new Ke({}),o=new Ke({}),s=new Ke(""),a=new Dt(t,r,o,s,i,me,n,e.root);return a.snapshot=e.root,new Jd(new rn(a,[]),e)}function w2(n){let e={},t={},r={},i="",o=new Is([],e,r,i,t,me,n,null,{});return new eh("",new rn(o,[]))}var Dt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[xc]))??ie(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Cs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Cs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&zD(i)&&(r.resolve[xc]=i.title),r}var Is=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},eh=class extends Zd{url;constructor(e,t){super(t),this.url=e,qy(this,t)}toString(){return HD(this._root)}};function qy(n,e){e.value._routerState=n,e.children.forEach(t=>qy(n,t))}function HD(n){let e=n.children.length>0?` { ${n.children.map(HD).join(", ")} } `:"";return`${n.value}${e}`}function yy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Gn(e.params,t.params)||n.paramsSubject.next(t.params),GL(e.url,t.url)||n.urlSubject.next(t.url),Gn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Vy(n,e){let t=Gn(n.params,e.params)&&ZL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Vy(n.parent,e.parent))}function zD(n){return typeof n.title=="string"||n.title===null}var E2=new q(""),Wy=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=me;activateEvents=new pt;deactivateEvents=new pt;attachEvents=new pt;detachEvents=new pt;routerOutletData=PC(void 0);parentContexts=k(Pc);location=k(ps);changeDetector=k(Ji);inputBinder=k(ih,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Ly(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ls]})}return n})(),Ly=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Dt?this.route:e===Pc?this.childContexts:e===E2?this.outletData:this.parent.get(e,t)}},ih=new q(""),ID=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Wa([r.queryParams,r.params,r.data]).pipe(Kt(([o,s,a],u)=>(a=V(V(V({},o),s),a),u===0?ie(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=OT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function I2(n,e,t){let r=Tc(n,e._root,t?t._root:void 0);return new Jd(r,e)}function Tc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=b2(n,e,t);return new rn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Tc(n,a)),s}}let r=C2(e.value),i=e.children.map(o=>Tc(n,o));return new rn(r,i)}}function b2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Tc(n,r,i);return Tc(n,r)})}function C2(n){return new Dt(new Ke(n.url),new Ke(n.params),new Ke(n.queryParams),new Ke(n.fragment),new Ke(n.data),n.outlet,n.component,n)}var Dc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},qD="ngNavigationCancelingError";function th(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WD(!1,on.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function WD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[qD]=!0,t.cancellationCode=e,t}function T2(n){return GD(n)&&Ec(n.url)}function GD(n){return!!n&&n[qD]}var D2=(n,e,t,r)=>ee(i=>(new jy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),jy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ws(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ws(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ws(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ws(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Py(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ry(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(yy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},nh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function S2(n,e,t){let r=n._root,i=e?e._root:null;return yc(r,i,t,[r.value])}function A2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ms(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!xb(n)?n:e.get(n):r}function yc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ws(e);return n.children.forEach(s=>{M2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wc(a,t.getContext(s),i)),i}function M2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=x2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new nh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yc(n,e,a?a.children:null,r,i):yc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bs(a.outlet.component,s))}else s&&wc(e,a,i),i.canActivateChecks.push(new nh(r)),o.component?yc(n,null,a?a.children:null,r,i):yc(n,null,t,r,i);return i}function x2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!no(n.url,e.url);case"pathParamsOrQueryParamsChange":return!no(n.url,e.url)||!Gn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vy(n,e)||!Gn(n.queryParams,e.queryParams);case"paramsChange":default:return!Vy(n,e)}}function wc(n,e,t){let r=ws(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?wc(s,e.children.getContext(o),t):wc(s,null,t):wc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new bs(e.outlet.component,i)):t.canDeactivateChecks.push(new bs(null,i)):t.canDeactivateChecks.push(new bs(null,i))}function Oc(n){return typeof n=="function"}function R2(n){return typeof n=="boolean"}function N2(n){return n&&Oc(n.canLoad)}function P2(n){return n&&Oc(n.canActivate)}function O2(n){return n&&Oc(n.canActivateChild)}function k2(n){return n&&Oc(n.canDeactivate)}function F2(n){return n&&Oc(n.canMatch)}function KD(n){return n instanceof Tn||n?.name==="EmptyError"}var $d=Symbol("INITIAL_VALUE");function As(){return Kt(n=>Wa(n.map(e=>e.pipe(pr(1),Sl($d)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===$d)return $d;if(t===!1||V2(t))return t}return!0}),jt(e=>e!==$d),pr(1)))}function V2(n){return Ec(n)||n instanceof Dc}function L2(n,e){return rt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ie(ae(V({},t),{guardsResult:!0})):j2(s,r,i,n).pipe(rt(a=>a&&R2(a)?U2(r,o,n,e):ie(a)),ee(a=>ae(V({},t),{guardsResult:a})))})}function j2(n,e,t,r){return Be(n).pipe(rt(i=>q2(i.component,i.route,t,e,r)),mr(i=>i!==!0,!0))}function U2(n,e,t,r){return Be(e).pipe(fr(i=>$o($2(i.route.parent,r),B2(i.route,r),z2(n,i.path,t),H2(n,i.route,t))),mr(i=>i!==!0,!0))}function B2(n,e){return n!==null&&e&&e(new Ny(n)),ie(!0)}function $2(n,e){return n!==null&&e&&e(new xy(n)),ie(!0)}function H2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ie(!0);let i=r.map(o=>Cl(()=>{let s=Nc(e)??t,a=Ms(o,s),u=P2(a)?a.canActivate(e,n):mt(s,()=>a(e,n));return mi(u).pipe(mr())}));return ie(i).pipe(As())}function z2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>A2(s)).filter(s=>s!==null).map(s=>Cl(()=>{let a=s.guards.map(u=>{let l=Nc(s.node)??t,h=Ms(u,l),p=O2(h)?h.canActivateChild(r,n):mt(l,()=>h(r,n));return mi(p).pipe(mr())});return ie(a).pipe(As())}));return ie(o).pipe(As())}function q2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ie(!0);let s=o.map(a=>{let u=Nc(e)??i,l=Ms(a,u),h=k2(l)?l.canDeactivate(n,e,t,r):mt(u,()=>l(n,e,t,r));return mi(h).pipe(mr())});return ie(s).pipe(As())}function W2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ie(!0);let o=i.map(s=>{let a=Ms(s,n),u=N2(a)?a.canLoad(e,t):mt(n,()=>a(e,t));return mi(u)});return ie(o).pipe(As(),QD(r))}function QD(n){return sl(ft(e=>{if(typeof e!="boolean")throw th(n,e)}),ee(e=>e===!0))}function G2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ie(!0);let o=i.map(s=>{let a=Ms(s,n),u=F2(a)?a.canMatch(e,t):mt(n,()=>a(e,t));return mi(u)});return ie(o).pipe(As(),QD(r))}var Sc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ac=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function _s(n){return Uo(new Sc(n))}function K2(n){return Uo(new K(4e3,!1))}function Q2(n){return Uo(WD(!1,on.GuardRejected))}var Uy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ie(r);if(i.numberOfChildren>1||!i.children[me])return K2(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:M,title:P}=i,N=mt(o,()=>a({params:y,data:M,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:P}));if(N instanceof Rr)throw new Ac(N);t=N}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ac(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Rr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ke(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},By={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y2(n,e,t,r,i){let o=YD(n,e,t);return o.matched?(r=v2(e,r),G2(r,e,t,i).pipe(ee(s=>s===!0?o:V({},By)))):ie(o)}function YD(n,e,t){if(e.path==="**")return Z2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},By):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||WL)(t,n,e);if(!i)return V({},By);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Z2(n){return{matched:!0,parameters:n.length>0?MD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function bD(n,e,t,r){return t.length>0&&ej(n,t,r)?{segmentGroup:new ke(e,X2(r,new ke(t,n.children))),slicedSegments:[]}:t.length===0&&tj(n,t,r)?{segmentGroup:new ke(n.segments,J2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ke(n.segments,n.children),slicedSegments:t}}function J2(n,e,t,r){let i={};for(let o of t)if(oh(n,e,o)&&!r[Rn(o)]){let s=new ke([],{});i[Rn(o)]=s}return V(V({},r),i)}function X2(n,e){let t={};t[me]=e;for(let r of n)if(r.path===""&&Rn(r)!==me){let i=new ke([],{});t[Rn(r)]=i}return t}function ej(n,e,t){return t.some(r=>oh(n,e,r)&&Rn(r)!==me)}function tj(n,e,t){return t.some(r=>oh(n,e,r))}function oh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function nj(n,e,t){return e.length===0&&!n.children[t]}var $y=class{};function rj(n,e,t,r,i,o,s="emptyOnly"){return new Hy(n,e,t,r,i,s,o).recognize()}var ij=31,Hy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Uy(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=bD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new rn(r,t),o=new eh("",i),s=d2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Is([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,t).pipe(ee(r=>({children:r,rootSnapshot:t})),Xr(r=>{if(r instanceof Ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof rn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Be(o).pipe(fr(s=>{let a=r.children[s],u=_2(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Dl((s,a)=>(s.push(...a),s)),ei(null),rm(),rt(s=>{if(s===null)return _s(r);let a=ZD(s);return oj(a),ie(a)}))}processSegment(e,t,r,i,o,s,a){return Be(t).pipe(fr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Xr(l=>{if(l instanceof Sc)return ie(null);throw l}))),mr(u=>!!u),Xr(u=>{if(KD(u))return nj(r,i,o)?ie(new $y):_s(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Rn(r)!==s&&(s===me||!oh(i,o,r))?_s(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):_s(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=YD(t,i,o);if(!u)return _s(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ij&&(this.allowRedirects=!1));let y=new Is(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,CD(i),Rn(i),i.component??i._loadedComponent??null,i,TD(i)),M=Xd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(M.params),y.data=Object.freeze(M.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(rt(N=>this.processSegment(e,r,t,N.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Y2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,M=new Is(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,CD(r),Rn(r),r.component??r._loadedComponent??null,r,TD(r)),P=Xd(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(P.params),M.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:U}=bD(t,g,y,l);if(U.length===0&&N.hasChildren())return this.processChildren(h,l,N,M).pipe(ee(H=>new rn(M,H)));if(l.length===0&&U.length===0)return ie(new rn(M,[]));let W=Rn(r)===o;return this.processSegment(h,l,N,U,W?me:o,!0,M).pipe(ee(H=>new rn(M,H instanceof rn?[H]:[])))}))):_s(t)))}getChildConfig(e,t,r){return t.children?ie({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ie({routes:t._loadedRoutes,injector:t._loadedInjector}):W2(e,t,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,t).pipe(ft(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Q2(t))):ie({routes:[],injector:e})}};function oj(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}function sj(n){let e=n.value.routeConfig;return e&&e.path===""}function ZD(n){let e=[],t=new Set;for(let r of n){if(!sj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ZD(r.children);e.push(new rn(r.value,i))}return e.filter(r=>!t.has(r))}function CD(n){return n.data||{}}function TD(n){return n.resolve||{}}function aj(n,e,t,r,i,o){return rt(s=>rj(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:u})=>ae(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function cj(n,e){return rt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ie(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of JD(u))s.add(l);let a=0;return Be(s).pipe(fr(u=>o.has(u)?uj(u,r,n,e):(u.data=Xd(u,u.parent,n).resolve,ie(void 0))),ft(()=>a++),Ho(1),rt(u=>a===s.size?ie(t):tn))})}function JD(n){let e=n.children.map(t=>JD(t)).flat();return[n,...e]}function uj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!zD(i)&&(o[xc]=i.title),lj(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=Xd(n,n.parent,t).resolve,null)))}function lj(n,e,t,r){let i=wy(n);if(i.length===0)return ie({});let o={};return Be(i).pipe(rt(s=>dj(n[s],e,t,r).pipe(mr(),ft(a=>{if(a instanceof Dc)throw th(new Ts,a);o[s]=a}))),Ho(1),ee(()=>o),Xr(s=>KD(s)?tn:Uo(s)))}function dj(n,e,t,r){let i=Nc(e)??r,o=Ms(n,i),s=o.resolve?o.resolve(e,t):mt(i,()=>o(e,t));return mi(s)}function vy(n){return Kt(e=>{let t=n(e);return t?Be(t).pipe(ee(()=>e)):ie(e)})}var XD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(t){return t.data[xc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>k(hj),providedIn:"root"})}return n})(),hj=(()=>{class n extends XD{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(J(yD))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kc=new q("",{providedIn:"root",factory:()=>({})}),fj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&te(0,"router-outlet")},dependencies:[Wy],encapsulation:2})}return n})();function Gy(n){let e=n.children&&n.children.map(Gy),t=e?ae(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=fj),t}var Mc=new q(""),Ky=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k(xd);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ie(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=mi(t.loadComponent()).pipe(ee(eS),ft(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Li(()=>{this.componentLoaders.delete(t)})),i=new jo(r,()=>new ut).pipe(Lo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=pj(r,this.compiler,t,this.onLoadEndListener).pipe(Li(()=>{this.childrenLoaders.delete(r)})),s=new jo(o,()=>new ut).pipe(Lo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pj(n,e,t,r){return mi(n.loadChildren()).pipe(ee(eS),rt(i=>i instanceof nc||Array.isArray(i)?ie(i):Be(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Mc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Gy),injector:o}}))}function mj(n){return n&&typeof n=="object"&&"default"in n}function eS(n){return mj(n)?n.default:n}var Qy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>k(gj),providedIn:"root"})}return n})(),gj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tS=new q(""),nS=new q("");function yj(n,e,t){let r=n.get(nS),i=n.get(Ot);return n.get(Oe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),vj(n))),{onViewTransitionCreated:u}=r;return u&&mt(n,()=>u({transition:a,from:e,to:t})),s})}function vj(n){return new Promise(e=>{Mg({read:()=>setTimeout(e)},{injector:n})})}var rS=new q(""),Yy=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ut;transitionAbortSubject=new ut;configLoader=k(Ky);environmentInjector=k(Tt);urlSerializer=k(Rc);rootContexts=k(Pc);location=k(ys);inputBindingEnabled=k(ih,{optional:!0})!==null;titleStrategy=k(XD);options=k(kc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(Qy);createViewTransition=k(tS,{optional:!0});navigationErrorHandler=k(rS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ie(void 0);rootComponentType=null;constructor(){let t=i=>this.events.next(new Ay(i)),r=i=>this.events.next(new My(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ae(V(V({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ke({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:_c,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jt(o=>o.id!==0),ee(o=>ae(V({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Kt(o=>{let s=!1,a=!1;return ie(o).pipe(Kt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",on.SupersededByNewNavigation),tn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ae(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new pi(u.id,this.urlSerializer.serialize(u.rawUrl),p,Kd.IgnoredSameUrlNavigation)),u.resolve(!1),tn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ie(u).pipe(Kt(p=>{let g=this.transitions?.getValue();return this.events.next(new Ds(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?tn:Promise.resolve(p)}),aj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ft(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ae(V({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new Qd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:M,extras:P}=u,N=new Ds(p,this.urlSerializer.serialize(g),y,M);this.events.next(N);let U=$D(this.rootComponentType).snapshot;return this.currentTransition=o=ae(V({},u),{targetSnapshot:U,urlAfterRedirects:g,extras:ae(V({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,ie(o)}else{let p="";return this.events.next(new pi(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Kd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),tn}}),ft(u=>{let l=new Cy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=o=ae(V({},u),{guards:S2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),L2(this.environmentInjector,u=>this.events.next(u)),ft(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw th(this.urlSerializer,u.guardsResult);let l=new Ty(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),jt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",on.GuardRejected),!1)),vy(u=>{if(u.guards.canActivateChecks.length)return ie(u).pipe(ft(l=>{let h=new Dy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Kt(l=>{let h=!1;return ie(l).pipe(cj(this.paramsInheritanceStrategy,this.environmentInjector),ft({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",on.NoDataFromResolver)}}))}),ft(l=>{let h=new Sy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),vy(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ft(g=>{h.component=g}),ee(()=>{})));for(let g of h.children)p.push(...l(g));return p};return Wa(l(u.targetSnapshot.root)).pipe(ei(null),pr(1))}),vy(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Be(h).pipe(ee(()=>o)):ie(o)}),ee(u=>{let l=I2(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ae(V({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ft(()=>{this.events.next(new Cc)}),D2(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),pr(1),ft({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),im(this.transitionAbortSubject.pipe(ft(u=>{throw u}))),Li(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",on.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xr(u=>{if(a=!0,GD(u))this.events.next(new xr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),T2(u)?this.events.next(new Ss(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new bc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Dc){let{message:p,cancellationCode:g}=th(this.urlSerializer,h);this.events.next(new xr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new Ss(h.redirectTo,h.navigationBehaviorOptions))}else throw this.events.next(l),u}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return tn}))}))}cancelNavigationTransition(t,r,i){let o=new xr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _j(n){return n!==_c}var wj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>k(Ej),providedIn:"root"})}return n})(),zy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Ej=(()=>{class n extends zy{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cr(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>k(Ij),providedIn:"root"})}return n})(),Ij=(()=>{class n extends iS{location=k(ys);urlSerializer=k(Rc);options=k(kc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=k(Qy);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=$D(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ds)this.stateMemento=this.createStateMemento();else if(t instanceof pi)this.rawUrlTree=r.initialUrl;else if(t instanceof Qd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Cc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof xr&&(t.code===on.GuardRejected||t.code===on.NoDataFromResolver)?this.restoreHistory(r):t instanceof bc?this.restoreHistory(r,!0):t instanceof Nr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Rr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=V(V({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cr(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oS(n,e){n.events.pipe(jt(t=>t instanceof Nr||t instanceof xr||t instanceof bc||t instanceof pi),ee(t=>t instanceof Nr||t instanceof pi?0:(t instanceof xr?t.code===on.Redirect||t.code===on.SupersededByNewNavigation:!1)?2:1),jt(t=>t!==2),pr(1)).subscribe(()=>{e()})}var bj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Se=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(zg);stateManager=k(iS);options=k(kc,{optional:!0})||{};pendingTasks=k(Tr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k(Yy);urlSerializer=k(Rc);location=k(ys);urlHandlingStrategy=k(Qy);_events=new ut;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(wj);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(Mc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(ih,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new tt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof xr&&r.code!==on.Redirect&&r.code!==on.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Nr)this.navigated=!0;else if(r instanceof Ss){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_j(i.source)},s);this.scheduleNavigation(a,_c,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Dj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_c,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Gy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=LD(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return jD(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ec(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_c,null,r)}navigate(t,r={skipLocationChange:!1}){return Tj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},bj):r===!1?i=V({},Cj):i=r,Ec(t))return vD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return vD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return oS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}function Dj(n){return!(n instanceof Cc)&&!(n instanceof Ss)}var rh=class{};var Sj=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(jt(t=>t instanceof Nr),fr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Dd(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Be(i).pipe(Bo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ie(null);let o=i.pipe(rt(s=>s===null?ie(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Be([o,s]).pipe(Bo())}else return o})}static \u0275fac=function(r){return new(r||n)(J(Se),J(xd),J(Tt),J(rh),J(Ky))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sS=new q(""),Aj=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ds?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Nr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof pi&&t.code===Kd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Yd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){rT()};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function aS(n,...e){return Mn([{provide:Mc,multi:!0,useValue:n},[],{provide:Dt,useFactory:cS,deps:[Se]},{provide:cc,multi:!0,useFactory:uS},e.map(t=>t.\u0275providers)])}function cS(n){return n.routerState.root}function Fc(n,e){return{\u0275kind:n,\u0275providers:e}}function uS(){let n=k(et);return e=>{let t=n.get(_r);if(e!==t.components[0])return;let r=n.get(Se),i=n.get(lS);n.get(Zy)===1&&r.initialNavigation(),n.get(dS,null,ve.Optional)?.setUpPreloading(),n.get(sS,null,ve.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var lS=new q("",{factory:()=>new ut}),Zy=new q("",{providedIn:"root",factory:()=>1});function Mj(){return Fc(2,[{provide:Zy,useValue:0},{provide:Sd,multi:!0,deps:[et],useFactory:e=>{let t=e.get($T,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Se),o=e.get(lS);oS(i,()=>{r(!0)}),e.get(Yy).afterPreactivation=()=>(r(!0),o.closed?ie(void 0):o),i.initialNavigation()}))}}])}function xj(){return Fc(3,[{provide:Sd,multi:!0,useFactory:()=>{let e=k(Se);return()=>{e.setUpLocationChangeListener()}}},{provide:Zy,useValue:2}])}var dS=new q("");function Rj(n){return Fc(0,[{provide:dS,useExisting:Sj},{provide:rh,useExisting:n}])}function Nj(){return Fc(8,[ID,{provide:ih,useExisting:ID}])}function Pj(n){let e=[{provide:tS,useValue:yj},{provide:nS,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return Fc(9,e)}var DD=new q("ROUTER_FORROOT_GUARD"),Oj=[ys,{provide:Rc,useClass:Ts},Se,Pc,{provide:Dt,useFactory:cS,deps:[Se]},Ky,[]],_n=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Oj,[],{provide:Mc,multi:!0,useValue:t},{provide:DD,useFactory:Lj,deps:[[Se,new Pt,new ug]]},r?.errorHandler?{provide:rS,useValue:r.errorHandler}:[],{provide:kc,useValue:r||{}},r?.useHash?Fj():Vj(),kj(),r?.preloadingStrategy?Rj(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?jj(r):[],r?.bindToComponentInputs?Nj().\u0275providers:[],r?.enableViewTransitions?Pj().\u0275providers:[],Uj()]}}static forChild(t){return{ngModule:n,providers:[{provide:Mc,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)(J(DD,8))};static \u0275mod=Sr({type:n});static \u0275inj=Er({})}return n})();function kj(){return{provide:sS,useFactory:()=>{let n=k(GT),e=k(Oe),t=k(kc),r=k(Yy),i=k(Rc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Aj(i,r,n,e,t)}}}function Fj(){return{provide:Xi,useClass:zT}}function Vj(){return{provide:Xi,useClass:ny}}function Lj(n){return"guarded"}function jj(n){return[n.initialNavigation==="disabled"?xj().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Mj().\u0275providers:[]]}var SD=new q("");function Uj(){return[{provide:SD,useFactory:uS},{provide:cc,multi:!0,useExisting:SD}]}var hS=(()=>{class n{title="imStocked";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(r,i){r&1&&(_(0,"div",0),te(1,"router-outlet"),w())},dependencies:[Wy],encapsulation:2})}return n})();var Jy={production:!0,firebaseConfig:{apiKey:"AIzaSyCI7gpCtihtcpd_UsUoS0cpO__RSJce-DY",authDomain:"imstocked-9bb4c.firebaseapp.com",projectId:"imstocked-9bb4c",storageBucket:"imstocked-9bb4c.firebasestorage.app",messagingSenderId:"533715200186",appId:"1:533715200186:web:5382038bb4bacd1c7b7a83",measurementId:"G-S0S12WDPWJ"}};var fS=()=>{};var gS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Bj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},sh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Bj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new ev;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let M=l<<6&192|p;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ev=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$j=function(n){let e=gS(n);return sh.encodeByteArray(e,!0)},Lc=function(n){return $j(n).replace(/\./g,"")},ah=function(n){try{return sh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Hj=()=>nv().__FIREBASE_DEFAULTS__,zj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ah(n[1]);return e&&JSON.parse(e)},ch=()=>{try{return fS()||Hj()||zj()||qj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rv=n=>{var e,t;return(t=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},yS=n=>{let e=rv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},iv=()=>{var n;return(n=ch())===null||n===void 0?void 0:n.config},ov=n=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${n}`]};var ro=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function io(n){return n.endsWith(".cloudworkstations.dev")}function uh(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function vS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Lc(JSON.stringify(t)),Lc(JSON.stringify(s)),""].join(".")}var Vc={};function Wj(){let n={prod:[],emulator:[]};for(let e of Object.keys(Vc))Vc[e]?n.emulator.push(e):n.prod.push(e);return n}function Gj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var pS=!1;function lh(n,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Vc[n]===e||Vc[n]||pS)return;Vc[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=Wj().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{pS=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=Gj(r),y=t("text"),M=document.getElementById(y)||document.createElement("span"),P=t("learnmore"),N=document.getElementById(P)||document.createElement("a"),U=t("preprendIcon"),W=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let H=g.element;a(H),h(N,P);let he=l();u(W,U),H.append(W,M,N,he),document.body.appendChild(H)}o?(M.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function Kj(){var n;let e=(n=ch())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ES(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){let n=vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CS(){return!Kj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jc(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Qj="FirebaseError",sn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Qj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}},Nn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Yj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new sn(i,a,r)}};function Yj(n,e){return n.replace(Zj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Zj=/\{\$([^}]+)}/g;function DS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Kn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(mS(o)&&mS(s)){if(!Kn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function mS(n){return n!==null&&typeof n=="object"}function Uc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Rs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SS(n,e){let t=new tv(n,e);return t.subscribe.bind(t)}var tv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Jj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Xy),i.error===void 0&&(i.error=Xy),i.complete===void 0&&(i.complete=Xy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Jj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xy(){}var AK=4*60*60*1e3;function lt(n){return n&&n._delegate?n._delegate:n}var qt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var oo="[DEFAULT]";var sv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ro;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eU(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Xj(n){return n===oo?void 0:n}function eU(n){return n.instantiationMode==="EAGER"}var dh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new sv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var tU=[],Ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ce||{}),nU={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},rU=Ce.INFO,iU={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},oU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=iU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qn=class{constructor(e){this.name=e,this._logLevel=rU,this._logHandler=oU,this._userLogHandler=null,tU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var sU=(n,e)=>e.some(t=>n instanceof t),AS,MS;function aU(){return AS||(AS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cU(){return MS||(MS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xS=new WeakMap,cv=new WeakMap,RS=new WeakMap,av=new WeakMap,lv=new WeakMap;function uU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Yn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&xS.set(t,n)}).catch(()=>{}),lv.set(e,n),e}function lU(n){if(cv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});cv.set(n,e)}var uv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NS(n){uv=n(uv)}function dU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(hh(this),e,...t);return RS.set(r,e.sort?e.sort():[e]),Yn(r)}:cU().includes(n)?function(...e){return n.apply(hh(this),e),Yn(xS.get(this))}:function(...e){return Yn(n.apply(hh(this),e))}}function hU(n){return typeof n=="function"?dU(n):(n instanceof IDBTransaction&&lU(n),sU(n,aU())?new Proxy(n,uv):n)}function Yn(n){if(n instanceof IDBRequest)return uU(n);if(av.has(n))return av.get(n);let e=hU(n);return e!==n&&(av.set(n,e),lv.set(e,n)),e}var hh=n=>lv.get(n);function OS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Yn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Yn(s.result),u.oldVersion,u.newVersion,Yn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var fU=["get","getKey","getAll","getAllKeys","count"],pU=["put","add","delete","clear"],dv=new Map;function PS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dv.get(e))return dv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=pU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fU.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return dv.set(e,o),o}NS(n=>ae(V({},n),{get:(e,t,r)=>PS(e,t)||n.get(e,t,r),has:(e,t)=>!!PS(e,t)||n.has(e,t)}));var fv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function mU(n){let e=n.getComponent();return e?.type==="VERSION"}var pv="@firebase/app",kS="0.13.0";var Pr=new Qn("@firebase/app"),gU="@firebase/app-compat",yU="@firebase/analytics-compat",vU="@firebase/analytics",_U="@firebase/app-check-compat",wU="@firebase/app-check",EU="@firebase/auth",IU="@firebase/auth-compat",bU="@firebase/database",CU="@firebase/data-connect",TU="@firebase/database-compat",DU="@firebase/functions",SU="@firebase/functions-compat",AU="@firebase/installations",MU="@firebase/installations-compat",xU="@firebase/messaging",RU="@firebase/messaging-compat",NU="@firebase/performance",PU="@firebase/performance-compat",OU="@firebase/remote-config",kU="@firebase/remote-config-compat",FU="@firebase/storage",VU="@firebase/storage-compat",LU="@firebase/firestore",jU="@firebase/ai",UU="@firebase/firestore-compat",BU="firebase",$U="11.8.0";var mv="[DEFAULT]",HU={[pv]:"fire-core",[gU]:"fire-core-compat",[vU]:"fire-analytics",[yU]:"fire-analytics-compat",[wU]:"fire-app-check",[_U]:"fire-app-check-compat",[EU]:"fire-auth",[IU]:"fire-auth-compat",[bU]:"fire-rtdb",[CU]:"fire-data-connect",[TU]:"fire-rtdb-compat",[DU]:"fire-fn",[SU]:"fire-fn-compat",[AU]:"fire-iid",[MU]:"fire-iid-compat",[xU]:"fire-fcm",[RU]:"fire-fcm-compat",[NU]:"fire-perf",[PU]:"fire-perf-compat",[OU]:"fire-rc",[kU]:"fire-rc-compat",[FU]:"fire-gcs",[VU]:"fire-gcs-compat",[LU]:"fire-fst",[UU]:"fire-fst-compat",[jU]:"fire-vertex","fire-js":"fire-js",[BU]:"fire-js-all"};var Bc=new Map,zU=new Map,gv=new Map;function FS(n,e){try{n.container.addComponent(e)}catch(t){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pn(n){let e=n.name;if(gv.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;gv.set(e,n);for(let t of Bc.values())FS(t,n);for(let t of zU.values())FS(t,n);return!0}function Ns(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yt(n){return n==null?!1:n.settings!==void 0}var qU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Nn("app","Firebase",qU);var yv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}};var yi=$U;function wv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:mv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(t||(t=iv()),!t)throw gi.create("no-options");let o=Bc.get(i);if(o){if(Kn(t,o.options)&&Kn(r,o.config))return o;throw gi.create("duplicate-app",{appName:i})}let s=new dh(i);for(let u of gv.values())s.addComponent(u);let a=new yv(t,r,s);return Bc.set(i,a),a}function so(n=mv){let e=Bc.get(n);if(!e&&n===mv&&iv())return wv();if(!e)throw gi.create("no-app",{appName:n});return e}function fh(){return Array.from(Bc.values())}function Ze(n,e,t){var r;let i=(r=HU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}Pn(new qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var WU="firebase-heartbeat-database",GU=1,$c="firebase-heartbeat-store",hv=null;function US(){return hv||(hv=OS(WU,GU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($c)}catch(t){console.warn(t)}}}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),hv}function KU(n){return v(this,null,function*(){try{let t=(yield US()).transaction($c),r=yield t.objectStore($c).get(BS(n));return yield t.done,r}catch(e){if(e instanceof sn)Pr.warn(e.message);else{let t=gi.create("idb-get",{originalErrorMessage:e?.message});Pr.warn(t.message)}}})}function VS(n,e){return v(this,null,function*(){try{let r=(yield US()).transaction($c,"readwrite");yield r.objectStore($c).put(e,BS(n)),yield r.done}catch(t){if(t instanceof sn)Pr.warn(t.message);else{let r=gi.create("idb-set",{originalErrorMessage:t?.message});Pr.warn(r.message)}}})}function BS(n){return`${n.name}!${n.options.appId}`}var QU=1024,YU=30,vv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new _v(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=LS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>YU){let s=JU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=LS(),{heartbeatsToSend:r,unsentEntries:i}=ZU(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Pr.warn(t),""}})}};function LS(){return new Date().toISOString().substring(0,10)}function ZU(n,e=QU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),jS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var _v=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return jc()?TS().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield KU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function jS(n){return Lc(JSON.stringify({version:2,heartbeats:n})).length}function JU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function XU(n){Pn(new qt("platform-logger",e=>new fv(e),"PRIVATE")),Pn(new qt("heartbeat",e=>new vv(e),"PRIVATE")),Ze(pv,kS,n),Ze(pv,kS,"esm2017"),Ze("fire-js","")}XU("");var eB="firebase",tB="11.8.1";Ze(eB,tB,"app");function Zt(n){return typeof n=="function"}function $S(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ph=$S(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Hc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Zn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Zt(r))try{r()}catch(o){e=o instanceof ph?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{HS(o)}catch(s){e=e??[],s instanceof ph?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ph(e)}}add(e){var t;if(e&&e!==this)if(this.closed)HS(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Hc(t,e)}remove(e){let{_finalizers:t}=this;t&&Hc(t,e),e instanceof n&&e._removeParent(this)}};Zn.EMPTY=(()=>{let n=new Zn;return n.closed=!0,n})();var cQ=Zn.EMPTY;function mh(n){return n instanceof Zn||n&&"closed"in n&&Zt(n.remove)&&Zt(n.add)&&Zt(n.unsubscribe)}function HS(n){Zt(n)?n():n.unsubscribe()}var On={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ps={setTimeout(n,e,...t){let{delegate:r}=Ps;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ps;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zS(n){Ps.setTimeout(()=>{let{onUnhandledError:e}=On;if(e)e(n);else throw n})}function Ev(){}var qS=Iv("C",void 0,void 0);function WS(n){return Iv("E",void 0,n)}function GS(n){return Iv("N",n,void 0)}function Iv(n,e,t){return{kind:n,value:e,error:t}}var ao=null;function KS(n){if(On.useDeprecatedSynchronousErrorHandling){let e=!ao;if(e&&(ao={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ao;if(ao=null,t)throw r}}else n()}function QS(n){On.useDeprecatedSynchronousErrorHandling&&ao&&(ao.errorThrown=!0,ao.error=n)}var co=class extends Zn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mh(e)&&e.add(this)):this.destination=iB}static create(e,t,r){return new Os(e,t,r)}next(e){this.isStopped?Cv(GS(e),this):this._next(e)}error(e){this.isStopped?Cv(WS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cv(qS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nB=Function.prototype.bind;function bv(n,e){return nB.call(n,e)}var Tv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){gh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){gh(r)}else gh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){gh(t)}}},Os=class extends co{constructor(e,t,r){super();let i;if(Zt(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&On.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bv(e.next,o),error:e.error&&bv(e.error,o),complete:e.complete&&bv(e.complete,o)}):i=e}this.destination=new Tv(i)}};function gh(n){On.useDeprecatedSynchronousErrorHandling?QS(n):zS(n)}function rB(n){throw n}function Cv(n,e){let{onStoppedNotification:t}=On;t&&Ps.setTimeout(()=>t(n,e))}var iB={closed:!0,next:Ev,error:rB,complete:Ev};var YS=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ZS(n){return n}function JS(n){return n.length===0?ZS:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var yh=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=sB(t)?t:new Os(t,r,i);return KS(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=XS(r),new r((i,o)=>{let s=new Os({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[YS](){return this}pipe(...t){return JS(t)(this)}toPromise(t){return t=XS(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function XS(n){var e;return(e=n??On.Promise)!==null&&e!==void 0?e:Promise}function oB(n){return n&&Zt(n.next)&&Zt(n.error)&&Zt(n.complete)}function sB(n){return n&&n instanceof co||oB(n)&&mh(n)}function aB(n){return Zt(n?.lift)}function vh(n){return e=>{if(aB(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function eA(n,e,t,r,i){return new Dv(n,e,t,r,i)}var Dv=class extends co{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Sv={now(){return(Sv.delegate||Date).now()},delegate:void 0};var _h=class extends Zn{constructor(e,t){super()}schedule(e,t=0){return this}};var zc={setInterval(n,e,...t){let{delegate:r}=zc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=zc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ks=class extends _h{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return zc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&zc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Hc(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Fs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Fs.now=Sv.now;var Vs=class extends Fs{constructor(e,t=Fs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Av=new Vs(ks);var wh=class extends ks{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Eh=class extends Vs{};var Mv=new Eh(wh);function Ih(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function bh(n,e=0){return vh((t,r)=>{t.subscribe(eA(r,i=>Ih(r,n,()=>r.next(i),e),()=>Ih(r,n,()=>r.complete(),e),i=>Ih(r,n,()=>r.error(i),e)))})}function Ch(n,e=0){return vh((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function xv(n){n===void 0&&(fg(xv),n=k(et));let e=n.get(_d);return t=>new Ee(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var vi=new wr("ANGULARFIRE2_VERSION");function qc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var js=(n,e)=>{let t=e?[e]:fh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ls=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ls||{}),tA=Kg()&&typeof Zone<"u"?Ls.WARN:Ls.SILENT;var Th=class{zone;delegate;constructor(e,t=Mv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},_i=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=k(Oe);this.outsideAngular=t.runOutsideAngular(()=>new Th(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Th(typeof Zone>"u"?void 0:Zone.current,Av))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nA=!1;function cB(n,e){!nA&&(tA>Ls.SILENT||Kg())&&(nA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),tA>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function uB(n){let e=k(Oe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function uo(n){let e=k(Oe,{optional:!0});return e?e.run(()=>n()):n()}var lB=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),mt(t,()=>uo(()=>n.apply(void 0,r)))),_t=(n,e,t)=>(t||=e?Ls.WARN:Ls.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=k(_i),s=k(_d),a=k(Tt)}catch{return cB(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=uo(()=>s.add())),i[l]=lB(i[l],r,a));let u=uB(()=>n.apply(this,i));return e?u instanceof yh?u.pipe(Ch(o.outsideAngular),bh(o.insideAngular),xv(a)):u instanceof Promise?uo(()=>(s.run(()=>u),new Promise((l,h)=>{u.then(p=>mt(a,()=>uo(()=>l(p))),p=>mt(a,()=>uo(()=>h(p))))}))):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:uo(()=>u):u instanceof yh?u.pipe(Ch(o.outsideAngular),bh(o.insideAngular)):uo(()=>u)});var Or=class{constructor(e){return e}},lo=class{constructor(){return fh()}};function dB(n){return n&&n.length===1?n[0]:new Or(so())}var Rv=new q("angularfire2._apps"),hB={provide:Or,useFactory:dB,deps:[[new Pt,Rv]]},fB={provide:lo,deps:[[new Pt,Rv]]};function pB(n){return(e,t)=>{let r=t.get(zn);Ze("angularfire",vi.full,"core"),Ze("angularfire",vi.full,"app"),Ze("angular",NT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Or(i)}}function rA(n,...e){return Mn([hB,fB,{provide:Rv,useFactory:pB(n),multi:!0,deps:[Oe,et,_i,...e]}])}var iA=_t(wv,!0);var mB=new Map,gB={activated:!1,tokenObservers:[]},yB={initialized:!1,enabled:!1};function kn(n){return mB.get(n)||Object.assign({},gB)}function cA(){return yB}var vB="https://content-firebaseappcheck.googleapis.com/v1";var _B="exchangeDebugToken",oA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},uZ=24*60*60*1e3;var Ov=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new ro,this.pending.promise.catch(t=>{}),yield wB(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ro,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function wB(n){return new Promise(e=>{setTimeout(e,n)})}var EB={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},wi=new Nn("appCheck","AppCheck",EB);function uA(n){if(!kn(n).activated)throw wi.create("use-before-activation",{appName:n.name})}function lA(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw wi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw wi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw wi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw wi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function dA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${vB}/projects/${t}/apps/${r}:${_B}?key=${i}`,body:{debug_token:e}}}var IB="firebase-app-check-database",bB=1,kv="firebase-app-check-store";var Dh=null;function CB(){return Dh||(Dh=new Promise((n,e)=>{try{let t=indexedDB.open(IB,bB);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(wi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(kv,{keyPath:"compositeKey"})}}}catch(t){e(wi.create("storage-open",{originalErrorMessage:t?.message}))}}),Dh)}function TB(n,e){return DB(SB(n),e)}function DB(n,e){return v(this,null,function*(){let r=(yield CB()).transaction(kv,"readwrite"),o=r.objectStore(kv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(wi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function SB(n){return`${n.options.appId}-${n.name}`}var Wc=new Qn("@firebase/app-check");function Nv(n,e){return jc()?TB(n,e).catch(t=>{Wc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function hA(){return cA().enabled}function fA(){return v(this,null,function*(){let n=cA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var AB={error:"UNKNOWN_ERROR"};function MB(n){return sh.encodeString(JSON.stringify(n),!1)}function Fv(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;uA(r);let i=kn(r),o=i.token,s;if(o&&!Gc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Gc(l)?o=l:yield Nv(r,void 0))}if(!e&&o&&Gc(o))return{token:o.token};let a=!1;if(hA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=lA(dA(r,yield fA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Nv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wc.warn(l.message):t&&Wc.error(l),Pv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield kn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wc.warn(l.message):t&&Wc.error(l),s=l}let u;return o?s?Gc(o)?u={token:o.token,internalError:s}:u=Pv(s):(u={token:o.token},i.token=o,yield Nv(r,o)):u=Pv(s),a&&PB(r,u),u})}function xB(n){return v(this,null,function*(){let e=n.app;uA(e);let{provider:t}=kn(e);if(hA()){let r=yield fA(),{token:i}=yield lA(dA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function RB(n,e,t,r){let{app:i}=n,o=kn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Gc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),sA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>sA(n))}function pA(n,e){let t=kn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function sA(n){let{app:e}=n,t=kn(e),r=t.tokenRefresher;r||(r=NB(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function NB(n){let{app:e}=n;return new Ov(()=>v(this,null,function*(){let t=kn(e),r;if(t.token?r=yield Fv(n,!0):r=yield Fv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=kn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},oA.RETRIAL_MIN_WAIT,oA.RETRIAL_MAX_WAIT)}function PB(n,e){let t=kn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Gc(n){return n.expireTimeMillis-Date.now()>0}function Pv(n){return{token:MB(AB),error:n}}var Vv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=kn(this.app);for(let t of e)pA(this.app,t.next);return Promise.resolve()}};function OB(n,e){return new Vv(n,e)}function kB(n){return{getToken:e=>Fv(n,e),getLimitedUseToken:()=>xB(n),addTokenListener:e=>RB(n,"INTERNAL",e),removeTokenListener:e=>pA(n.app,e)}}var FB="@firebase/app-check",VB="0.10.0";var LB="app-check",aA="app-check-internal";function jB(){Pn(new qt(LB,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return OB(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aA).initialize()})),Pn(new qt(aA,n=>{let e=n.getProvider("app-check").getImmediate();return kB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ze(FB,VB)}jB();var UB="app-check";var Us=class{constructor(){return js(UB)}};var BB=["localhost","0.0.0.0","127.0.0.1"],IZ=typeof window<"u"&&BB.includes(window.location.hostname);function xA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var RA=xA,NA=new Nn("auth","Firebase",xA());var Nh=new Qn("@firebase/auth");function $B(n,...e){Nh.logLevel<=Ce.WARN&&Nh.warn(`Auth (${yi}): ${n}`,...e)}function Ah(n,...e){Nh.logLevel<=Ce.ERROR&&Nh.error(`Auth (${yi}): ${n}`,...e)}function Xn(n,...e){throw c_(n,...e)}function ho(n,...e){return c_(n,...e)}function PA(n,e,t){let r=Object.assign(Object.assign({},RA()),{[e]:t});return new Nn("auth","Firebase",r).create(e,{appName:n.name})}function Vr(n){return PA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NA.create(n,...e)}function se(n,e,...t){if(!n)throw c_(e,...t)}function kr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ah(e),new Error(e)}function bi(n,e){n||kr(e)}function Bv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HB(){return mA()==="http:"||mA()==="https:"}function mA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function zB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HB()||ES()||"connection"in navigator)?navigator.onLine:!0}function qB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var fo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,bi(t>e,"Short delay should be less than long delay!"),this.isMobile=_S()||IS()}get(){return zB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function u_(n,e){bi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ph=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var WB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var GB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KB=new fo(3e4,6e4);function Ci(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ti(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return OA(n,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Uc(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return wS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&io(n.emulatorConfig.host)&&(y.credentials="include"),Ph.fetch()(yield kA(n,n.config.apiHost,t,p),y)}))})}function OA(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},WB),e);try{let i=new $v(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Sh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Sh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Sh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw PA(n,h,l);Xn(n,h)}}catch(i){if(i instanceof sn)throw i;Xn(n,"network-request-failed",{message:String(i)})}})}function nu(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Ti(n,e,t,r,i);return"mfaPendingCredential"in l&&Xn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function kA(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?u_(n.config,i):`${n.config.apiScheme}://${i}`;return GB.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function QB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var $v=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ho(this.auth,"network-request-failed")),KB.get())})}};function Sh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ho(n,e,r);return i.customData._tokenResponse=t,i}function gA(n){return n!==void 0&&n.enterprise!==void 0}var Hv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function YB(n,e){return v(this,null,function*(){return Ti(n,"GET","/v2/recaptchaConfig",Ci(n,e))})}function ZB(n,e){return v(this,null,function*(){return Ti(n,"POST","/v1/accounts:delete",e)})}function Oh(n,e){return v(this,null,function*(){return Ti(n,"POST","/v1/accounts:lookup",e)})}function Qc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function l_(n,e=!1){return v(this,null,function*(){let t=lt(n),r=yield t.getIdToken(e),i=d_(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qc(Lv(i.auth_time)),issuedAtTime:Qc(Lv(i.iat)),expirationTime:Qc(Lv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Lv(n){return Number(n)*1e3}function d_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{let i=ah(t);return i?JSON.parse(i):(Ah("Failed to decode base64 JWT payload"),null)}catch(i){return Ah("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yA(n){let e=d_(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Zc(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof sn&&JB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function JB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var zv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Jc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function kh(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Zc(n,Oh(t,{idToken:r}));se(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FA(o.providerUserInfo):[],a=XB(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function h_(n){return v(this,null,function*(){let e=lt(n);yield kh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function XB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FA(n){return n.map(e=>{var{providerId:t}=e,r=em(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function e4(n,e){return v(this,null,function*(){let t=yield OA(n,{},()=>v(this,null,function*(){let r=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield kA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ph.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function t4(n,e){return v(this,null,function*(){return Ti(n,"POST","/v2/accounts:revokeToken",Ci(n,e))})}var Yc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=yA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield e4(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return kr("not implemented")}};function Ei(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ii=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield Zc(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return l_(this,e)}reload(){return h_(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield kh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Yt(this.auth.app))return Promise.reject(Vr(this.auth));let e=yield this.getIdToken();return yield Zc(this,ZB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,P=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,U=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:he,isAnonymous:qe,providerData:ce,stsTokenManager:T}=t;se(H&&T,e,"internal-error");let E=Yc.fromJSON(this.name,T);se(typeof H=="string",e,"internal-error"),Ei(p,e.name),Ei(g,e.name),se(typeof he=="boolean",e,"internal-error"),se(typeof qe=="boolean",e,"internal-error"),Ei(y,e.name),Ei(M,e.name),Ei(P,e.name),Ei(N,e.name),Ei(U,e.name),Ei(W,e.name);let I=new n({uid:H,auth:e,email:g,emailVerified:he,displayName:p,isAnonymous:qe,photoURL:M,phoneNumber:y,tenantId:P,stsTokenManager:E,createdAt:U,lastLoginAt:W});return ce&&Array.isArray(ce)&&(I.providerData=ce.map(C=>Object.assign({},C))),N&&(I._redirectEventId=N),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Yc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?FA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Yc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var vA=new Map;function Fr(n){bi(n instanceof Function,"Expected a class definition");let e=vA.get(n);return e?(bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vA.set(n,e),e)}var n4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),qv=n4;function Mh(n,e,t){return`firebase:${n}:${e}:${t}`}var Fh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Mh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Oh(this.auth,{idToken:e}).catch(()=>{});return t?Ii._fromGetAccountInfoResponse(this.auth,t,e):null}return Ii._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(Fr(qv),e,r);let i=(yield Promise.all(t.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Fr(qv),s=Mh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Oh(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Ii._fromGetAccountInfoResponse(e,g,h)}else p=Ii._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function _A(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($A(e))return"Blackberry";if(HA(e))return"Webos";if(LA(e))return"Safari";if((e.includes("chrome/")||jA(e))&&!e.includes("edge/"))return"Chrome";if(BA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function VA(n=vt()){return/firefox\//i.test(n)}function LA(n=vt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jA(n=vt()){return/crios\//i.test(n)}function UA(n=vt()){return/iemobile/i.test(n)}function BA(n=vt()){return/android/i.test(n)}function $A(n=vt()){return/blackberry/i.test(n)}function HA(n=vt()){return/webos/i.test(n)}function f_(n=vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function r4(n=vt()){var e;return f_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function i4(){return bS()&&document.documentMode===10}function zA(n=vt()){return f_(n)||BA(n)||HA(n)||$A(n)||/windows phone/i.test(n)||UA(n)}function qA(n,e=[]){let t;switch(n){case"Browser":t=_A(vt());break;case"Worker":t=`${_A(vt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yi}/${r}`}var Wv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function o4(t){return v(this,arguments,function*(n,e={}){return Ti(n,"GET","/v2/passwordPolicy",Ci(n,e))})}var s4=6,Gv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:s4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Kv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vh(this),this.idTokenSubscription=new Vh(this),this.beforeStateQueue=new Wv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Fh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield Oh(this,{idToken:e}),r=yield Ii._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(Yt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield kh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=qB()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Yt(this.app))return Promise.reject(Vr(this));let t=e?lt(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Yt(this.app)?Promise.reject(Vr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Yt(this.app)?Promise.reject(Vr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Fr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield o4(this),t=new Gv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield t4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Fr(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield Fh.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Yt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&$B(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function mo(n){return lt(n)}var Vh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=SS(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var zh={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a4(n){zh=n}function WA(n){return zh.loadJS(n)}function c4(){return zh.recaptchaEnterpriseScript}function u4(){return zh.gapiScript}function GA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Qv=class{constructor(){this.enterprise=new Yv}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Yv=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var l4="recaptcha-enterprise",KA="NO_RECAPTCHA",Zv=class{constructor(e){this.type=l4,this.auth=mo(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){YB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Hv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;gA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(KA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&gA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=c4();u.length!==0&&(u+=a),WA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Kc(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new Zv(n),s;if(i)s=KA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Jv(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Kc(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Kc(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Kc(n,e,t);return r(n,a).catch(u=>v(this,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Kc(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield Kc(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function p_(n,e){let t=Ns(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Kn(o,e??{}))return i;Xn(i,"already-initialized")}return t.initialize({options:e})}function d4(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Fr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function m_(n,e,t){let r=mo(n);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=QA(e),{host:s,port:a}=h4(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(Kn(l,r.config.emulator)&&Kn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,io(s)?(uh(`${o}//${s}${u}`),lh("Auth",!0)):i||f4()}function QA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function h4(n){let e=QA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:wA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:wA(s)}}}function wA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function f4(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Xc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,t){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}};function p4(n,e){return v(this,null,function*(){return Ti(n,"POST","/v1/accounts:signUp",e)})}function m4(n,e){return v(this,null,function*(){return nu(n,"POST","/v1/accounts:signInWithPassword",Ci(n,e))})}function g4(n,e){return v(this,null,function*(){return nu(n,"POST","/v1/accounts:signInWithEmailLink",Ci(n,e))})}function y4(n,e){return v(this,null,function*(){return nu(n,"POST","/v1/accounts:signInWithEmailLink",Ci(n,e))})}var eu=class n extends Xc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jv(e,t,"signInWithPassword",m4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return g4(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jv(e,r,"signUpPassword",p4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return y4(e,{idToken:t,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function jv(n,e){return v(this,null,function*(){return nu(n,"POST","/v1/accounts:signInWithIdp",Ci(n,e))})}function v4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _4(n){let e=xs(Rs(n)).link,t=e?xs(Rs(e)).deep_link_id:null,r=xs(Rs(n)).deep_link_id;return(r?xs(Rs(r)).link:null)||r||t||e||n}var Lh=class n{constructor(e){var t,r,i,o,s,a;let u=xs(Rs(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=v4((i=u.mode)!==null&&i!==void 0?i:null);se(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=_4(e);try{return new n(t)}catch{return null}}};var YA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return eu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Lh.parseLink(r);return se(i,"argument-error"),eu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),jh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Xv=class extends jh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function w4(n,e){return v(this,null,function*(){return nu(n,"POST","/v1/accounts:signUp",Ci(n,e))})}var Bs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield Ii._fromIdTokenResponse(e,r,i),s=EA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=EA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function EA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var e_=class n extends sn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function ZA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?e_._fromErrorAndOperation(n,o,e,r):o})}function E4(n,e,t=!1){return v(this,null,function*(){let r=yield Zc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Bs._forOperation(n,"link",r)})}function I4(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(Yt(r.app))return Promise.reject(Vr(r));let i="reauthenticate";try{let o=yield Zc(n,ZA(r,i,e,n),t);se(o.idToken,r,"internal-error");let s=d_(o.idToken);se(s,r,"internal-error");let{sub:a}=s;return se(n.uid===a,r,"user-mismatch"),Bs._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Xn(r,"user-mismatch"),o}})}function JA(n,e,t=!1){return v(this,null,function*(){if(Yt(n.app))return Promise.reject(Vr(n));let r="signIn",i=yield ZA(n,r,e),o=yield Bs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function g_(n,e){return v(this,null,function*(){return JA(mo(n),e)})}function XA(n){return v(this,null,function*(){let e=mo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function y_(n,e,t){return v(this,null,function*(){if(Yt(n.app))return Promise.reject(Vr(n));let r=mo(n),s=yield Jv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w4,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&XA(n),u}),a=yield Bs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function v_(n,e,t){return Yt(n.app)?Promise.reject(Vr(n)):g_(lt(n),YA.credential(e,t)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&XA(n),r}))}function __(n,e,t,r){return lt(n).onIdTokenChanged(e,t,r)}function w_(n,e,t){return lt(n).beforeAuthStateChanged(e,t)}var Uh="__sak";var Bh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var b4=1e3,C4=10,T4=(()=>{class n extends Bh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);i4()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,C4):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},b4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Yr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Yr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Yr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),eM=T4;var D4=(()=>{class n extends Bh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),E_=D4;function S4(n){return Promise.all(n.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var A4=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield S4(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function tM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var t_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=tM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Jn(){return window}function M4(n){Jn().location.href=n}function nM(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}function x4(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function R4(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function N4(){return nM()?self:null}var rM="firebaseLocalStorageDb",P4=1,$h="firebaseLocalStorage",iM="fbase_key",po=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function qh(n,e){return n.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function O4(){let n=indexedDB.deleteDatabase(rM);return new po(n).toPromise()}function n_(){let n=indexedDB.open(rM,P4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore($h,{keyPath:iM})}catch(i){t(i)}}),n.addEventListener("success",()=>v(this,null,function*(){let r=n.result;r.objectStoreNames.contains($h)?e(r):(r.close(),yield O4(),e(yield n_()))}))})}function IA(n,e,t){return v(this,null,function*(){let r=qh(n,!0).put({[iM]:e,value:t});return new po(r).toPromise()})}function k4(n,e){return v(this,null,function*(){let t=qh(n,!1).get(e),r=yield new po(t).toPromise();return r===void 0?null:r.value})}function bA(n,e){let t=qh(n,!0).delete(e);return new po(t).toPromise()}var F4=800,V4=3,L4=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield n_(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>V4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return nM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=A4._getInstance(N4()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield x4(),!this.activeServiceWorker)return;this.sender=new t_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||R4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield n_();return yield IA(t,Uh,"1"),yield bA(t,Uh),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>IA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>k4(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>bA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=qh(o,!1).getAll();return new po(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),F4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),oM=L4;var xZ=GA("rcb"),RZ=new fo(3e4,6e4);function j4(n,e){return e?Fr(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var tu=class extends Xc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function U4(n){return JA(n.auth,new tu(n),n.bypassAuthState)}function B4(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),I4(t,new tu(n),n.bypassAuthState)}function $4(n){return v(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),E4(t,new tu(n),n.bypassAuthState)})}var r_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U4;case"linkViaPopup":case"linkViaRedirect":return $4;case"reauthViaPopup":case"reauthViaRedirect":return B4;default:Xn(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var NZ=new fo(2e3,1e4);var H4="pendingRedirect",xh=new Map,i_=class n extends r_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=xh.get(this.auth._key());if(!e){try{let r=(yield z4(this.resolver,this.auth))?yield Yr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Yr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Yr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function z4(n,e){return v(this,null,function*(){let t=G4(e),r=W4(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function q4(n,e){xh.set(n._key(),e)}function W4(n){return Fr(n._redirectPersistence)}function G4(n){return Mh(H4,n.config.apiKey,n.name)}function K4(n,e,t=!1){return v(this,null,function*(){if(Yt(n.app))return Promise.reject(Vr(n));let r=mo(n),i=j4(r,e),s=yield new i_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Q4=10*60*1e3,o_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!sM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ho(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q4&&this.cachedEventUids.clear(),this.cachedEventUids.has(CA(e))}saveEventToCache(e){this.cachedEventUids.add(CA(e)),this.lastProcessedEventTime=Date.now()}};function CA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Y4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sM(n);default:return!1}}function Z4(t){return v(this,arguments,function*(n,e={}){return Ti(n,"GET","/v1/projects",e)})}var J4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X4=/^https?/;function e$(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Z4(n);for(let t of e)try{if(t$(t))return}catch{}Xn(n,"unauthorized-domain")})}function t$(n){let e=Bv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!X4.test(t))return!1;if(J4.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var n$=new fo(3e4,6e4);function TA(){let n=Jn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function r$(n){return new Promise((e,t)=>{var r,i,o;function s(){TA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TA(),t(ho(n,"network-request-failed"))},timeout:n$.get()})}if(!((i=(r=Jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jn().gapi)===null||o===void 0)&&o.load)s();else{let a=GA("iframefcb");return Jn()[a]=()=>{gapi.load?s():t(ho(n,"network-request-failed"))},WA(`${u4()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Rh=null,e})}var Rh=null;function i$(n){return Rh=Rh||r$(n),Rh}var o$=new fo(5e3,15e3),s$="__/auth/iframe",a$="emulator/auth/iframe",c$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l$(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?u_(e,a$):`https://${n.config.authDomain}/${s$}`,r={apiKey:e.apiKey,appName:n.name,v:yi},i=u$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Uc(r).slice(1)}`}function d$(n){return v(this,null,function*(){let e=yield i$(n),t=Jn().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:l$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c$,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ho(n,"network-request-failed"),a=Jn().setTimeout(()=>{o(s)},o$.get());function u(){Jn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var h$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f$=500,p$=600,m$="_blank",g$="http://localhost",Hh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function y$(n,e,t,r=f$,i=p$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},h$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=vt().toLowerCase();t&&(a=jA(l)?m$:t),VA(l)&&(e=e||g$,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,M])=>`${g}${y}=${M},`,"");if(r4(l)&&a!=="_self")return v$(e||"",a),new Hh(null);let p=window.open(e||"",a,h);se(p,n,"popup-blocked");try{p.focus()}catch{}return new Hh(p)}function v$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var _$="__/auth/handler",w$="emulator/auth/handler",E$=encodeURIComponent("fac");function DA(n,e,t,r,i,o){return v(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yi,eventId:i};if(e instanceof jh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",DS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Xv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${E$}=${encodeURIComponent(u)}`:"";return`${I$(n)}?${Uc(a).slice(1)}${l}`})}function I$({config:n}){return n.emulator?u_(n,w$):`https://${n.authDomain}/${_$}`}var Uv="webStorageSupport",s_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E_,this._completeRedirectFn=K4,this._overrideRedirectResult=q4}_openPopup(e,t,r,i){return v(this,null,function*(){var o;bi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield DA(e,t,r,Bv(),i);return y$(e,s,tM())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield DA(e,t,r,Bv(),i);return M4(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(bi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield d$(e),r=new o_(e);return t.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Uv,{type:Uv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Uv];s!==void 0&&t(!!s),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=e$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zA()||LA()||f_()}},aM=s_;var SA="@firebase/auth",AA="1.10.6";var a_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function b$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C$(n){Pn(new qt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qA(n)},l=new Kv(r,i,o,u);return d4(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pn(new qt("auth-internal",e=>{let t=mo(e.getProvider("auth").getImmediate());return(r=>new a_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ze(SA,AA,b$(n)),Ze(SA,AA,"esm2017")}var T$=5*60,D$=ov("authIdTokenMaxAge")||T$,MA=null,S$=n=>e=>v(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>D$)return;let i=t?.token;MA!==i&&(MA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function I_(n=so()){let e=Ns(n,"auth");if(e.isInitialized())return e.getImmediate();let t=p_(n,{popupRedirectResolver:aM,persistence:[oM,eM,E_]}),r=ov("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=S$(o.toString());w_(t,s,()=>s(t.currentUser)),__(t,a=>s(a))}}let i=rv("auth");return i&&m_(t,`http://${i}`),t}function A$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}a4({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ho("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",A$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C$("Browser");var cM="auth",go=class{constructor(e){return e}},ru=class{constructor(){return js(cM)}};var b_=new q("angularfire2.auth-instances");function v3(n,e){let t=qc(cM,n,e);return t&&new go(t)}function _3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new go(r)}}var w3={provide:ru,deps:[[new Pt,b_]]},E3={provide:go,useFactory:v3,deps:[[new Pt,b_],Or]};function uM(n,...e){return Ze("angularfire",vi.full,"auth"),Mn([E3,w3,{provide:b_,useFactory:_3(n),multi:!0,deps:[Oe,et,_i,lo,[new Pt,Us],...e]}])}var lM=_t(y_,!0,2);var dM=_t(I_,!0);var hM=_t(v_,!0,2);var fM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pM={};var Lr,C_;(function(){var n;function e(T,E){function I(){}I.prototype=E.prototype,T.D=E.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(C,S,x){for(var b=Array(arguments.length-2),lr=2;lr<arguments.length;lr++)b[lr-2]=arguments[lr];return E.prototype[S].apply(C,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,E,I){I||(I=0);var C=Array(16);if(typeof E=="string")for(var S=0;16>S;++S)C[S]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(S=0;16>S;++S)C[S]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=T.g[0],I=T.g[1],S=T.g[2];var x=T.g[3],b=E+(x^I&(S^x))+C[0]+3614090360&4294967295;E=I+(b<<7&4294967295|b>>>25),b=x+(S^E&(I^S))+C[1]+3905402710&4294967295,x=E+(b<<12&4294967295|b>>>20),b=S+(I^x&(E^I))+C[2]+606105819&4294967295,S=x+(b<<17&4294967295|b>>>15),b=I+(E^S&(x^E))+C[3]+3250441966&4294967295,I=S+(b<<22&4294967295|b>>>10),b=E+(x^I&(S^x))+C[4]+4118548399&4294967295,E=I+(b<<7&4294967295|b>>>25),b=x+(S^E&(I^S))+C[5]+1200080426&4294967295,x=E+(b<<12&4294967295|b>>>20),b=S+(I^x&(E^I))+C[6]+2821735955&4294967295,S=x+(b<<17&4294967295|b>>>15),b=I+(E^S&(x^E))+C[7]+4249261313&4294967295,I=S+(b<<22&4294967295|b>>>10),b=E+(x^I&(S^x))+C[8]+1770035416&4294967295,E=I+(b<<7&4294967295|b>>>25),b=x+(S^E&(I^S))+C[9]+2336552879&4294967295,x=E+(b<<12&4294967295|b>>>20),b=S+(I^x&(E^I))+C[10]+4294925233&4294967295,S=x+(b<<17&4294967295|b>>>15),b=I+(E^S&(x^E))+C[11]+2304563134&4294967295,I=S+(b<<22&4294967295|b>>>10),b=E+(x^I&(S^x))+C[12]+1804603682&4294967295,E=I+(b<<7&4294967295|b>>>25),b=x+(S^E&(I^S))+C[13]+4254626195&4294967295,x=E+(b<<12&4294967295|b>>>20),b=S+(I^x&(E^I))+C[14]+2792965006&4294967295,S=x+(b<<17&4294967295|b>>>15),b=I+(E^S&(x^E))+C[15]+1236535329&4294967295,I=S+(b<<22&4294967295|b>>>10),b=E+(S^x&(I^S))+C[1]+4129170786&4294967295,E=I+(b<<5&4294967295|b>>>27),b=x+(I^S&(E^I))+C[6]+3225465664&4294967295,x=E+(b<<9&4294967295|b>>>23),b=S+(E^I&(x^E))+C[11]+643717713&4294967295,S=x+(b<<14&4294967295|b>>>18),b=I+(x^E&(S^x))+C[0]+3921069994&4294967295,I=S+(b<<20&4294967295|b>>>12),b=E+(S^x&(I^S))+C[5]+3593408605&4294967295,E=I+(b<<5&4294967295|b>>>27),b=x+(I^S&(E^I))+C[10]+38016083&4294967295,x=E+(b<<9&4294967295|b>>>23),b=S+(E^I&(x^E))+C[15]+3634488961&4294967295,S=x+(b<<14&4294967295|b>>>18),b=I+(x^E&(S^x))+C[4]+3889429448&4294967295,I=S+(b<<20&4294967295|b>>>12),b=E+(S^x&(I^S))+C[9]+568446438&4294967295,E=I+(b<<5&4294967295|b>>>27),b=x+(I^S&(E^I))+C[14]+3275163606&4294967295,x=E+(b<<9&4294967295|b>>>23),b=S+(E^I&(x^E))+C[3]+4107603335&4294967295,S=x+(b<<14&4294967295|b>>>18),b=I+(x^E&(S^x))+C[8]+1163531501&4294967295,I=S+(b<<20&4294967295|b>>>12),b=E+(S^x&(I^S))+C[13]+2850285829&4294967295,E=I+(b<<5&4294967295|b>>>27),b=x+(I^S&(E^I))+C[2]+4243563512&4294967295,x=E+(b<<9&4294967295|b>>>23),b=S+(E^I&(x^E))+C[7]+1735328473&4294967295,S=x+(b<<14&4294967295|b>>>18),b=I+(x^E&(S^x))+C[12]+2368359562&4294967295,I=S+(b<<20&4294967295|b>>>12),b=E+(I^S^x)+C[5]+4294588738&4294967295,E=I+(b<<4&4294967295|b>>>28),b=x+(E^I^S)+C[8]+2272392833&4294967295,x=E+(b<<11&4294967295|b>>>21),b=S+(x^E^I)+C[11]+1839030562&4294967295,S=x+(b<<16&4294967295|b>>>16),b=I+(S^x^E)+C[14]+4259657740&4294967295,I=S+(b<<23&4294967295|b>>>9),b=E+(I^S^x)+C[1]+2763975236&4294967295,E=I+(b<<4&4294967295|b>>>28),b=x+(E^I^S)+C[4]+1272893353&4294967295,x=E+(b<<11&4294967295|b>>>21),b=S+(x^E^I)+C[7]+4139469664&4294967295,S=x+(b<<16&4294967295|b>>>16),b=I+(S^x^E)+C[10]+3200236656&4294967295,I=S+(b<<23&4294967295|b>>>9),b=E+(I^S^x)+C[13]+681279174&4294967295,E=I+(b<<4&4294967295|b>>>28),b=x+(E^I^S)+C[0]+3936430074&4294967295,x=E+(b<<11&4294967295|b>>>21),b=S+(x^E^I)+C[3]+3572445317&4294967295,S=x+(b<<16&4294967295|b>>>16),b=I+(S^x^E)+C[6]+76029189&4294967295,I=S+(b<<23&4294967295|b>>>9),b=E+(I^S^x)+C[9]+3654602809&4294967295,E=I+(b<<4&4294967295|b>>>28),b=x+(E^I^S)+C[12]+3873151461&4294967295,x=E+(b<<11&4294967295|b>>>21),b=S+(x^E^I)+C[15]+530742520&4294967295,S=x+(b<<16&4294967295|b>>>16),b=I+(S^x^E)+C[2]+3299628645&4294967295,I=S+(b<<23&4294967295|b>>>9),b=E+(S^(I|~x))+C[0]+4096336452&4294967295,E=I+(b<<6&4294967295|b>>>26),b=x+(I^(E|~S))+C[7]+1126891415&4294967295,x=E+(b<<10&4294967295|b>>>22),b=S+(E^(x|~I))+C[14]+2878612391&4294967295,S=x+(b<<15&4294967295|b>>>17),b=I+(x^(S|~E))+C[5]+4237533241&4294967295,I=S+(b<<21&4294967295|b>>>11),b=E+(S^(I|~x))+C[12]+1700485571&4294967295,E=I+(b<<6&4294967295|b>>>26),b=x+(I^(E|~S))+C[3]+2399980690&4294967295,x=E+(b<<10&4294967295|b>>>22),b=S+(E^(x|~I))+C[10]+4293915773&4294967295,S=x+(b<<15&4294967295|b>>>17),b=I+(x^(S|~E))+C[1]+2240044497&4294967295,I=S+(b<<21&4294967295|b>>>11),b=E+(S^(I|~x))+C[8]+1873313359&4294967295,E=I+(b<<6&4294967295|b>>>26),b=x+(I^(E|~S))+C[15]+4264355552&4294967295,x=E+(b<<10&4294967295|b>>>22),b=S+(E^(x|~I))+C[6]+2734768916&4294967295,S=x+(b<<15&4294967295|b>>>17),b=I+(x^(S|~E))+C[13]+1309151649&4294967295,I=S+(b<<21&4294967295|b>>>11),b=E+(S^(I|~x))+C[4]+4149444226&4294967295,E=I+(b<<6&4294967295|b>>>26),b=x+(I^(E|~S))+C[11]+3174756917&4294967295,x=E+(b<<10&4294967295|b>>>22),b=S+(E^(x|~I))+C[2]+718787259&4294967295,S=x+(b<<15&4294967295|b>>>17),b=I+(x^(S|~E))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(S+(b<<21&4294967295|b>>>11))&4294967295,T.g[2]=T.g[2]+S&4294967295,T.g[3]=T.g[3]+x&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var I=E-this.blockSize,C=this.B,S=this.h,x=0;x<E;){if(S==0)for(;x<=I;)i(this,T,x),x+=this.blockSize;if(typeof T=="string"){for(;x<E;)if(C[S++]=T.charCodeAt(x++),S==this.blockSize){i(this,C),S=0;break}}else for(;x<E;)if(C[S++]=T[x++],S==this.blockSize){i(this,C),S=0;break}}this.h=S,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var I=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=I&255,I/=256;for(this.u(T),T=Array(16),E=I=0;4>E;++E)for(var C=0;32>C;C+=8)T[I++]=this.g[E]>>>C&255;return T};function o(T,E){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=E(T)}function s(T,E){this.h=E;for(var I=[],C=!0,S=T.length-1;0<=S;S--){var x=T[S]|0;C&&x==E||(I[S]=x,C=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(E){return new s([E|0],0>E?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return N(l(-T));for(var E=[],I=1,C=0;T>=I;C++)E[C]=T/I|0,I*=4294967296;return new s(E,0)}function h(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return N(h(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(E,8)),C=p,S=0;S<T.length;S+=8){var x=Math.min(8,T.length-S),b=parseInt(T.substring(S,S+x),E);8>x?(x=l(Math.pow(E,x)),C=C.j(x).add(l(b))):(C=C.j(I),C=C.add(l(b)))}return C}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-N(this).m();for(var T=0,E=1,I=0;I<this.g.length;I++){var C=this.i(I);T+=(0<=C?C:4294967296+C)*E,E*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(M(this))return"0";if(P(this))return"-"+N(this).toString(T);for(var E=l(Math.pow(T,6)),I=this,C="";;){var S=he(I,E).g;I=U(I,S.j(E));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=S,M(I))return x+C;for(;6>x.length;)x="0"+x;C=x+C}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function M(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function P(T){return T.h==-1}n.l=function(T){return T=U(this,T),P(T)?-1:M(T)?0:1};function N(T){for(var E=T.g.length,I=[],C=0;C<E;C++)I[C]=~T.g[C];return new s(I,~T.h).add(g)}n.abs=function(){return P(this)?N(this):this},n.add=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],C=0,S=0;S<=E;S++){var x=C+(this.i(S)&65535)+(T.i(S)&65535),b=(x>>>16)+(this.i(S)>>>16)+(T.i(S)>>>16);C=b>>>16,x&=65535,b&=65535,I[S]=b<<16|x}return new s(I,I[I.length-1]&-2147483648?-1:0)};function U(T,E){return T.add(N(E))}n.j=function(T){if(M(this)||M(T))return p;if(P(this))return P(T)?N(this).j(N(T)):N(N(this).j(T));if(P(T))return N(this.j(N(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var E=this.g.length+T.g.length,I=[],C=0;C<2*E;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var S=0;S<T.g.length;S++){var x=this.i(C)>>>16,b=this.i(C)&65535,lr=T.i(S)>>>16,Ia=T.i(S)&65535;I[2*C+2*S]+=b*Ia,W(I,2*C+2*S),I[2*C+2*S+1]+=x*Ia,W(I,2*C+2*S+1),I[2*C+2*S+1]+=b*lr,W(I,2*C+2*S+1),I[2*C+2*S+2]+=x*lr,W(I,2*C+2*S+2)}for(C=0;C<E;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=E;C<2*E;C++)I[C]=0;return new s(I,0)};function W(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function H(T,E){this.g=T,this.h=E}function he(T,E){if(M(E))throw Error("division by zero");if(M(T))return new H(p,p);if(P(T))return E=he(N(T),E),new H(N(E.g),N(E.h));if(P(E))return E=he(T,N(E)),new H(N(E.g),E.h);if(30<T.g.length){if(P(T)||P(E))throw Error("slowDivide_ only works with positive integers.");for(var I=g,C=E;0>=C.l(T);)I=qe(I),C=qe(C);var S=ce(I,1),x=ce(C,1);for(C=ce(C,2),I=ce(I,2);!M(C);){var b=x.add(C);0>=b.l(T)&&(S=S.add(I),x=b),C=ce(C,1),I=ce(I,1)}return E=U(T,S.j(E)),new H(S,E)}for(S=p;0<=T.l(E);){for(I=Math.max(1,Math.floor(T.m()/E.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),x=l(I),b=x.j(E);P(b)||0<b.l(T);)I-=C,x=l(I),b=x.j(E);M(x)&&(x=g),S=S.add(x),T=U(T,b)}return new H(S,T)}n.A=function(T){return he(this,T).h},n.and=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)&T.i(C);return new s(I,this.h&T.h)},n.or=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)|T.i(C);return new s(I,this.h|T.h)},n.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)^T.i(C);return new s(I,this.h^T.h)};function qe(T){for(var E=T.g.length+1,I=[],C=0;C<E;C++)I[C]=T.i(C)<<1|T.i(C-1)>>>31;return new s(I,T.h)}function ce(T,E){var I=E>>5;E%=32;for(var C=T.g.length-I,S=[],x=0;x<C;x++)S[x]=0<E?T.i(x+I)>>>E|T.i(x+I+1)<<32-E:T.i(x+I);return new s(S,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,C_=pM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Lr=pM.Integer=s}).apply(typeof fM<"u"?fM:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jr={};var T_,b3,$s,D_,iu,Gh,S_,A_,M_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var A=c[m];if(!(A in f))break e;f=f[A]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,A={next:function(){if(!m&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,m),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function M(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,A,R){for(var j=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)j[Ve-2]=arguments[Ve];return d.prototype[A].apply(m,j)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let A=c.length||0,R=m.length||0;c.length=A+R;for(let j=0;j<R;j++)c[A+j]=m[j]}else c.push(m)}}class U{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var qe=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ce(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function E(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,d){let f,m;for(let A=1;A<arguments.length;A++){m=arguments[A];for(f in m)c[f]=m[f];for(let R=0;R<I.length;R++)f=I[R],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function S(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function x(c){a.setTimeout(()=>{throw c},0)}function b(){var c=dp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class lr{constructor(){this.h=this.g=null}add(d,f){let m=Ia.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ia=new U(()=>new MN,c=>c.reset());class MN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ba,Ca=!1,dp=new lr,tE=()=>{let c=a.Promise.resolve(void 0);ba=()=>{c.then(xN)}};var xN=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(f){x(f)}var d=Ia;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ca=!1};function Wr(){this.s=this.s,this.C=this.C}Wr.prototype.s=!1,Wr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Wr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Mt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var RN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ta(c,d){if(Mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(qe){e:{try{he(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:NN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ta.aa.h.call(this)}}M(Ta,Mt);var NN={2:"touch",3:"pen",4:"mouse"};Ta.prototype.h=function(){Ta.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Da="closure_listenable_"+(1e6*Math.random()|0),PN=0;function ON(c,d,f,m,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=A,this.key=++PN,this.da=this.fa=!1}function Nu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pu(c){this.src=c,this.g={},this.h=0}Pu.prototype.add=function(c,d,f,m,A){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var j=fp(c,d,m,A);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new ON(d,this.src,R,!!m,A),d.fa=f,c.push(d)),d};function hp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],A=Array.prototype.indexOf.call(m,d,void 0),R;(R=0<=A)&&Array.prototype.splice.call(m,A,1),R&&(Nu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function fp(c,d,f,m){for(var A=0;A<c.length;++A){var R=c[A];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==m)return A}return-1}var pp="closure_lm_"+(1e6*Math.random()|0),mp={};function nE(c,d,f,m,A){if(m&&m.once)return iE(c,d,f,m,A);if(Array.isArray(d)){for(var R=0;R<d.length;R++)nE(c,d[R],f,m,A);return null}return f=_p(f),c&&c[Da]?c.K(d,f,l(m)?!!m.capture:!!m,A):rE(c,d,f,!1,m,A)}function rE(c,d,f,m,A,R){if(!d)throw Error("Invalid event type");var j=l(A)?!!A.capture:!!A,Ve=yp(c);if(Ve||(c[pp]=Ve=new Pu(c)),f=Ve.add(d,f,m,j,R),f.proxy)return f;if(m=kN(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)RN||(A=j),A===void 0&&(A=!1),c.addEventListener(d.toString(),m,A);else if(c.attachEvent)c.attachEvent(sE(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function kN(){function c(f){return d.call(c.src,c.listener,f)}let d=FN;return c}function iE(c,d,f,m,A){if(Array.isArray(d)){for(var R=0;R<d.length;R++)iE(c,d[R],f,m,A);return null}return f=_p(f),c&&c[Da]?c.L(d,f,l(m)?!!m.capture:!!m,A):rE(c,d,f,!0,m,A)}function oE(c,d,f,m,A){if(Array.isArray(d))for(var R=0;R<d.length;R++)oE(c,d[R],f,m,A);else m=l(m)?!!m.capture:!!m,f=_p(f),c&&c[Da]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=fp(R,f,m,A),-1<f&&(Nu(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=yp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=fp(d,f,m,A)),(f=-1<c?d[c]:null)&&gp(f))}function gp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Da])hp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(sE(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=yp(d))?(hp(f,c),f.h==0&&(f.src=null,d[pp]=null)):Nu(c)}}}function sE(c){return c in mp?mp[c]:mp[c]="on"+c}function FN(c,d){if(c.da)c=!0;else{d=new Ta(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&gp(c),c=f.call(m,d)}return c}function yp(c){return c=c[pp],c instanceof Pu?c:null}var vp="__closure_events_fn_"+(1e9*Math.random()>>>0);function _p(c){return typeof c=="function"?c:(c[vp]||(c[vp]=function(d){return c.handleEvent(d)}),c[vp])}function xt(){Wr.call(this),this.i=new Pu(this),this.M=this,this.F=null}M(xt,Wr),xt.prototype[Da]=!0,xt.prototype.removeEventListener=function(c,d,f,m){oE(this,c,d,f,m)};function Vt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Mt(d,c);else if(d instanceof Mt)d.target=d.target||c;else{var A=d;d=new Mt(m,c),C(d,A)}if(A=!0,f)for(var R=f.length-1;0<=R;R--){var j=d.g=f[R];A=Ou(j,m,!0,d)&&A}if(j=d.g=c,A=Ou(j,m,!0,d)&&A,A=Ou(j,m,!1,d)&&A,f)for(R=0;R<f.length;R++)j=d.g=f[R],A=Ou(j,m,!1,d)&&A}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Nu(f[m]);delete c.g[d],c.h--}}this.F=null},xt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},xt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Ou(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,R=0;R<d.length;++R){var j=d[R];if(j&&!j.da&&j.capture==f){var Ve=j.listener,Ct=j.ha||j.src;j.fa&&hp(c.i,j),A=Ve.call(Ct,m)!==!1&&A}}return A&&!m.defaultPrevented}function aE(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function cE(c){c.g=aE(()=>{c.g=null,c.i&&(c.i=!1,cE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class VN extends Wr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:cE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sa(c){Wr.call(this),this.h=c,this.g={}}M(Sa,Wr);var uE=[];function lE(c){ce(c.g,function(d,f){this.g.hasOwnProperty(f)&&gp(d)},c),c.g={}}Sa.prototype.N=function(){Sa.aa.N.call(this),lE(this)},Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wp=a.JSON.stringify,LN=a.JSON.parse,jN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ep(){}Ep.prototype.h=null;function dE(c){return c.h||(c.h=c.i())}function hE(){}var Aa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ip(){Mt.call(this,"d")}M(Ip,Mt);function bp(){Mt.call(this,"c")}M(bp,Mt);var Ri={},fE=null;function ku(){return fE=fE||new xt}Ri.La="serverreachability";function pE(c){Mt.call(this,Ri.La,c)}M(pE,Mt);function Ma(c){let d=ku();Vt(d,new pE(d))}Ri.STAT_EVENT="statevent";function mE(c,d){Mt.call(this,Ri.STAT_EVENT,c),this.stat=d}M(mE,Mt);function Lt(c){let d=ku();Vt(d,new mE(d,c))}Ri.Ma="timingevent";function gE(c,d){Mt.call(this,Ri.Ma,c),this.size=d}M(gE,Mt);function xa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ra(){this.g=!0}Ra.prototype.xa=function(){this.g=!1};function UN(c,d,f,m,A,R){c.info(function(){if(c.g)if(R)for(var j="",Ve=R.split("&"),Ct=0;Ct<Ve.length;Ct++){var Ne=Ve[Ct].split("=");if(1<Ne.length){var Rt=Ne[0];Ne=Ne[1];var Nt=Rt.split("_");j=2<=Nt.length&&Nt[1]=="type"?j+(Rt+"="+Ne+"&"):j+(Rt+"=redacted&")}}else j=null;else j=R;return"XMLHTTP REQ ("+m+") [attempt "+A+"]: "+d+`
`+f+`
`+j})}function BN(c,d,f,m,A,R,j){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+A+"]: "+d+`
`+f+`
`+R+" "+j})}function xo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+HN(c,f)+(m?" "+m:"")})}function $N(c,d){c.info(function(){return"TIMEOUT: "+d})}Ra.prototype.info=function(){};function HN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var A=m[1];if(Array.isArray(A)&&!(1>A.length)){var R=A[0];if(R!="noop"&&R!="stop"&&R!="close")for(var j=1;j<A.length;j++)A[j]=""}}}}return wp(f)}catch{return d}}var Fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cp;function Vu(){}M(Vu,Ep),Vu.prototype.g=function(){return new XMLHttpRequest},Vu.prototype.i=function(){return{}},Cp=new Vu;function Gr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vE}function vE(){this.i=null,this.g="",this.h=!1}var _E={},Tp={};function Dp(c,d,f){c.L=1,c.v=Bu(dr(d)),c.m=f,c.P=!0,wE(c,null)}function wE(c,d){c.F=Date.now(),Lu(c),c.A=dr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),OE(f.i,"t",m),c.C=0,f=c.j.J,c.h=new vE,c.g=JE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new VN(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(uE[0]=A.toString()),A=uE);for(var R=0;R<A.length;R++){var j=nE(f,A[R],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ma(),UN(c.i,c.u,c.A,c.l,c.R,c.m)}Gr.prototype.ca=function(c){c=c.target;let d=this.M;d&&hr(c)==3?d.j():this.Y(c)},Gr.prototype.Y=function(c){try{if(c==this.g)e:{let Nt=hr(this.g);var d=this.g.Ba();let Po=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||BE(this.g)))){this.J||Nt!=4||d==7||(d==8||0>=Po?Ma(3):Ma(2)),Sp(this);var f=this.g.Z();this.X=f;t:if(EE(this)){var m=BE(this.g);c="";var A=m.length,R=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),Na(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(R&&d==A-1)});m.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,BN(this.i,this.u,this.A,this.l,this.R,Nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Ct=this.g;if((Ve=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ve)){var Ne=Ve;break t}}Ne=null}if(f=Ne)xo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ap(this,f);else{this.o=!1,this.s=3,Lt(12),Ni(this),Na(this);break e}}if(this.P){f=!0;let bn;for(;!this.J&&this.C<j.length;)if(bn=zN(this,j),bn==Tp){Nt==4&&(this.s=4,Lt(14),f=!1),xo(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==_E){this.s=4,Lt(15),xo(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else xo(this.i,this.l,bn,null),Ap(this,bn);if(EE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||j.length!=0||this.h.h||(this.s=1,Lt(16),f=!1),this.o=this.o&&f,!f)xo(this.i,this.l,j,"[Invalid Chunked Response]"),Ni(this),Na(this);else if(0<j.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Op(Rt),Rt.M=!0,Lt(11))}}else xo(this.i,this.l,j,null),Ap(this,j);Nt==4&&Ni(this),this.o&&!this.J&&(Nt==4?KE(this.j,this):(this.o=!1,Lu(this)))}else a1(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Ni(this),Na(this)}}}catch{}finally{}};function EE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zN(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Tp:(f=Number(d.substring(f,m)),isNaN(f)?_E:(m+=1,m+f>d.length?Tp:(d=d.slice(m,m+f),c.C=m+f,d)))}Gr.prototype.cancel=function(){this.J=!0,Ni(this)};function Lu(c){c.S=Date.now()+c.I,IE(c,c.I)}function IE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xa(g(c.ba,c),d)}function Sp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Gr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?($N(this.i,this.A),this.L!=2&&(Ma(),Lt(17)),Ni(this),this.s=2,Na(this)):IE(this,this.S-c)};function Na(c){c.j.G==0||c.J||KE(c.j,c)}function Ni(c){Sp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,lE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ap(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Mp(f.h,c))){if(!c.K&&Mp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var A=m;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Wu(f),zu(f);else break e;Pp(f),Lt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=xa(g(f.Za,f),6e3));if(1>=TE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Oi(f,11)}else if((c.K||f.g==c)&&Wu(f),!W(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Ne=A[d];if(f.T=Ne[0],Ne=Ne[1],f.G==2)if(Ne[0]=="c"){f.K=Ne[1],f.ia=Ne[2];let Rt=Ne[3];Rt!=null&&(f.la=Rt,f.j.info("VER="+f.la));let Nt=Ne[4];Nt!=null&&(f.Aa=Nt,f.j.info("SVER="+f.Aa));let Po=Ne[5];Po!=null&&typeof Po=="number"&&0<Po&&(m=1.5*Po,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let bn=c.g;if(bn){let Ku=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ku){var R=m.h;R.g||Ku.indexOf("spdy")==-1&&Ku.indexOf("quic")==-1&&Ku.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(xp(R,R.h),R.h=null))}if(m.D){let kp=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;kp&&(m.ya=kp,ze(m.I,m.D,kp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var j=c;if(m.qa=ZE(m,m.J?m.ia:null,m.W),j.K){DE(m.h,j);var Ve=j,Ct=m.L;Ct&&(Ve.I=Ct),Ve.B&&(Sp(Ve),Lu(Ve)),m.g=j}else WE(m);0<f.i.length&&qu(f)}else Ne[0]!="stop"&&Ne[0]!="close"||Oi(f,7);else f.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Oi(f,7):Np(f):Ne[0]!="noop"&&f.l&&f.l.ta(Ne),f.v=0)}}Ma(4)}catch{}}var qN=class{constructor(c,d){this.g=c,this.map=d}};function bE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function CE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function TE(c){return c.h?1:c.g?c.g.size:0}function Mp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function xp(c,d){c.g?c.g.add(d):c.h=d}function DE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}bE.prototype.cancel=function(){if(this.i=SE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function SE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function WN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function GN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function AE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=GN(c),m=WN(c),A=m.length,R=0;R<A;R++)d.call(void 0,m[R],f&&f[R],c)}var ME=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),A=null;if(0<=m){var R=c[f].substring(0,m);A=c[f].substring(m+1)}else R=c[f];d(R,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pi){this.h=c.h,ju(this,c.j),this.o=c.o,this.g=c.g,Uu(this,c.s),this.l=c.l;var d=c.i,f=new ka;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),xE(this,f),this.m=c.m}else c&&(d=String(c).match(ME))?(this.h=!1,ju(this,d[1]||"",!0),this.o=Pa(d[2]||""),this.g=Pa(d[3]||"",!0),Uu(this,d[4]),this.l=Pa(d[5]||"",!0),xE(this,d[6]||"",!0),this.m=Pa(d[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}Pi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Oa(d,RE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Oa(d,RE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Oa(f,f.charAt(0)=="/"?ZN:YN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Oa(f,XN)),c.join("")};function dr(c){return new Pi(c)}function ju(c,d,f){c.j=f?Pa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Uu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function xE(c,d,f){d instanceof ka?(c.i=d,e1(c.i,c.h)):(f||(d=Oa(d,JN)),c.i=new ka(d,c.h))}function ze(c,d,f){c.i.set(d,f)}function Bu(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Oa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,QN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function QN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var RE=/[#\/\?@]/g,YN=/[#\?:]/g,ZN=/[#\?]/g,JN=/[#\?@]/g,XN=/#/g;function ka(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Kr(c){c.g||(c.g=new Map,c.h=0,c.i&&KN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ka.prototype,n.add=function(c,d){Kr(this),this.i=null,c=Ro(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function NE(c,d){Kr(c),d=Ro(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function PE(c,d){return Kr(c),d=Ro(c,d),c.g.has(d)}n.forEach=function(c,d){Kr(this),this.g.forEach(function(f,m){f.forEach(function(A){c.call(d,A,m,this)},this)},this)},n.na=function(){Kr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let A=c[m];for(let R=0;R<A.length;R++)f.push(d[m])}return f},n.V=function(c){Kr(this);let d=[];if(typeof c=="string")PE(this,c)&&(d=d.concat(this.g.get(Ro(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Kr(this),this.i=null,c=Ro(this,c),PE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function OE(c,d,f){NE(c,d),0<f.length&&(c.i=null,c.g.set(Ro(c,d),P(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let R=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var A=R;j[m]!==""&&(A+="="+encodeURIComponent(String(j[m]))),c.push(A)}}return this.i=c.join("&")};function Ro(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function e1(c,d){d&&!c.j&&(Kr(c),c.i=null,c.g.forEach(function(f,m){var A=m.toLowerCase();m!=A&&(NE(this,m),OE(this,A,f))},c)),c.j=d}function t1(c,d){let f=new Ra;if(a.Image){let m=new Image;m.onload=y(Qr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Qr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Qr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Qr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function n1(c,d){let f=new Ra,m=new AbortController,A=setTimeout(()=>{m.abort(),Qr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(R=>{clearTimeout(A),R.ok?Qr(f,"TestPingServer: ok",!0,d):Qr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),Qr(f,"TestPingServer: error",!1,d)})}function Qr(c,d,f,m,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),m(f)}catch{}}function r1(){this.g=new jN}function i1(c,d,f){let m=f||"";try{AE(c,function(A,R){let j=A;l(A)&&(j=wp(A)),d.push(m+R+"="+encodeURIComponent(j))})}catch(A){throw d.push(m+"type="+encodeURIComponent("_badmap")),A}}function Fa(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Fa,Ep),Fa.prototype.g=function(){return new $u(this.l,this.j)},Fa.prototype.i=function(c){return function(){return c}}({});function $u(c,d){xt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M($u,xt),n=$u.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,La(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function kE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Va(this):La(this),this.readyState==3&&kE(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Va(this))},n.Qa=function(c){this.g&&(this.response=c,Va(this))},n.ga=function(){this.g&&Va(this)};function Va(c){c.readyState=4,c.l=null,c.j=null,c.v=null,La(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function La(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function FE(c){let d="";return ce(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Rp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=FE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ze(c,d,f))}function Ge(c){xt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ge,xt);var o1=/^https?$/i,s1=["POST","PUT"];n=Ge.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cp.g(),this.v=this.o?dE(this.o):dE(Cp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){VE(this,R);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var A in m)f.set(A,m[A]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let R of m.keys())f.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(s1,d,void 0))||m||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,j]of f)this.g.setRequestHeader(R,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{UE(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){VE(this,R)}};function VE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,LE(c),Hu(c)}function LE(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Vt(this,"complete"),Vt(this,"abort"),Hu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hu(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?jE(this):this.bb())},n.bb=function(){jE(this)};function jE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||hr(c)!=4||c.Z()!=2)){if(c.u&&hr(c)==4)aE(c.Ea,0,c);else if(Vt(c,"readystatechange"),hr(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=j===0){var A=String(c.D).match(ME)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),m=!o1.test(A?A.toLowerCase():"")}f=m}if(f)Vt(c,"complete"),Vt(c,"success");else{c.m=6;try{var R=2<hr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",LE(c)}}finally{Hu(c)}}}}function Hu(c,d){if(c.g){UE(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Vt(c,"ready");try{f.onreadystatechange=m}catch{}}}function UE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function hr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),LN(d)}};function BE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function a1(c){let d={};c=(c.g&&2<=hr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(W(c[m]))continue;var f=S(c[m]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[A]||[];d[A]=R,R.push(f)}T(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function $E(c){this.Aa=0,this.i=[],this.j=new Ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,c),this.cb=ja("retryDelaySeedMs",1e4,c),this.Wa=ja("forwardChannelMaxRetries",2,c),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bE(c&&c.concurrentRequestLimit),this.Da=new r1,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$E.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Lt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=ZE(this,null,this.W),qu(this)};function Np(c){if(HE(c),c.G==3){var d=c.U++,f=dr(c.I);if(ze(f,"SID",c.K),ze(f,"RID",d),ze(f,"TYPE","terminate"),Ua(c,f),d=new Gr(c,c.j,d),d.L=2,d.v=Bu(dr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=JE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Lu(d)}YE(c)}function zu(c){c.g&&(Op(c),c.g.cancel(),c.g=null)}function HE(c){zu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function qu(c){if(!CE(c.h)&&!c.s){c.s=!0;var d=c.Ga;ba||tE(),Ca||(ba(),Ca=!0),dp.add(d,c),c.B=0}}function c1(c,d){return TE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xa(g(c.Ga,c,d),QE(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new Gr(this,this.j,c),R=this.o;if(this.S&&(R?(R=E(R),C(R,this.S)):R=this.S),this.m!==null||this.O||(A.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=qE(this,A,d),f=dr(this.I),ze(f,"RID",c),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),Ua(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(FE(R)))+"&"+d:this.m&&Rp(f,this.m,R)),xp(this.h,A),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",d),ze(f,"SID","null"),A.T=!0,Dp(A,f,null)):Dp(A,f,d),this.G=2}}else this.G==3&&(c?zE(this,c):this.i.length==0||CE(this.h)||zE(this))};function zE(c,d){var f;d?f=d.l:f=c.U++;let m=dr(c.I);ze(m,"SID",c.K),ze(m,"RID",f),ze(m,"AID",c.T),Ua(c,m),c.m&&c.o&&Rp(m,c.m,c.o),f=new Gr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=qE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xp(c.h,f),Dp(f,m,d)}function Ua(c,d){c.H&&ce(c.H,function(f,m){ze(d,m,f)}),c.l&&AE({},function(f,m){ze(d,m,f)})}function qE(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var A=c.i;let R=-1;for(;;){let j=["count="+f];R==-1?0<f?(R=A[0].g,j.push("ofs="+R)):R=0:j.push("ofs="+R);let Ve=!0;for(let Ct=0;Ct<f;Ct++){let Ne=A[Ct].g,Rt=A[Ct].map;if(Ne-=R,0>Ne)R=Math.max(0,A[Ct].g-100),Ve=!1;else try{i1(Rt,j,"req"+Ne+"_")}catch{m&&m(Rt)}}if(Ve){m=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function WE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ba||tE(),Ca||(ba(),Ca=!0),dp.add(d,c),c.v=0}}function Pp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xa(g(c.Fa,c),QE(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,GE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xa(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),zu(this),GE(this))};function Op(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function GE(c){c.g=new Gr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=dr(c.qa);ze(d,"RID","rpc"),ze(d,"SID",c.K),ze(d,"AID",c.T),ze(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(d,"TO",c.ja),ze(d,"TYPE","xmlhttp"),Ua(c,d),c.m&&c.o&&Rp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Bu(dr(d)),f.m=null,f.P=!0,wE(f,c)}n.Za=function(){this.C!=null&&(this.C=null,zu(this),Pp(this),Lt(19))};function Wu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function KE(c,d){var f=null;if(c.g==d){Wu(c),Op(c),c.g=null;var m=2}else if(Mp(c.h,d))f=d.D,DE(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;m=ku(),Vt(m,new gE(m,f)),qu(c)}else WE(c);else if(A=d.s,A==3||A==0&&0<d.X||!(m==1&&c1(c,d)||m==2&&Pp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function QE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Oi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let A=!m;m=new Pi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ju(m,"https"),Bu(m),A?t1(m.toString(),f):n1(m.toString(),f)}else Lt(2);c.G=0,c.l&&c.l.sa(d),YE(c),HE(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function YE(c){if(c.G=0,c.ka=[],c.l){let d=SE(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function ZE(c,d,f){var m=f instanceof Pi?dr(f):new Pi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Uu(m,m.s);else{var A=a.location;m=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var R=new Pi(null);m&&ju(R,m),d&&(R.g=d),A&&Uu(R,A),f&&(R.l=f),m=R}return f=c.D,d=c.ya,f&&d&&ze(m,f,d),ze(m,"VER",c.la),Ua(c,m),m}function JE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ge(new Fa({eb:f})):new Ge(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function XE(){}n=XE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Gu(){}Gu.prototype.g=function(c,d){return new Jt(c,d)};function Jt(c,d){xt.call(this),this.g=new $E(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new No(this)}M(Jt,xt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Np(this.g)},Jt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=wp(c),c=f);d.i.push(new qN(d.Ya++,c)),d.G==3&&qu(d)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Np(this.g),delete this.g,Jt.aa.N.call(this)};function eI(c){Ip.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}M(eI,Ip);function tI(){bp.call(this),this.status=1}M(tI,bp);function No(c){this.g=c}M(No,XE),No.prototype.ua=function(){Vt(this.g,"a")},No.prototype.ta=function(c){Vt(this.g,new eI(c))},No.prototype.sa=function(c){Vt(this.g,new tI)},No.prototype.ra=function(){Vt(this.g,"b")},Gu.prototype.createWebChannel=Gu.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,M_=jr.createWebChannelTransport=function(){return new Gu},A_=jr.getStatEventTarget=function(){return ku()},S_=jr.Event=Ri,Gh=jr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fu.NO_ERROR=0,Fu.TIMEOUT=8,Fu.HTTP_ERROR=6,iu=jr.ErrorCode=Fu,yE.COMPLETE="complete",D_=jr.EventType=yE,hE.EventType=Aa,Aa.OPEN="a",Aa.CLOSE="b",Aa.ERROR="c",Aa.MESSAGE="d",xt.prototype.listen=xt.prototype.K,$s=jr.WebChannel=hE,b3=jr.FetchXmlHttpFactory=Fa,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,T_=jr.XhrIo=Ge}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});var mM="@firebase/firestore",gM="4.7.16";var wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");var da="11.8.1";var wo=new Qn("@firebase/firestore");function Hs(){return wo.logLevel}function z(n,...e){if(wo.logLevel<=Ce.DEBUG){let t=e.map(g0);wo.debug(`Firestore (${da}): ${n}`,...t)}}function Ur(n,...e){if(wo.logLevel<=Ce.ERROR){let t=e.map(g0);wo.error(`Firestore (${da}): ${n}`,...t)}}function Ys(n,...e){if(wo.logLevel<=Ce.WARN){let t=e.map(g0);wo.warn(`Firestore (${da}): ${n}`,...t)}}function g0(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,ox(n,r,t)}function ox(n,e,t){let r=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ur(r),new Error(r)}function Fe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||ox(e,i,r)}function de(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends sn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var er=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ef=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},O_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wt.UNAUTHENTICATED))}shutdown(){}},k_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},F_=class{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new er,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new er)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new ef(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new wt(e)}},V_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},L_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new V_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},j_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new tf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function C3(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function sx(){return new TextEncoder}var nf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=C3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function we(n,e){return n<e?-1:n>e?1:0}function U_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return we(r,i);{let o=sx(),s=T3(o.encode(yM(n,t)),o.encode(yM(e,t)));return s!==0?s:we(r,i)}}t+=r>65535?2:1}return we(n.length,e.length)}function yM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function T3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return we(n[t],e[t]);return we(n.length,e.length)}function Zs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var vM=-62135596800,_M=1e6,St=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*_M);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vM)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_M}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-vM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var pe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new St(0,0))}static max(){return new n(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var wM="__name__",rf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return we(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):U_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lr.fromString(e.substring(4,e.length-2))}},Je=class n extends rf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},D3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cn=class n extends rf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return D3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wM}static keyField(){return new n([wM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var re=class n{constructor(e){this.path=e}static fromPath(e){return new n(Je.fromString(e))}static fromName(e){return new n(Je.fromString(e).popFirst(5))}static empty(){return new n(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Je(e.slice()))}};var lu=-1,B_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};B_.UNKNOWN_ID=-1;function S3(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new Eo(i,re.empty(),e)}function A3(n){return new Eo(n.readTime,n.key,lu)}var Eo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(pe.min(),re.empty(),lu)}static max(){return new n(pe.max(),re.empty(),lu)}};function M3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(n.documentKey,e.documentKey),t!==0?t:we(n.largestBatchId,e.largestBatchId))}var x3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ha(n){return v(this,null,function*(){if(n.code!==F.FAILED_PRECONDITION||n.message!==x3)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function R3(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fa(n){return n.name==="IndexedDbTransactionError"}var y0=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),v0=-1;function Lf(n){return n==null}function du(n){return n===0&&1/n==-1/0}function N3(n){return typeof n=="number"&&Number.isInteger(n)&&!du(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var ax="";function P3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=EM(e)),e=O3(n.get(t),e);return EM(e)}function O3(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case ax:t+="";break;default:t+=o}}return t}function EM(n){return n+ax+""}var k3="remoteDocuments",cx="owner";var ux="mutationQueues";var lx="mutations";var dx="documentMutations",F3="remoteDocumentsV14";var hx="remoteDocumentGlobal";var fx="targets";var px="targetDocuments";var mx="targetGlobal",gx="collectionParents";var yx="clientMetadata";var vx="bundles";var _x="namedQueries";var V3="indexConfiguration";var L3="indexState";var j3="indexEntries";var wx="documentOverlays";var U3="globals";var B3=[ux,lx,dx,k3,fx,cx,mx,px,yx,hx,gx,vx,_x],RJ=[...B3,wx],$3=[ux,lx,dx,F3,fx,cx,mx,px,yx,hx,gx,vx,_x,wx],H3=$3,z3=[...H3,V3,L3,j3];var NJ=[...z3,U3];function IM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ex(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Xe=class n{constructor(e,t){this.comparator=e,this.root=t||tr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gs(this.root,e,this.comparator,!0)}},Gs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}};tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Et=class n{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new of(this.data.getIterator())}getIteratorFrom(e){return new of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},of=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var En=class n{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Et(cn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var sf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ft=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ft.EMPTY_BYTE_STRING=new Ft("");var q3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(n){if(Fe(!!n,39018),typeof n=="string"){let e=0,t=q3.exec(n);if(Fe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(n.seconds),nanos:We(n.nanos)}}function We(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $r(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}var Ix="server_timestamp",bx="__type__",Cx="__previous_value__",Tx="__local_write_time__";function _0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[bx])===null||t===void 0?void 0:t.stringValue)===Ix}function jf(n){let e=n.mapValue.fields[Cx];return _0(e)?jf(e):e}function hu(n){let e=Br(n.mapValue.fields[Tx].timestampValue);return new St(e.seconds,e.nanos)}var H_=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},af="(default)",cf=class n{constructor(e,t){this.projectId=e,this.database=t||af}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===af}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var w0="__type__",Dx="__max__",Kh={mapValue:{fields:{__type__:{stringValue:Dx}}}},E0="__vector__",Js="value";function Si(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_0(n)?4:Ax(n)?9007199254740991:Sx(n)?10:11:ne(28295,{value:n})}function or(n,e){if(n===e)return!0;let t=Si(n);if(t!==Si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hu(n).isEqual(hu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Br(i.timestampValue),a=Br(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return $r(i.bytesValue).isEqual($r(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return We(i.geoPointValue.latitude)===We(o.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return We(i.integerValue)===We(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=We(i.doubleValue),a=We(o.doubleValue);return s===a?du(s)===du(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Zs(n.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(IM(s)!==IM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!or(s[u],a[u])))return!1;return!0}(n,e);default:return ne(52216,{left:n})}}function fu(n,e){return(n.values||[]).find(t=>or(t,e))!==void 0}function Xs(n,e){if(n===e)return 0;let t=Si(n),r=Si(e);if(t!==r)return we(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return we(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=We(o.integerValue||o.doubleValue),u=We(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return bM(n.timestampValue,e.timestampValue);case 4:return bM(hu(n),hu(e));case 5:return U_(n.stringValue,e.stringValue);case 6:return function(o,s){let a=$r(o),u=$r(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=we(a[l],u[l]);if(h!==0)return h}return we(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=we(We(o.latitude),We(s.latitude));return a!==0?a:we(We(o.longitude),We(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return CM(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[Js])===null||a===void 0?void 0:a.arrayValue,M=(u=g[Js])===null||u===void 0?void 0:u.arrayValue,P=we(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=M?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:CM(y,M)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Kh.mapValue&&s===Kh.mapValue)return 0;if(o===Kh.mapValue)return 1;if(s===Kh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=U_(u[p],h[p]);if(g!==0)return g;let y=Xs(a[u[p]],l[h[p]]);if(y!==0)return y}return we(u.length,h.length)}(n.mapValue,e.mapValue);default:throw ne(23264,{Pe:t})}}function bM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return we(n,e);let t=Br(n),r=Br(e),i=we(t.seconds,r.seconds);return i!==0?i:we(t.nanos,r.nanos)}function CM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Xs(t[i],r[i]);if(o)return o}return we(t.length,r.length)}function ea(n){return z_(n)}function z_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Br(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $r(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=z_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${z_(t.fields[s])}`;return i+"}"}(n.mapValue):ne(61005,{value:n})}function Zh(n){switch(Si(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=jf(n);return e?16+Zh(e):16;case 5:return 2*n.stringValue.length;case 6:return $r(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Zh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return xi(r.fields,(o,s)=>{i+=o.length+Zh(s)}),i}(n.mapValue);default:throw ne(13486,{value:n})}}function q_(n){return!!n&&"integerValue"in n}function I0(n){return!!n&&"arrayValue"in n}function TM(n){return!!n&&"nullValue"in n}function DM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jh(n){return!!n&&"mapValue"in n}function Sx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[w0])===null||t===void 0?void 0:t.stringValue)===E0}function su(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return xi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=su(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=su(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ax(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Dx}var OJ={mapValue:{fields:{[w0]:{stringValue:E0},[Js]:{arrayValue:{}}}}};var an=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=cn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=su(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Jh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(su(this.value))}};function Mx(n){let e=[];return xi(n.fields,(t,r)=>{let i=new cn([t]);if(Jh(r)){let o=Mx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new En(e)}var Fn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,pe.min(),pe.min(),pe.min(),an.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,pe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,pe.min(),pe.min(),an.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,pe.min(),pe.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ta=class{constructor(e,t){this.position=e,this.inclusive=t}};function SM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),t.key):r=Xs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function AM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!or(n.position[t],e.position[t]))return!1;return!0}var na=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function W3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var uf=class{},dt=class n extends uf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new G_(e,t,r):t==="array-contains"?new Y_(e,r):t==="in"?new Z_(e,r):t==="not-in"?new J_(e,r):t==="array-contains-any"?new X_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new K_(e,r):new Q_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xs(t,this.value)):t!==null&&Si(this.value)===Si(t)&&this.matchesComparison(Xs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sr=class n extends uf{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return xx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function xx(n){return n.op==="and"}function Rx(n){return G3(n)&&xx(n)}function G3(n){for(let e of n.filters)if(e instanceof sr)return!1;return!0}function W_(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+ea(n.value);if(Rx(n))return n.filters.map(e=>W_(e)).join(",");{let e=n.filters.map(t=>W_(t)).join(",");return`${n.op}(${e})`}}function Nx(n,e){return n instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&or(r.value,i.value)}(n,e):n instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Nx(s,i.filters[a]),!0):!1}(n,e):void ne(19439)}function Px(n){return n instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${ea(t.value)}`}(n):n instanceof sr?function(t){return t.op.toString()+" {"+t.getFilters().map(Px).join(" ,")+"}"}(n):"Filter"}var G_=class extends dt{constructor(e,t,r){super(e,t,r),this.key=re.fromName(r.referenceValue)}matches(e){let t=re.comparator(e.key,this.key);return this.matchesComparison(t)}},K_=class extends dt{constructor(e,t){super(e,"in",t),this.keys=Ox("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Q_=class extends dt{constructor(e,t){super(e,"not-in",t),this.keys=Ox("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Ox(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>re.fromName(r.referenceValue))}var Y_=class extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return I0(t)&&fu(t.arrayValue,this.value)}},Z_=class extends dt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&fu(this.value.arrayValue,t)}},J_=class extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fu(this.value.arrayValue,t)}},X_=class extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!I0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fu(this.value.arrayValue,r))}};var ew=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function MM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new ew(n,e,t,r,i,o,s)}function b0(n){let e=de(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>W_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ea(r)).join(",")),e.Ie=t}return e.Ie}function C0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!W3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Nx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AM(n.startAt,e.startAt)&&AM(n.endAt,e.endAt)}function tw(n){return re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ra=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function K3(n,e,t,r,i,o,s,a){return new ra(n,e,t,r,i,o,s,a)}function Uf(n){return new ra(n)}function xM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Q3(n){return n.collectionGroup!==null}function au(n){let e=de(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Et(cn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new na(o,r))}),t.has(cn.keyField().canonicalString())||e.Ee.push(new na(cn.keyField(),r))}return e.Ee}function nr(n){let e=de(n);return e.de||(e.de=Y3(e,au(n))),e.de}function Y3(n,e){if(n.limitType==="F")return MM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new na(i.field,o)});let t=n.endAt?new ta(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ta(n.startAt.position,n.startAt.inclusive):null;return MM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function nw(n,e,t){return new ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bf(n,e){return C0(nr(n),nr(e))&&n.limitType===e.limitType}function kx(n){return`${b0(nr(n))}|lt:${n.limitType}`}function zs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Px(i)).join(", ")}]`),Lf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ea(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ea(i)).join(",")),`Target(${r})`}(nr(n))}; limitType=${n.limitType})`}function $f(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of au(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=SM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,au(r),i)||r.endAt&&!function(s,a,u){let l=SM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,au(r),i))}(n,e)}function Z3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Fx(n){return(e,t)=>{let r=!1;for(let i of au(n)){let o=J3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function J3(n,e,t){let r=n.field.isKeyField()?re.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Xs(u,l):ne(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:n.dir})}}var Hr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Ex(this.inner)}size(){return this.innerSize}};var X3=new Xe(re.comparator);function zr(){return X3}var Vx=new Xe(re.comparator);function ou(...n){let e=Vx;for(let t of n)e=e.insert(t.key,t);return e}function Lx(n){let e=Vx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yo(){return cu()}function jx(){return cu()}function cu(){return new Hr(n=>n.toString(),(n,e)=>n.isEqual(e))}var eH=new Xe(re.comparator),tH=new Et(re.comparator);function Ae(...n){let e=tH;for(let t of n)e=e.add(t);return e}var nH=new Et(we);function rH(){return nH}function T0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:du(e)?"-0":e}}function Ux(n){return{integerValue:""+n}}function iH(n,e){return N3(e)?Ux(e):T0(n,e)}var ia=class{constructor(){this._=void 0}};function oH(n,e,t){return n instanceof oa?function(i,o){let s={fields:{[bx]:{stringValue:Ix},[Tx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&_0(o)&&(o=jf(o)),o&&(s.fields[Cx]=o),{mapValue:s}}(t,e):n instanceof Io?$x(n,e):n instanceof bo?Hx(n,e):function(i,o){let s=Bx(i,o),a=RM(s)+RM(i.Re);return q_(s)&&q_(i.Re)?Ux(a):T0(i.serializer,a)}(n,e)}function sH(n,e,t){return n instanceof Io?$x(n,e):n instanceof bo?Hx(n,e):t}function Bx(n,e){return n instanceof sa?function(r){return q_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var oa=class extends ia{},Io=class extends ia{constructor(e){super(),this.elements=e}};function $x(n,e){let t=zx(e);for(let r of n.elements)t.some(i=>or(i,r))||t.push(r);return{arrayValue:{values:t}}}var bo=class extends ia{constructor(e){super(),this.elements=e}};function Hx(n,e){let t=zx(e);for(let r of n.elements)t=t.filter(i=>!or(i,r));return{arrayValue:{values:t}}}var sa=class extends ia{constructor(e,t){super(),this.serializer=e,this.Re=t}};function RM(n){return We(n.integerValue||n.doubleValue)}function zx(n){return I0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function aH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Io&&i instanceof Io||r instanceof bo&&i instanceof bo?Zs(r.elements,i.elements,or):r instanceof sa&&i instanceof sa?or(r.Re,i.Re):r instanceof oa&&i instanceof oa}(n.transform,e.transform)}var rw=class{constructor(e,t){this.version=e,this.transformResults=t}},rr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Xh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var aa=class{};function qx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pu(n.key,rr.none()):new Co(n.key,n.data,rr.none());{let t=n.data,r=an.empty(),i=new Et(cn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ar(n.key,r,new En(i.toArray()),rr.none())}}function cH(n,e,t){n instanceof Co?function(i,o,s){let a=i.value.clone(),u=PM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ar?function(i,o,s){if(!Xh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=PM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Wx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function uu(n,e,t,r){return n instanceof Co?function(o,s,a,u){if(!Xh(o.precondition,s))return a;let l=o.value.clone(),h=OM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ar?function(o,s,a,u){if(!Xh(o.precondition,s))return a;let l=OM(o.fieldTransforms,u,s),h=s.data;return h.setAll(Wx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Xh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function uH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Bx(r.transform,i||null);o!=null&&(t===null&&(t=an.empty()),t.set(r.field,o))}return t||null}function NM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zs(r,i,(o,s)=>aH(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Co=class extends aa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ar=class extends aa{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Wx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function PM(n,e,t){let r=new Map;Fe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,sH(s,a,t[i]))}return r}function OM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,oH(o,s,e))}return r}var pu=class extends aa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},iw=class extends aa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ow=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&cH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=uu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=uu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=jx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=qx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,(t,r)=>NM(t,r))&&Zs(this.baseMutations,e.baseMutations,(t,r)=>NM(t,r))}},sw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Fe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return eH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var aw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var cw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ot,xe;function lH(n){switch(n){case F.OK:return ne(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ne(15467,{code:n})}}function Gx(n){if(n===void 0)return Ur("GRPC error has no .code"),F.UNKNOWN;switch(n){case ot.OK:return F.OK;case ot.CANCELLED:return F.CANCELLED;case ot.UNKNOWN:return F.UNKNOWN;case ot.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ot.INTERNAL:return F.INTERNAL;case ot.UNAVAILABLE:return F.UNAVAILABLE;case ot.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ot.NOT_FOUND:return F.NOT_FOUND;case ot.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ot.ABORTED:return F.ABORTED;case ot.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ot.DATA_LOSS:return F.DATA_LOSS;default:return ne(39323,{code:n})}}(xe=ot||(ot={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";var kM=null;var dH=new Lr([4294967295,4294967295],0);function FM(n){let e=sx().encode(n),t=new C_;return t.update(e),new Uint8Array(t.digest())}function VM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Lr([t,r],0),new Lr([i,o],0)]}var uw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vo(`Invalid padding: ${t}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vo(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Lr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Lr.fromNumber(r)));return i.compare(dH)===1&&(i=new Lr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=FM(e),[r,i]=VM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=FM(e),[r,i]=VM(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var lf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(pe.min(),i,new Xe(we),zr(),Ae())}},mu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ae(),Ae(),Ae())}};var Ks=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},df=class{constructor(e,t){this.targetId=e,this.Ce=t}},hf=class{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},ff=class{constructor(){this.Fe=0,this.Me=LM(),this.xe=Ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ae(),t=Ae(),r=Ae();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ne(38017,{changeType:o})}}),new mu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=LM()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Fe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},lw=class{constructor(e){this.ze=e,this.je=new Map,this.He=zr(),this.Je=Qh(),this.Ye=Qh(),this.Ze=new Xe(we)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(tw(o))if(r===0){let s=new re(o.path);this.tt(t,s,Fn.newNoDocument(s,pe.min()))}else Fe(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}kM?.ht(function(h,p,g,y,M){var P,N,U,W,H,he;let qe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ce=p.unchangedNames;return ce&&(qe.bloomFilter={applied:M===0,hashCount:(P=ce?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(W=(U=(N=ce?.bits)===null||N===void 0?void 0:N.bitmap)===null||U===void 0?void 0:U.length)!==null&&W!==void 0?W:0,padding:(he=(H=ce?.bits)===null||H===void 0?void 0:H.padding)!==null&&he!==void 0?he:0,mightContain:T=>{var E;return(E=y?.mightContain(T))!==null&&E!==void 0&&E}}),qe}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=$r(r).toUint8Array()}catch(u){if(u instanceof sf)return Ys("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new uw(s,i,o)}catch(u){return Ys(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&tw(a.target)){let u=new re(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,Fn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=Ae();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new lf(e,t,this.Ze,this.He,r);return this.He=zr(),this.Je=Qh(),this.Ye=Qh(),this.Ze=new Xe(we),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ff,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Et(we),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Et(we),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ff),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Qh(){return new Xe(re.comparator)}function LM(){return new Xe(re.comparator)}var hH={asc:"ASCENDING",desc:"DESCENDING"},fH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pH={and:"AND",or:"OR"},dw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function hw(n,e){return n.useProto3Json||Lf(e)?e:{value:e}}function pf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mH(n,e){return pf(n,e.toTimestamp())}function ir(n){return Fe(!!n,49232),pe.fromTimestamp(function(t){let r=Br(t);return new St(r.seconds,r.nanos)}(n))}function D0(n,e){return fw(n,e).canonicalString()}function fw(n,e){let t=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Qx(n){let e=Je.fromString(n);return Fe(eR(e),10190,{key:e.toString()}),e}function pw(n,e){return D0(n.databaseId,e.path)}function x_(n,e){let t=Qx(e);if(t.get(1)!==n.databaseId.projectId)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new re(Zx(t))}function Yx(n,e){return D0(n.databaseId,e)}function gH(n){let e=Qx(n);return e.length===4?Je.emptyPath():Zx(e)}function mw(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Zx(n){return Fe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function jM(n,e,t){return{name:pw(n,e),fields:t.value.mapValue.fields}}function yH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Fe(h===void 0||typeof h=="string",58123),Ft.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ft.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?F.UNKNOWN:Gx(l.code);return new Q(h,l.message||"")}(s);t=new hf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=x_(n,r.document.name),o=ir(r.document.updateTime),s=r.document.createTime?ir(r.document.createTime):pe.min(),a=new an({mapValue:{fields:r.document.fields}}),u=Fn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ks(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=x_(n,r.document),o=r.readTime?ir(r.readTime):pe.min(),s=Fn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ks([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=x_(n,r.document),o=r.removedTargetIds||[];t=new Ks([],o,i,null)}else{if(!("filter"in e))return ne(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new cw(i,o),a=r.targetId;t=new df(a,s)}}return t}function vH(n,e){let t;if(e instanceof Co)t={update:jM(n,e.key,e.value)};else if(e instanceof pu)t={delete:pw(n,e.key)};else if(e instanceof ar)t={update:jM(n,e.key,e.data),updateMask:SH(e.fieldMask)};else{if(!(e instanceof iw))return ne(16599,{ft:e.type});t={verify:pw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof oa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Io)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sa)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw ne(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:mH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne(27497)}(n,e.precondition)),t}function _H(n,e){return n&&n.length>0?(Fe(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?ir(i.updateTime):ir(o);return s.isEqual(pe.min())&&(s=ir(o)),new rw(s,i.transformResults||[])}(t,e))):[]}function wH(n,e){return{documents:[Yx(n,e.path)]}}function EH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Yx(n,i);let o=function(l){if(l.length!==0)return Xx(sr.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:qs(g.field),direction:CH(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=hw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function IH(n){let e=gH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Fe(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=Jx(p);return g instanceof sr&&Rx(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(M){return new na(Ws(M.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Lf(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new ta(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new ta(y,g)}(t.endAt)),K3(e,i,s,o,a,"F",u,l)}function bH(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Jx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ws(t.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ws(t.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ws(t.unaryFilter.field);return dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ws(t.unaryFilter.field);return dt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(n):n.fieldFilter!==void 0?function(t){return dt.create(Ws(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return sr.create(t.compositeFilter.filters.map(r=>Jx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(t.compositeFilter.op))}(n):ne(30097,{filter:n})}function CH(n){return hH[n]}function TH(n){return fH[n]}function DH(n){return pH[n]}function qs(n){return{fieldPath:n.canonicalString()}}function Ws(n){return cn.fromServerFormat(n.fieldPath)}function Xx(n){return n instanceof dt?function(t){if(t.op==="=="){if(DM(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NAN"}};if(TM(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(DM(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NAN"}};if(TM(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(t.field),op:TH(t.op),value:t.value}}}(n):n instanceof sr?function(t){let r=t.getFilters().map(i=>Xx(i));return r.length===1?r[0]:{compositeFilter:{op:DH(t.op),filters:r}}}(n):ne(54877,{filter:n})}function SH(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var gu=class n{constructor(e,t,r,i,o=pe.min(),s=pe.min(),a=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var gw=class{constructor(e){this.wt=e}};function AH(n){let e=IH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nw(e,e.limit,"L"):e}var mf=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(We(e.integerValue));else if("doubleValue"in e){let r=We(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),du(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Br(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt($r(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?Ax(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Sx(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ne(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Js,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(We(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),re.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};mf.Wt=new mf;var yw=class{constructor(){this.Cn=new vw}addToCollectionParentIndex(e,t){return this.Cn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Eo.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},vw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Et(Je.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Je.comparator)).toArray()}};var kJ=new Uint8Array(0);var UM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tR=41943040,wn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(tR,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);var yu=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var BM="LruGarbageCollector",MH=1048576;function $M([n,e],[t,r]){let i=we(n,t);return i===0?we(e,r):i}var _w=class{constructor(e){this.Er=e,this.buffer=new Et($M),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();$M(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},ww=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){z(BM,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){fa(t)?z(BM,"Ignoring IndexedDB error during garbage collection: ",t):yield ha(t)}yield this.mr(3e5)}))}},Ew=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(y0.le);let r=new _w(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(UM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UM):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Hs()<=Ce.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function xH(n,e){return new Ew(n,e)}var Iw=class{constructor(){this.changes=new Hr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var bw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Cw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&uu(r.mutation,i,En.empty(),St.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){let i=yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ou();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=zr(),s=cu(),a=function(){return cu()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ar)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),uu(h.mutation,l,h.mutation.getFieldMask(),St.now())):s.set(l.key,En.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new bw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=cu(),i=new Xe((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||En.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||Ae()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=jx();h.forEach(g=>{if(!o.has(g)){let y=qx(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Q3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(yo()),a=lu,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,Ae())).next(h=>({batchId:a,changes:Lx(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next(r=>{let i=ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ou();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,g){return new ra(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Fn.newInvalidDocument(h)))});let a=ou();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&uu(h.mutation,l,En.empty(),St.now()),$f(t,l)&&(a=a.insert(u,l))}),a})}};var Tw=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return L.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ir(i.createTime)}}(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:AH(i.bundledQuery),readTime:ir(i.readTime)}}(t)),L.resolve()}};var Dw=class{constructor(){this.overlays=new Xe(re.comparator),this.Qr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=yo();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=yo(),o=t.length+1,s=new re(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=yo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new aw(t,r));let o=this.Qr.get(t);o===void 0&&(o=Ae(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var Sw=class{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var vu=class{constructor(){this.$r=new Et(st.Ur),this.Kr=new Et(st.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new st(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new st(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new re(new Je([])),r=new st(t,e),i=new st(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new re(new Je([])),r=new st(t,e),i=new st(t,e+1),o=Ae();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new st(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},st=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return re.comparator(e.key,t.key)||we(e.Zr,t.Zr)}static Wr(e,t){return we(e.Zr,t.Zr)||re.comparator(e.key,t.key)}};var Aw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Et(st.Ur)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ow(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new st(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?v0:this.nr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new st(t,0),i=new st(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Et(we);return t.forEach(i=>{let o=new st(i,0),s=new st(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),L.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;re.isDocumentKey(o)||(o=o.child(""));let s=new st(new re(o),0),a=new Et(we);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),L.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Fe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return L.forEach(t.mutations,i=>{let o=new st(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new st(t,0),i=this.Xr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Mw=class{constructor(e){this.ii=e,this.docs=function(){return new Xe(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=zr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=zr(),s=t.path,a=new re(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||M3(A3(h),r)<=0||(i.has(h.key)||$f(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ne(9500)}si(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xw(this)}getSize(e){return L.resolve(this.size)}},xw=class extends Iw{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var Rw=class{constructor(e){this.persistence=e,this.oi=new Hr(t=>b0(t),C0),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this._i=0,this.ai=new vu,this.targetCount=0,this.ui=yu.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),L.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new yu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Tr(t),L.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.ai.containsKey(t))}};var gf=class{constructor(e,t){this.ci={},this.overlays={},this.li=new y0(0),this.hi=!1,this.hi=!0,this.Pi=new Sw,this.referenceDelegate=e(this),this.Ti=new Rw(this),this.indexManager=new yw,this.remoteDocumentCache=function(i){return new Mw(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new gw(t),this.Ei=new Tw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new Aw(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new Nw(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return L.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},Nw=class extends $_{constructor(e){super(),this.currentSequenceNumber=e}},Pw=class n{constructor(e){this.persistence=e,this.Vi=new vu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw ne(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.gi,r=>{let i=re.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,pe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return L.or([()=>L.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},yf=class n{constructor(e,t){this.persistence=e,this.yi=new Hr(r=>P3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=xH(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return L.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),L.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zh(e.data.value)),t}Dr(e,t,r){return L.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Ow=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ae(),i=Ae();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var kw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Fw=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return CS()?8:R3(vt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new kw;return this.bs(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Hs()<=Ce.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",zs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),L.resolve()):(Hs()<=Ce.DEBUG&&z("QueryEngine","Query:",zs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Hs()<=Ce.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",zs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):L.resolve())}ws(e,t){if(xM(t))return L.resolve(null);let r=nr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=nw(t,null,"F"),r=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ae(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,a);return this.Cs(t,l,s,u.readTime)?this.ws(e,nw(t,null,"F")):this.Fs(e,l,t,u)}))})))}Ss(e,t,r,i){return xM(t)||i.isEqual(pe.min())?L.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?L.resolve(null):(Hs()<=Ce.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zs(t)),this.Fs(e,s,t,S3(i,lu)).next(a=>a))})}vs(e,t){let r=new Et(Fx(e));return t.forEach((i,o)=>{$f(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return Hs()<=Ce.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",zs(t)),this.ys.getDocumentsMatchingQuery(e,t,Eo.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var S0="LocalStore",RH=3e8,Vw=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Xe(we),this.Os=new Hr(o=>b0(o),C0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function NH(n,e,t,r){return new Vw(n,e,t,r)}function nR(n,e){return v(this,null,function*(){let t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ae();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function PH(n,e){let t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=L.resolve();return g.forEach(M=>{y=y.next(()=>h.getEntry(u,M)).next(P=>{let N=l.docVersions.get(M);Fe(N!==null,48541),P.version.compareTo(N)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ae();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function rR(n){let e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function OH(n,e){let t=de(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ft.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(P,N,U){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=RH?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(g,y,h)&&a.push(t.Ti.updateTargetData(o,y))});let u=zr(),l=Ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(kH(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(pe.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function kH(n,e,t){let r=Ae(),i=Ae();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=zr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(pe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z(S0,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function FH(n,e){let t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=v0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VH(n,e){let t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new gu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function Lw(n,e,t){return v(this,null,function*(){let r=de(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!fa(s))throw s;z(S0,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function HM(n,e,t){let r=de(n),i=pe.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=de(u),g=p.Os.get(h);return g!==void 0?L.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:pe.min(),t?o:Ae())).next(a=>(LH(r,Z3(e),a),{documents:a,$s:o})))}function LH(n,e,t){let r=n.Ns.get(e)||pe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var vf=class{constructor(){this.activeTargetIds=rH()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var jw=class{constructor(){this.xo=new vf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new vf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Uw=class{No(e){}shutdown(){}};var zM="ConnectivityMonitor",_f=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){z(zM,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){z(zM,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Yh=null;function Bw(){return Yh===null?Yh=function(){return 268435456+Math.round(2147483648*Math.random())}():Yh++,"0x"+Yh.toString(16)}var R_="RestConnection",jH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},$w=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===af?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=Bw(),a=this.jo(e,t.toUriEncodedString());z(R_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=io(l);return this.Jo(e,a,u,r,h).then(p=>(z(R_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ys(R_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=jH[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var Hw=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var kt="WebChannelConnection",zw=class extends $w{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=Bw();return new Promise((a,u)=>{let l=new T_;l.setWithCredentials(!0),l.listenOnce(D_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case iu.NO_ERROR:let p=l.getResponseJson();z(kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case iu.TIMEOUT:z(kt,`RPC '${e}' ${s} timed out`),u(new Q(F.DEADLINE_EXCEEDED,"Request time out"));break;case iu.HTTP_ERROR:let g=l.getStatus();if(z(kt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let M=y?.error;if(M&&M.status&&M.message){let P=function(U){let W=U.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(W)>=0?W:F.UNKNOWN}(M.status);u(new Q(P,M.message))}else u(new Q(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new Q(F.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{z(kt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);z(kt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}T_(e,t,r){let i=Bw(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=M_(),a=A_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(kt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,y=!1,M=new Hw({Zo:N=>{y?z(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(z(kt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),z(kt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Xo:()=>p.close()}),P=(N,U,W)=>{N.listen(U,H=>{try{W(H)}catch(he){setTimeout(()=>{throw he},0)}})};return P(p,$s.EventType.OPEN,()=>{y||(z(kt,`RPC '${e}' stream ${i} transport opened.`),M.__())}),P(p,$s.EventType.CLOSE,()=>{y||(y=!0,z(kt,`RPC '${e}' stream ${i} transport closed`),M.u_())}),P(p,$s.EventType.ERROR,N=>{y||(y=!0,Ys(kt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),M.u_(new Q(F.UNAVAILABLE,"The operation could not be completed")))}),P(p,$s.EventType.MESSAGE,N=>{var U;if(!y){let W=N.data[0];Fe(!!W,16349);let H=W,he=H?.error||((U=H[0])===null||U===void 0?void 0:U.error);if(he){z(kt,`RPC '${e}' stream ${i} received error:`,he);let qe=he.status,ce=function(I){let C=ot[I];if(C!==void 0)return Gx(C)}(qe),T=he.message;ce===void 0&&(ce=F.INTERNAL,T="Unknown error status: "+qe+" with message "+he.message),y=!0,M.u_(new Q(ce,T)),p.close()}else z(kt,`RPC '${e}' stream ${i} received:`,W),M.c_(W)}}),P(a,S_.STAT_EVENT,N=>{N.stat===Gh.PROXY?z(kt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Gh.NOPROXY&&z(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.a_()},0),M}};function N_(){return typeof document<"u"?document:null}function Hf(n){return new dw(n,!0)}var wf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var qM="PersistentStream",Ef=class{constructor(e,t,r,i,o,s,a,u){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new wf(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return v(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return v(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){return v(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{let i=new Q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){let r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>v(this,null,function*(){this.state=0,this.start()}))}W_(e){return z(qM,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(z(qM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},qw=class extends Ef{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let t=yH(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?ir(s.readTime):pe.min()}(e);return this.listener.j_(t,r)}H_(e){let t={};t.database=mw(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=tw(u)?{documents:wH(o,u)}:{query:EH(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Kx(o,s.resumeToken);let l=hw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=pf(o,s.snapshotVersion.toTimestamp());let l=hw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=bH(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){let t={};t.database=mw(this.serializer),t.removeTarget=e,this.L_(t)}},Ww=class extends Ef{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let t=_H(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.ea(r,t)}ta(){let e={};e.database=mw(this.serializer),this.L_(e)}Z_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>vH(this.serializer,r))};this.L_(t)}};var Gw=class{},Kw=class extends Gw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,fw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(F.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,fw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(F.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},Qw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ur(t),this.oa=!1):z("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var To="RemoteStore",Yw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Do(this)&&(z(To,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=de(u);l.Ta.add(4),yield bu(l),l.da.set("Unknown"),l.Ta.delete(4),yield zf(l)})}(this))}))}),this.da=new Qw(r,i)}};function zf(n){return v(this,null,function*(){if(Do(n))for(let e of n.Ia)yield e(!0)})}function bu(n){return v(this,null,function*(){for(let e of n.Ia)yield e(!1)})}function iR(n,e){let t=de(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),R0(t)?x0(t):pa(t).M_()&&M0(t,e))}function A0(n,e){let t=de(n),r=pa(t);t.Pa.delete(e),r.M_()&&oR(t,e),t.Pa.size===0&&(r.M_()?r.N_():Do(t)&&t.da.set("Unknown"))}function M0(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pa(n).H_(e)}function oR(n,e){n.Aa.Ke(e),pa(n).J_(e)}function x0(n){n.Aa=new lw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),pa(n).start(),n.da._a()}function R0(n){return Do(n)&&!pa(n).F_()&&n.Pa.size>0}function Do(n){return de(n).Ta.size===0}function sR(n){n.Aa=void 0}function UH(n){return v(this,null,function*(){n.da.set("Online")})}function BH(n){return v(this,null,function*(){n.Pa.forEach((e,t)=>{M0(n,e)})})}function $H(n,e){return v(this,null,function*(){sR(n),R0(n)?(n.da.ca(e),x0(n)):n.da.set("Unknown")})}function HH(n,e,t){return v(this,null,function*(){if(n.da.set("Online"),e instanceof hf&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(n,e)}catch(r){z(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield If(n,r)}else if(e instanceof Ks?n.Aa.Xe(e):e instanceof df?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(pe.min()))try{let r=yield rR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Pa.get(l);h&&o.Pa.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Pa.get(u);if(!h)return;o.Pa.set(u,h.withResumeToken(Ft.EMPTY_BYTE_STRING,h.snapshotVersion)),oR(o,u);let p=new gu(h.target,u,l,h.sequenceNumber);M0(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){z(To,"Failed to raise snapshot:",r),yield If(n,r)}})}function If(n,e,t){return v(this,null,function*(){if(!fa(e))throw e;n.Ta.add(1),yield bu(n),n.da.set("Offline"),t||(t=()=>rR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){z(To,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield zf(n)}))})}function aR(n,e){return e().catch(t=>If(n,t,e))}function qf(n){return v(this,null,function*(){let e=de(n),t=Ai(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:v0;for(;zH(e);)try{let i=yield FH(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,qH(e,i)}catch(i){yield If(e,i)}cR(e)&&uR(e)})}function zH(n){return Do(n)&&n.ha.length<10}function qH(n,e){n.ha.push(e);let t=Ai(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function cR(n){return Do(n)&&!Ai(n).F_()&&n.ha.length>0}function uR(n){Ai(n).start()}function WH(n){return v(this,null,function*(){Ai(n).ta()})}function GH(n){return v(this,null,function*(){let e=Ai(n);for(let t of n.ha)e.Z_(t.mutations)})}function KH(n,e,t){return v(this,null,function*(){let r=n.ha.shift(),i=sw.from(r,e,t);yield aR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield qf(n)})}function QH(n,e){return v(this,null,function*(){e&&Ai(n).Y_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return lH(s)&&s!==F.ABORTED}(i.code)){let o=r.ha.shift();Ai(r).O_(),yield aR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield qf(r)}})}(n,e)),cR(n)&&uR(n)})}function WM(n,e){return v(this,null,function*(){let t=de(n);t.asyncQueue.verifyOperationInProgress(),z(To,"RemoteStore received new credentials");let r=Do(t);t.Ta.add(3),yield bu(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield zf(t)})}function YH(n,e){return v(this,null,function*(){let t=de(n);e?(t.Ta.delete(2),yield zf(t)):e||(t.Ta.add(2),yield bu(t),t.da.set("Unknown"))})}function pa(n){return n.Ra||(n.Ra=function(t,r,i){let o=de(t);return o.ra(),new qw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:UH.bind(null,n),n_:BH.bind(null,n),i_:$H.bind(null,n),j_:HH.bind(null,n)}),n.Ia.push(e=>v(this,null,function*(){e?(n.Ra.O_(),R0(n)?x0(n):n.da.set("Unknown")):(yield n.Ra.stop(),sR(n))}))),n.Ra}function Ai(n){return n.Va||(n.Va=function(t,r,i){let o=de(t);return o.ra(),new Ww(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:WH.bind(null,n),i_:QH.bind(null,n),X_:GH.bind(null,n),ea:KH.bind(null,n)}),n.Ia.push(e=>v(this,null,function*(){e?(n.Va.O_(),yield qf(n)):(yield n.Va.stop(),n.ha.length>0&&(z(To,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))}))),n.Va}var Zw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function N0(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),fa(n))return new Q(F.UNAVAILABLE,`${e}: ${n}`);throw n}var bf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||re.comparator(t.key,r.key):(t,r)=>re.comparator(t.key,r.key),this.keyedMap=ou(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Cf=class{constructor(){this.ma=new Xe(re.comparator)}track(e){let t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):ne(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){let e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}},ca=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,bf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Jw=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},Xw=class{constructor(){this.queries=GM(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){let i=de(t),o=i.queries;i.queries=GM(),o.forEach((s,a)=>{for(let u of a.ya)u.onError(r)})})(this,new Q(F.ABORTED,"Firestore shutting down"))}};function GM(){return new Hr(n=>kx(n),Bf)}function lR(n,e){return v(this,null,function*(){let t=de(n),r=3,i=e.query,o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new Jw,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield t.onListen(i,!0);break;case 1:o.pa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=N0(s,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&P0(t)})}function dR(n,e){return v(this,null,function*(){let t=de(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function ZH(n,e){let t=de(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&P0(t)}function JH(n,e,t){let r=de(n),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(t);r.queries.delete(e)}function P0(n){n.ba.forEach(e=>{e.next()})}var e0,KM;(KM=e0||(e0={})).Ca="default",KM.Cache="cache";var Tf=class{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;let r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==e0.Cache}};var Df=class{constructor(e){this.key=e}},Sf=class{constructor(e){this.key=e}},t0=class{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ae(),this.mutatedKeys=Ae(),this.Ha=Fx(e),this.Ja=new bf(this.Ha)}get Ya(){return this.Ga}Za(e,t){let r=t?t.Xa:new Cf,i=t?t.Ja:this.Ja,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=$f(this.query,p)?p:null,M=!!g&&this.mutatedKeys.has(g.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;g&&y?g.data.isEqual(y.data)?M!==P&&(r.track({type:3,doc:y}),N=!0):this.eu(g,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Ha(y,u)>0||l&&this.Ha(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),N=!0):g&&!y&&(r.track({type:1,doc:g}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((h,p)=>function(y,M){let P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Vt:N})}};return P(y)-P(M)}(h.type,p.type)||this.Ha(h.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=t&&!i?this.nu():[],u=this.ja.size===0&&this.current&&!i?1:0,l=u!==this.za;return this.za=u,s.length!==0||l?{snapshot:new ca(this.query,e.Ja,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Cf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=Ae(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new Sf(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new Df(r))}),t}su(e){this.Ga=e.$s,this.ja=Ae();let t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return ca.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},O0="SyncEngine",n0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},r0=class{constructor(e){this.key=e,this._u=!1}},i0=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Hr(a=>kx(a),Bf),this.cu=new Map,this.lu=new Set,this.hu=new Xe(re.comparator),this.Pu=new Map,this.Tu=new vu,this.Iu={},this.Eu=new Map,this.du=yu.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function XH(n,e,t=!0){return v(this,null,function*(){let r=yR(n),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield hR(r,e,t,!0),i})}function ez(n,e){return v(this,null,function*(){let t=yR(n);yield hR(t,e,!0,!1)})}function hR(n,e,t,r){return v(this,null,function*(){let i=yield VH(n.localStore,nr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield tz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&iR(n.remoteStore,i),a})}function tz(n,e,t,r,i){return v(this,null,function*(){n.Ru=(p,g,y)=>function(P,N,U,W){return v(this,null,function*(){let H=N.view.Za(U);H.Cs&&(H=yield HM(P.localStore,N.query,!1).then(({documents:T})=>N.view.Za(T,H)));let he=W&&W.targetChanges.get(N.targetId),qe=W&&W.targetMismatches.get(N.targetId)!=null,ce=N.view.applyChanges(H,P.isPrimaryClient,he,qe);return YM(P,N.targetId,ce.ru),ce.snapshot})}(n,p,g,y);let o=yield HM(n.localStore,e,!0),s=new t0(e,o.$s),a=s.Za(o.documents),u=mu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);YM(n,t,l.ru);let h=new n0(e,t,s);return n.uu.set(e,h),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),l.snapshot})}function nz(n,e,t){return v(this,null,function*(){let r=de(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!Bf(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Lw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&A0(r.remoteStore,i.targetId),o0(r,i.targetId)}).catch(ha))):(o0(r,i.targetId),yield Lw(r.localStore,i.targetId,!0))})}function rz(n,e){return v(this,null,function*(){let t=de(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),A0(t.remoteStore,r.targetId))})}function iz(n,e,t){return v(this,null,function*(){let r=dz(n);try{let i=yield function(s,a){let u=de(s),l=St.now(),h=a.reduce((y,M)=>y.add(M.key),Ae()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let M=zr(),P=Ae();return u.Bs.getEntries(y,h).next(N=>{M=N,M.forEach((U,W)=>{W.isValidDocument()||(P=P.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,M)).next(N=>{p=N;let U=[];for(let W of a){let H=uH(W,p.get(W.key).overlayedDocument);H!=null&&U.push(new ar(W.key,H,Mx(H.value.mapValue),rr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,U,a)}).next(N=>{g=N;let U=N.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,N.batchId,U)})}).then(()=>({batchId:g.batchId,changes:Lx(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Iu[s.currentUser.toKey()];l||(l=new Xe(we)),l=l.insert(a,u),s.Iu[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Cu(r,i.changes),yield qf(r.remoteStore)}catch(i){let o=N0(i,"Failed to persist write");t.reject(o)}})}function fR(n,e){return v(this,null,function*(){let t=de(n);try{let r=yield OH(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Pu.get(o);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?Fe(s._u,14607):i.removedDocuments.size>0&&(Fe(s._u,42227),s._u=!1))}),yield Cu(t,r,e)}catch(r){yield ha(r)}})}function QM(n,e,t){let r=de(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=de(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.ya)g.Da(a)&&(l=!0)}),l&&P0(u)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oz(n,e,t){return v(this,null,function*(){let r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new Xe(re.comparator);s=s.insert(o,Fn.newNoDocument(o,pe.min()));let a=Ae().add(o),u=new lf(pe.min(),new Map,new Xe(we),s,a);yield fR(r,u),r.hu=r.hu.remove(o),r.Pu.delete(e),k0(r)}else yield Lw(r.localStore,e,!1).then(()=>o0(r,e,t)).catch(ha)})}function sz(n,e){return v(this,null,function*(){let t=de(n),r=e.batch.batchId;try{let i=yield PH(t.localStore,e);mR(t,r,null),pR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Cu(t,i)}catch(i){yield ha(i)}})}function az(n,e,t){return v(this,null,function*(){let r=de(n);try{let i=yield function(s,a){let u=de(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Fe(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);mR(r,e,t),pR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Cu(r,i)}catch(i){yield ha(i)}})}function pR(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function mR(n,e,t){let r=de(n),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function o0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||gR(n,r)})}function gR(n,e){n.lu.delete(e.path.canonicalString());let t=n.hu.get(e);t!==null&&(A0(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),k0(n))}function YM(n,e,t){for(let r of t)r instanceof Df?(n.Tu.addReference(r.key,e),cz(n,r)):r instanceof Sf?(z(O0,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||gR(n,r.key)):ne(19791,{mu:r})}function cz(n,e){let t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(z(O0,"New document in limbo: "+t),n.lu.add(r),k0(n))}function k0(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){let e=n.lu.values().next().value;n.lu.delete(e);let t=new re(Je.fromString(e)),r=n.du.next();n.Pu.set(r,new r0(t)),n.hu=n.hu.insert(t,r),iR(n.remoteStore,new gu(nr(Uf(t.path)),r,"TargetPurposeLimboResolution",y0.le))}}function Cu(n,e,t){return v(this,null,function*(){let r=de(n),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,u)=>{s.push(r.Ru(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Ow.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(u,l){return v(this,null,function*(){let h=de(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.ds,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.As,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!fa(p))throw p;z(S0,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.xs.get(g),M=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(M);h.xs=h.xs.insert(g,P)}}})}(r.localStore,o))})}function uz(n,e){return v(this,null,function*(){let t=de(n);if(!t.currentUser.isEqual(e)){z(O0,"User change. New user:",e.toKey());let r=yield nR(t.localStore,e);t.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(u=>{u.reject(new Q(F.CANCELLED,s))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cu(t,r.ks)}})}function lz(n,e){let t=de(n),r=t.Pu.get(e);if(r&&r._u)return Ae().add(r.key);{let i=Ae(),o=t.cu.get(e);if(!o)return i;for(let s of o){let a=t.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function yR(n){let e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oz.bind(null,e),e.au.j_=ZH.bind(null,e.eventManager),e.au.Vu=JH.bind(null,e.eventManager),e}function dz(n){let e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=az.bind(null,e),e}var vR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Hf(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),yield this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)})}Su(t,r){return null}bu(t,r){return null}wu(t){return NH(this.persistence,new Fw,t.initialUser,this.serializer)}yu(t){return new gf(Pw.fi,this.serializer)}pu(t){return new jw}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),s0=class extends vR{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Fe(this.persistence.referenceDelegate instanceof yf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new ww(r,e.asyncQueue,t)}yu(e){let t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new gf(r=>yf.fi(r,t),this.serializer)}};var hz=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>QM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uz.bind(null,this.syncEngine),yield YH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Xw}()}createDatastore(t){let r=Hf(t.databaseInfo.databaseId),i=function(s){return new zw(s)}(t.databaseInfo);return function(s,a,u,l){return new Kw(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new Yw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>QM(this.syncEngine,r,0),function(){return _f.C()?new _f:new Uw}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new i0(o,s,a,u,l,h);return p&&(g.Au=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=de(o);z(To,"RemoteStore shutting down."),s.Ta.add(5),yield bu(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Af=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Mi="FirestoreClient",a0=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=nf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){z(Mi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z(Mi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=N0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function P_(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z(Mi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield nR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function ZM(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield fz(n);z(Mi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>WM(e.remoteStore,i)),n._onlineComponents=e})}function fz(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z(Mi,"Using user provided OfflineComponentProvider");try{yield P_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ys("Error using user provided cache. Falling back to memory cache: "+t),yield P_(n,new vR)}}else z(Mi,"Using default OfflineComponentProvider"),yield P_(n,new s0(void 0));return n._offlineComponents})}function _R(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z(Mi,"Using user provided OnlineComponentProvider"),yield ZM(n,n._uninitializedComponentsProvider._online)):(z(Mi,"Using default OnlineComponentProvider"),yield ZM(n,new hz))),n._onlineComponents})}function pz(n){return _R(n).then(e=>e.syncEngine)}function c0(n){return v(this,null,function*(){let e=yield _R(n),t=e.eventManager;return t.onListen=XH.bind(null,e.syncEngine),t.onUnlisten=nz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ez.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rz.bind(null,e.syncEngine),t})}function mz(n,e,t={}){let r=new er;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new Af({next:g=>{h.Cu(),s.enqueueAndForget(()=>dR(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new Q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new Q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Tf(Uf(a.path),h,{includeMetadataChanges:!0,La:!0});return lR(o,p)}(yield c0(n),n.asyncQueue,e,t,r)})),r.promise}function wR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var JM=new Map;function ER(n,e,t){if(!t)throw new Q(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gz(n,e,t,r){if(e===!0&&r===!0)throw new Q(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XM(n){if(!re.isDocumentKey(n))throw new Q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ex(n){if(re.isDocumentKey(n))throw new Q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function F0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne(12329,{type:typeof n})}function In(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=F0(n);throw new Q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var IR="firestore.googleapis.com",tx=!0,Mf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IR,this.ssl=tx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:tx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MH)throw new Q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ua=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O_;switch(r.type){case"firstParty":return new L_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=JM.get(t);r&&(z("ComponentProvider","Removing Datastore"),JM.delete(t),r.terminate())}(this),Promise.resolve()}};function bR(n,e,t,r={}){var i;n=In(n,ua);let o=io(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(uh(`https://${u}`),lh("Firestore",!0)),s.host!==IR&&s.host!==u&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Kn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=wt.MOCK_USER;else{h=vS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new wt(g)}n._authCredentials=new k_(new ef(h,p))}}var xf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Wt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Di=class n extends xf{constructor(e,t,r){super(e,t,Uf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function CR(n,e,...t){if(n=lt(n),ER("collection","path",e),n instanceof ua){let r=Je.fromString(e,...t);return ex(r),new Di(n,null,r)}{if(!(n instanceof Wt||n instanceof Di))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Je.fromString(e,...t));return ex(r),new Di(n.firestore,null,r)}}function V0(n,e,...t){if(n=lt(n),arguments.length===1&&(e=nf.newId()),ER("doc","path",e),n instanceof ua){let r=Je.fromString(e,...t);return XM(r),new Wt(n,null,new re(r))}{if(!(n instanceof Wt||n instanceof Di))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Je.fromString(e,...t));return XM(r),new Wt(n.firestore,n instanceof Di?n.converter:null,new re(r))}}var nx="AsyncQueue",Rf=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new wf(this,"async_queue_retry"),this.ec=()=>{let r=N_();r&&z(nx,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let t=N_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let t=N_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let t=new er;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return v(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!fa(e))throw e;z(nx,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Ur("INTERNAL UNHANDLED ERROR: ",rx(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);let i=Zw.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&ne(47125,{_c:rx(this.Ju)})}verifyOperationInProgress(){}ac(){return v(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let t=this.Hu.indexOf(e);this.Hu.splice(t,1)}};function rx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function ix(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var cr=class extends ua{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Rf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Rf(e),this._firestoreClient=void 0,yield e}})}};function TR(n,e){let t=typeof n=="object"?n:so(),r=typeof n=="string"?n:e||af,i=Ns(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=yS("firestore");o&&bR(i,...o)}return i}function L0(n){if(n._terminated)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yz(n),n._firestoreClient}function yz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new H_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new a0(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var _u=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ft.fromBase64String(e))}catch(t){throw new Q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var la=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wu=class{constructor(e){this._methodName=e}};var Eu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var Iu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var vz=/^__.*__$/,u0=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,t,this.fieldTransforms):new Co(e,this.data,t,this.fieldTransforms)}},Nf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ar(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function DR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{hc:n})}}var l0=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Of(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(DR(this.hc)&&vz.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},d0=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Hf(e)}gc(e,t,r,i=!1){return new l0({hc:e,methodName:t,fc:r,path:cn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function j0(n){let e=n._freezeSettings(),t=Hf(n._databaseId);return new d0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SR(n,e,t,r,i,o={}){let s=n.gc(o.merge||o.mergeFields?2:0,e,t,i);U0("Data must be an object, but it was:",s,r);let a=AR(r,s),u,l;if(o.merge)u=new En(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=h0(e,p,t);if(!s.contains(g))throw new Q(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);xR(h,g)||h.push(g)}u=new En(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new u0(new an(a),u,l)}var Pf=class n extends wu{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function _z(n,e,t,r){let i=n.gc(1,e,t);U0("Data must be an object, but it was:",i,r);let o=[],s=an.empty();xi(r,(u,l)=>{let h=B0(e,u,t);l=lt(l);let p=i.Ac(h);if(l instanceof Pf)o.push(h);else{let g=Wf(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new En(o);return new Nf(s,a,i.fieldTransforms)}function wz(n,e,t,r,i,o){let s=n.gc(1,e,t),a=[h0(e,r,t)],u=[i];if(o.length%2!=0)throw new Q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(h0(e,o[g])),u.push(o[g+1]);let l=[],h=an.empty();for(let g=a.length-1;g>=0;--g)if(!xR(l,a[g])){let y=a[g],M=u[g];M=lt(M);let P=s.Ac(y);if(M instanceof Pf)l.push(y);else{let N=Wf(M,P);N!=null&&(l.push(y),h.set(y,N))}}let p=new En(l);return new Nf(h,p,s.fieldTransforms)}function Wf(n,e){if(MR(n=lt(n)))return U0("Unsupported field value:",e,n),AR(n,e);if(n instanceof wu)return function(r,i){if(!DR(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Wf(a,i.Rc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=St.fromDate(r);return{timestampValue:pf(i.serializer,o)}}if(r instanceof St){let o=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pf(i.serializer,o)}}if(r instanceof Eu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _u)return{bytesValue:Kx(i.serializer,r._byteString)};if(r instanceof Wt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:D0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Iu)return function(s,a){return{mapValue:{fields:{[w0]:{stringValue:E0},[Js]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Vc("VectorValues must only contain numeric values.");return T0(a.serializer,l)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${F0(r)}`)}(n,e)}function AR(n,e){let t={};return Ex(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xi(n,(r,i)=>{let o=Wf(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function MR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof Eu||n instanceof _u||n instanceof Wt||n instanceof wu||n instanceof Iu)}function U0(n,e,t){if(!MR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=F0(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function h0(n,e,t){if((e=lt(e))instanceof la)return e._internalPath;if(typeof e=="string")return B0(n,e);throw Of("Field path arguments must be of type string or ",n,!1,void 0,t)}var Ez=new RegExp("[~\\*/\\[\\]]");function B0(n,e,t){if(e.search(Ez)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new la(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Of(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Q(F.INVALID_ARGUMENT,a+n+u)}function xR(n,e){return n.some(t=>t.isEqual(e))}var kf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new f0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(RR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},f0=class extends kf{data(){return super.data()}};function RR(n,e){return typeof e=="string"?B0(n,e):e instanceof la?e._internalPath:e._delegate._internalPath}function Iz(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var p0=class{convertValue(e,t="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return xi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Js].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>We(s.doubleValue));return new Iu(o)}convertGeoPoint(e){return new Eu(We(e.latitude),We(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=jf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){let t=Br(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Je.fromString(e);Fe(eR(r),9688,{name:e});let i=new cf(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(t)||Ur(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function NR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var _o=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ff=class extends kf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Qs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(RR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Qs=class extends Ff{data(e={}){return super.data(e)}},m0=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qs(this._firestore,this._userDataWriter,r.key,r,new _o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Qs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Qs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:bz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function bz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:n})}}function PR(n){n=In(n,Wt);let e=In(n.firestore,cr);return mz(L0(e),n._key).then(t=>LR(e,n,t))}var Vf=class extends p0{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}};function OR(n,e,t){n=In(n,Wt);let r=In(n.firestore,cr),i=NR(n.converter,e,t);return Gf(r,[SR(j0(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,rr.none())])}function kR(n,e,t,...r){n=In(n,Wt);let i=In(n.firestore,cr),o=j0(i),s;return s=typeof(e=lt(e))=="string"||e instanceof la?wz(o,"updateDoc",n._key,e,t,r):_z(o,"updateDoc",n._key,e),Gf(i,[s.toMutation(n._key,rr.exists(!0))])}function FR(n){return Gf(In(n.firestore,cr),[new pu(n._key,rr.none())])}function VR(n,e){let t=In(n.firestore,cr),r=V0(n),i=NR(n.converter,e);return Gf(t,[SR(j0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function $0(n,...e){var t,r,i;n=lt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ix(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ix(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Wt)l=In(n.firestore,cr),h=Uf(n._key.path),u={next:p=>{e[s]&&e[s](LR(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=In(n,xf);l=In(p.firestore,cr),h=p._query;let g=new Vf(l);u={next:y=>{e[s]&&e[s](new m0(l,g,p,y))},error:e[s+1],complete:e[s+2]},Iz(n._query)}return function(g,y,M,P){let N=new Af(P),U=new Tf(y,N,M);return g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return lR(yield c0(g),U)})),()=>{N.Cu(),g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return dR(yield c0(g),U)}))}}(L0(l),h,a,u)}function Gf(n,e){return function(r,i){let o=new er;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return iz(yield pz(r),i,o)})),o.promise}(L0(n),e)}function LR(n,e,t){let r=t.docs.get(e._key),i=new Vf(n);return new Ff(n,i,e._key,r,new _o(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){da=i})(yi),Pn(new qt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new cr(new F_(r.getProvider("auth-internal")),new j_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ze(mM,gM,e),Ze(mM,gM,"esm2017")})();var Kf=function(){return Kf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Kf.apply(this,arguments)};var Dz={includeMetadataChanges:!1};function H0(n,e){return e===void 0&&(e=Dz),new Ee(function(t){var r=$0(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function jR(n){return H0(n,{includeMetadataChanges:!0})}function UR(n,e){return e===void 0&&(e={}),jR(n).pipe(ee(function(t){return z0(t,e)}))}function z0(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Kf(Kf({},r),(t={},t[e.idField]=n.id,t))}function BR(n){return H0(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function $R(n,e){return e===void 0&&(e={}),BR(n).pipe(ee(function(t){return t.map(function(r){return z0(r,e)})}))}var So=class{constructor(e){return e}},HR="firestore",q0=class{constructor(){return js(HR)}};var W0=new q("angularfire2.firestore-instances");function Sz(n,e){let t=qc(HR,n,e);return t&&new So(t)}function Az(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new So(r)}}var Mz={provide:q0,deps:[[new Pt,W0]]},xz={provide:So,useFactory:Sz,deps:[[new Pt,W0],Or]};function zR(n,...e){return Ze("angularfire",vi.full,"fst"),Mn([xz,Mz,{provide:W0,useFactory:Az(n),multi:!0,deps:[Oe,et,_i,lo,[new Pt,ru],[new Pt,Us],...e]}])}var Ao=_t($R,!0);var Qf=_t(UR,!0);var Yf=_t(VR,!0,2);var ur=_t(CR,!0,2);var Zf=_t(FR,!0,2);var un=_t(V0,!0,2);var G0=_t(PR,!0);var qR=_t(TR,!0);var Jf=_t(OR,!0,2);var Xf=_t(kR,!0,2);var tN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(B(Dr),B(Hn))};static \u0275dir=Qe({type:n})}return n})(),ap=(()=>{class n extends tN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cr(n)))(i||n)}})();static \u0275dir=Qe({type:n,features:[gn]})}return n})(),Ru=new q("");var Nz={provide:Ru,useExisting:$n(()=>at),multi:!0};function Pz(){let n=Mr()?Mr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Oz=new q(""),at=(()=>{class n extends tN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Pz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(B(Dr),B(Hn),B(Oz,8))};static \u0275dir=Qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&$("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[hi([Nz]),gn]})}return n})();function kz(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Q0=new q(""),nN=new q("");function Fz(n){return kz(n.value)?{required:!0}:null}function WR(n){return null}function rN(n){return n!=null}function iN(n){return Yi(n)?Be(n):n}function oN(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function sN(n,e){return e.map(t=>t(n))}function Vz(n){return!n.validate}function aN(n){return n.map(e=>Vz(e)?e:t=>e.validate(t))}function Lz(n){if(!n)return null;let e=n.filter(rN);return e.length==0?null:function(t){return oN(sN(t,e))}}function Y0(n){return n!=null?Lz(aN(n)):null}function jz(n){if(!n)return null;let e=n.filter(rN);return e.length==0?null:function(t){let r=sN(t,e).map(iN);return nm(r).pipe(ee(oN))}}function Z0(n){return n!=null?jz(aN(n)):null}function GR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Uz(n){return n._rawValidators}function Bz(n){return n._rawAsyncValidators}function K0(n){return n?Array.isArray(n)?n:[n]:[]}function tp(n,e){return Array.isArray(n)?n.includes(e):n===e}function KR(n,e){let t=K0(e);return K0(n).forEach(i=>{tp(t,i)||t.push(i)}),t}function QR(n,e){return K0(e).filter(t=>!tp(n,t))}var np=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Y0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Z0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ya=class extends np{name;get formDirective(){return null}get path(){return null}},xu=class extends np{_parent=null;name=null;valueAccessor=null},rp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$z={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pee=ae(V({},$z),{"[class.ng-submitted]":"isSubmitted"}),It=(()=>{class n extends rp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(B(xu,2))};static \u0275dir=Qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Md("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[gn]})}return n})(),_a=(()=>{class n extends rp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(B(ya,10))};static \u0275dir=Qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Md("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[gn]})}return n})();var Tu="VALID",ep="INVALID",ma="PENDING",Du="DISABLED",va=class{},ip=class extends va{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Au=class extends va{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Mu=class extends va{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ga=class extends va{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function cN(n){return(cp(n)?n.validators:n)||null}function Hz(n){return Array.isArray(n)?Y0(n):n||null}function uN(n,e){return(cp(e)?e.asyncValidators:n)||null}function zz(n){return Array.isArray(n)?Z0(n):n||null}function cp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function qz(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function Wz(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new K(1002,"")})}var op=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return qn(this.statusReactive)}set status(e){qn(()=>this.statusReactive.set(e))}_status=ms(()=>this.statusReactive());statusReactive=hs(void 0);get valid(){return this.status===Tu}get invalid(){return this.status===ep}get pending(){return this.status==ma}get disabled(){return this.status===Du}get enabled(){return this.status!==Du}errors;get pristine(){return qn(this.pristineReactive)}set pristine(e){qn(()=>this.pristineReactive.set(e))}_pristine=ms(()=>this.pristineReactive());pristineReactive=hs(!0);get dirty(){return!this.pristine}get touched(){return qn(this.touchedReactive)}set touched(e){qn(()=>this.touchedReactive.set(e))}_touched=ms(()=>this.touchedReactive());touchedReactive=hs(!1);get untouched(){return!this.touched}_events=new ut;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QR(e,this._rawAsyncValidators))}hasValidator(e){return tp(this._rawValidators,e)}hasAsyncValidator(e){return tp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Mu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Mu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Au(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Au(!0,r))}markAsPending(e={}){this.status=ma;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ga(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Du,this.errors=null,this._forEachChild(i=>{i.disable(ae(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ip(this.value,r)),this._events.next(new ga(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this._forEachChild(r=>{r.enable(ae(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tu||this.status===ma)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ip(this.value,t)),this._events.next(new ga(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Du:Tu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ma,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=iN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ga(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new pt,this.statusChanges=new pt}_calculateStatus(){return this._allControlsDisabled()?Du:this.errors?ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ma)?ma:this._anyControlsHaveStatus(ep)?ep:Tu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Au(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Mu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Hz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=zz(this._rawAsyncValidators)}},sp=class extends op{constructor(e,t,r){super(cN(t),uN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Wz(this,!0,e),Object.keys(e).forEach(r=>{qz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var J0=new q("",{providedIn:"root",factory:()=>X0}),X0="always";function Gz(n,e){return[...e.path,n]}function lN(n,e,t=X0){dN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Qz(n,e),Zz(n,e),Yz(n,e),Kz(n,e)}function YR(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function dN(n,e){let t=Uz(n);e.validator!==null?n.setValidators(GR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Bz(n);e.asyncValidator!==null?n.setAsyncValidators(GR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();YR(e._rawValidators,i),YR(e._rawAsyncValidators,i)}function Qz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&hN(n,e)})}function Yz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&hN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function hN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Jz(n,e){n==null,dN(n,e)}function Xz(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function e5(n){return Object.getPrototypeOf(n.constructor)===ap}function t5(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function n5(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===at?t=o:e5(o)?r=o:i=o}),i||r||t||null}var r5={provide:ya,useExisting:$n(()=>Mo)},Su=Promise.resolve(),Mo=(()=>{class n extends ya{callSetDisabledState;get submitted(){return qn(this.submittedReactive)}_submitted=ms(()=>this.submittedReactive());submittedReactive=hs(!1);_directives=new Set;form;ngSubmit=new pt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new sp({},Y0(t),Z0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Su.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),lN(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Su.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Su.then(()=>{let r=this._findContainer(t.path),i=new sp({});Jz(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Su.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Su.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),t5(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(B(Q0,10),B(nN,10),B(J0,8))};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&$("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[hi([r5]),gn]})}return n})();function ZR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function JR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var i5=class extends op{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(cN(t),uN(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(JR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){JR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var o5={provide:xu,useExisting:$n(()=>ht)},XR=Promise.resolve(),ht=(()=>{class n extends xu{_changeDetectorRef;callSetDisabledState;control=new i5;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new pt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=n5(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Xz(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){XR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&uc(r);XR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Gz(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(B(ya,9),B(Q0,10),B(nN,10),B(Ru,10),B(Ji,8),B(J0,8))};static \u0275dir=Qe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[hi([o5]),gn,ls]})}return n})(),wa=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),s5={provide:Ru,useExisting:$n(()=>At),multi:!0},At=(()=>{class n extends ap{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cr(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&$("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[hi([s5]),gn]})}return n})();var a5={provide:Ru,useExisting:$n(()=>Ea),multi:!0};function fN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function c5(n){return n.split(":")[0]}var Ea=(()=>{class n extends ap{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=fN(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=c5(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cr(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&$("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[hi([a5]),gn]})}return n})(),up=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(fN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(B(Hn),B(Dr),B(Ea,9))};static \u0275dir=Qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),u5={provide:Ru,useExisting:$n(()=>pN),multi:!0};function eN(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function l5(n){return n.split(":")[0]}var pN=(()=>{class n extends ap{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=l5(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cr(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&$("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[hi([u5]),gn]})}return n})(),lp=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(eN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(eN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(B(Hn),B(Dr),B(pN,9))};static \u0275dir=Qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var d5=(()=>{class n{_validator=WR;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):WR,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,features:[ls]})}return n})();var h5={provide:Q0,useExisting:$n(()=>ln),multi:!0};var ln=(()=>{class n extends d5{required;inputName="required";normalizeInput=uc;createValidator=t=>Fz;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Cr(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ad("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[hi([h5]),gn]})}return n})();var f5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Sr({type:n});static \u0275inj=Er({})}return n})();var bt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:J0,useValue:t.callSetDisabledState??X0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Sr({type:n});static \u0275inj=Er({imports:[f5]})}return n})();var He=(()=>{class n{firestore;auth;router;itemsCollection;combosCollection;menuItemsCollection;constructor(t,r,i){this.firestore=t,this.auth=r,this.router=i,this.itemsCollection=ur(this.firestore,"items"),this.menuItemsCollection=ur(this.firestore,"menuItems"),this.combosCollection=ur(this.firestore,"combos")}loginUser(t,r){return v(this,null,function*(){try{return yield hM(this.auth,t,r),!0}catch(i){return console.error("Login error",i),!1}})}registerUser(t,r){return v(this,null,function*(){yield lM(this.auth,t,r)})}logout(){return v(this,null,function*(){return yield this.auth.signOut()})}users=new Ke([{username:"admin",password:"admin123"},{username:"user1",password:"password1"},{username:"guest",password:"guest123"}]);currentUser=new Ke(null);items=new Ke([{code:"SM_HAKE",name:"Small Hake",price:15,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"MD_HAKE",name:"Medium Hake",price:25,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"LG_HAKE",name:"Large Hake",price:35,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"CAL_RINGS",name:"Calamari Rings",price:20,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"FISH_CAKE",name:"Fish Cake",price:10,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"MINI_LOAF",name:"Mini Loaf",price:8,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"MD_CHK_RUS",name:"Medium Chicken Russian",price:18,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"CHK_STRIPS",name:"Chicken Strips",price:22,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"SM_RUS",name:"Small Russian",price:12,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"MD_RUS",name:"Medium Russian",price:15,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"LG_RUS",name:"Large Russian",price:18,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"XL_RUS",name:"X-Large Russian",price:22,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"MD_CHS_GRILL",name:"Medium Cheese Griller",price:20,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"SM_VIENNA",name:"Small Vienna",price:10,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]},{code:"CHS_COCKTAIL",name:"Cheesy Cocktail Vienna",price:20,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"2024-11-18",entries:[]}]);combos=[{id:"CMB_001",name:"Combo 1",price:40,comps:[{code:"SM_HAKE",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_002",name:"Combo 2",price:60,comps:[{code:"MD_HAKE",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_003",name:"Combo 3",price:80,comps:[{code:"SM_HAKE",units:2},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_004",name:"Combo 4",price:70,comps:[{code:"SM_RUS",units:2},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_005",name:"Combo 5",price:90,comps:[{code:"MD_HAKE",units:2},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_006",name:"Combo 6",price:75,comps:[{code:"SM_HAKE",units:1},{code:"MD_RUS",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_007",name:"Combo 7",price:50,comps:[{code:"MD_CHS_GRILL",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_008",name:"Combo 8",price:45,comps:[{code:"SM_VIENNA",units:2},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_009",name:"Combo 9",price:85,comps:[{code:"SM_HAKE",units:1},{code:"SM_RUS",units:1},{code:"MINI_LOAF",units:2}],unitsSold:0},{id:"CMB_010",name:"Combo 10",price:55,comps:[{code:"SM_RUS",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_011",name:"Combo 11",price:65,comps:[{code:"CAL_RINGS",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_012",name:"Combo 12",price:75,comps:[{code:"CHK_STRIPS",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_013",name:"Combo 13 - Big Box Deal",price:150,comps:[{code:"MD_CHIPS",units:1},{code:"MINI_LOAF",units:2},{code:"CHS_COCKTAIL",units:10}],unitsSold:0},{id:"CMB_014",name:"Combo 14",price:45,comps:[{code:"SM_RUS",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_015",name:"Combo 15",price:50,comps:[{code:"SM_HAKE",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_016",name:"Combo 16",price:60,comps:[{code:"FISH_CAKE",units:2},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_017",name:"Combo 17",price:35,comps:[{code:"SM_VIENNA",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_018",name:"Combo 18",price:50,comps:[{code:"CHS_COCKTAIL",units:5},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_019",name:"Combo 19 - Max Meal",price:120,comps:[{code:"SM_HAKE",units:2},{code:"SM_RUS",units:2},{code:"SM_VIENNA",units:2},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_020",name:"Combo 20 - Sailors Choice",price:135,comps:[{code:"SM_HAKE",units:2},{code:"FISH_CAKE",units:2},{code:"CAL_RINGS",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_021",name:"Combo 21 - Sausage Selection",price:125,comps:[{code:"SM_RUS",units:2},{code:"SM_VIENNA",units:2},{code:"CHS_COCKTAIL",units:5},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_022",name:"Combo 22 - Meal for 4",price:200,comps:[{code:"SM_RUS",units:4},{code:"SM_HAKE",units:4},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_023",name:"Russian Roll",price:20,comps:[{code:"SM_RUS",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0},{id:"CMB_024",name:"Hot Dog",price:15,comps:[{code:"SM_VIENNA",units:1},{code:"MINI_LOAF",units:1}],unitsSold:0}];menuItems=new Ke([]);getCurrentUser(){return this.currentUser.asObservable()}getItems(){return Ao(this.itemsCollection,{idField:"id"}).pipe(ee(t=>t.map(r=>r)))}addItem(t){return v(this,null,function*(){try{let r=un(this.firestore,"items",t.code);yield Jf(r,t),console.log("Item added to Firestore with code as ID:",t.code)}catch(r){console.error("Error adding item:",r)}})}getItemByCode(t){let r=un(this.firestore,"items",t);return Qf(r).pipe(ee(i=>{if(i)return V({code:t},i)}))}getItemEntries(t){let r=ur(this.firestore,`items/${t}/entries`);return Ao(r,{idField:"id"})}addItemEntry(t,r){let i=ur(this.firestore,`items/${t}/entries`);return Yf(i,r).then(()=>{})}editItem(t){return v(this,null,function*(){try{let r=un(this.itemsCollection,t.code);yield Xf(r,V({},t)),console.log(`Item ${t.code} updated.`)}catch(r){console.error("Error updating item:",r)}})}deleteItem(t){return v(this,null,function*(){try{let r=un(this.itemsCollection,t);yield Zf(r),console.log(`Item with id ${t} deleted.`)}catch(r){console.error("Error deleting item:",r)}})}addCombo(t){return v(this,null,function*(){let r=un(this.firestore,"combos",t.id);if((yield G0(r)).exists()){console.log(`Combo with ID ${t.id} already exists.`);return}yield Jf(r,t),console.log(`Combo with ID ${t.id} added to Firestore.`)})}getCombos(){return Ao(this.combosCollection,{idField:"id"}).pipe(ee(t=>t.map(r=>r)))}getComboById(t){let r=un(this.firestore,"combos",t);return Qf(r).pipe(ee(i=>{if(i)return V({id:t},i)}))}editCombo(t){return v(this,null,function*(){try{let r=un(this.combosCollection,t.id);yield Xf(r,V({},t)),console.log(`Combo ${t.id} updated.`)}catch(r){console.error("Error updating combo:",r)}})}deleteCombo(t){return v(this,null,function*(){try{let r=un(this.combosCollection,t);yield Zf(r),console.log(`Combo with ID ${t} deleted.`)}catch(r){console.error("Error deleting combo:",r)}})}getComboEntries(t){let r=ur(this.firestore,`combos/${t}/entries`);return Ao(r,{idField:"id"})}addComboEntry(t,r){let i=ur(this.firestore,`combos/${t}/entries`);return Yf(i,r).then(()=>{})}updatePhysicalValues(t){let r=this.items.getValue().map(i=>{let o=t.comps.find(s=>s.code===i.code);return o&&t.unitsSold?ae(V({},i),{physical:(i.physical??0)-o.units*t.unitsSold}):i});this.items.next(r)}addMenuItem(t){return v(this,null,function*(){try{let r=un(this.menuItemsCollection,t.id);if((yield G0(r)).exists()){console.log(`Item with ID ${t.id} already exists.`);return}yield Jf(r,t),console.log(`Item with ID ${t.id} added to Firestore.`)}catch(r){console.error("Error adding item:",r)}})}getMenuitems(){return Ao(this.menuItemsCollection,{idField:"id"}).pipe(ee(t=>t.map(r=>r)))}getMiByCode(t){let r=un(this.firestore,"menuItems",t);return Qf(r).pipe(ee(i=>{if(i)return V({id:t},i)}))}getmenuItemEntries(t){let r=ur(this.firestore,`menuItems/${t}/entries`);return Ao(r,{idField:"id"})}addMenuItemEntry(t,r){let i=ur(this.firestore,`menuItems/${t}/entries`);return Yf(i,r).then(()=>{})}editMi(t){return v(this,null,function*(){try{let r=un(this.menuItemsCollection,t.id);yield Xf(r,V({},t)),console.log(`Item ${t.id} updated.`)}catch(r){console.error("Error updating item:",r)}})}deleteMenuItem(t){return v(this,null,function*(){try{let r=un(this.menuItemsCollection,t);yield Zf(r),console.log(`Menu item with ID ${t} deleted.`)}catch(r){console.error("Error deleting menu item:",r)}})}static \u0275fac=function(r){return new(r||n)(J(So),J(go),J(Se))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function p5(n,e){if(n&1&&(_(0,"div",18)(1,"small"),D(2),w()()),n&2){let t=X();O(2),oe(t.errorMessage)}}var eE=(()=>{class n{router;username="";password="";errorMessage="";itemService=k(He);constructor(t){this.router=t}isPasswordVisible=!1;togglePassword(){this.isPasswordVisible=!this.isPasswordVisible;let t=document.getElementById("password");t&&(t.type=this.isPasswordVisible?"text":"password")}login(){return v(this,null,function*(){(yield this.itemService.loginUser(this.username,this.password))?this.router.navigate(["/home"]):this.errorMessage="Invalid username or password."})}register(){return v(this,null,function*(){try{yield this.itemService.registerUser(this.username,this.password),this.router.navigate(["/home"])}catch{this.errorMessage="Registration failed."}})}static \u0275fac=function(r){return new(r||n)(B(Se))};static \u0275cmp=Pe({type:n,selectors:[["app-login"]],decls:25,vars:5,consts:[[1,"container","vh-100","d-flex","flex-column","justify-content-center","align-items-center"],[1,"welcome-message","text-center","mb-4"],[1,"row","justify-content-center","w-100"],[1,"col-md-6","col-lg-4"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","email","name","username","id","username","placeholder","enter username","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],[1,"input-group","position-relative"],["name","password","id","password","placeholder","enter password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],[1,"input-group-text",2,"cursor","pointer",3,"click"],[3,"ngClass"],["class","text-danger text-center mb-3",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-danger","text-center","mb-3"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"h1"),D(3,"Welcome to imStock"),w()(),_(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h3",6),D(9,"Login"),w(),_(10,"form",7),$("ngSubmit",function(){return i.login()}),_(11,"div",8)(12,"label",9),D(13,"Username"),w(),_(14,"input",10),ye("ngModelChange",function(s){return _e(i.username,s)||(i.username=s),s}),w()(),_(15,"div",8)(16,"label",11),D(17,"Password"),w(),_(18,"div",12)(19,"input",13),ye("ngModelChange",function(s){return _e(i.password,s)||(i.password=s),s}),w(),_(20,"span",14),$("click",function(){return i.togglePassword()}),te(21,"i",15),w()()(),be(22,p5,3,1,"div",16),_(23,"button",17),D(24,"Login"),w()()()()()()()),r&2&&(O(14),ge("ngModel",i.username),O(5),ue("type",i.isPasswordVisible?"text":"password"),ge("ngModel",i.password),O(2),ue("ngClass",i.isPasswordVisible?"fas fa-eye-slash":"fas fa-eye"),O(),ue("ngIf",i.errorMessage))},dependencies:[Ue,qT,Wn,bt,wa,at,It,_a,ln,ht,Mo],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.welcome-message[_ngcontent-%COMP%]{margin-bottom:2rem}.welcome-message[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#fff}.card[_ngcontent-%COMP%]{border-radius:.5rem}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.input-group[_ngcontent-%COMP%]{position:relative}.input-group-text[_ngcontent-%COMP%]{cursor:pointer;background:transparent;border:none;padding:.5rem .75rem}.input-group[_ngcontent-%COMP%]   .fa-eye[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   .fa-eye-slash[_ngcontent-%COMP%]{font-size:1.25rem;color:#6c757d}"]})}return n})();function m5(n,e){if(n&1){let t=je();_(0,"tr")(1,"td"),D(2),w(),_(3,"td"),D(4),w(),_(5,"td"),D(6),w(),_(7,"td"),D(8),w(),_(9,"td"),D(10),w(),_(11,"td"),D(12),w(),_(13,"td"),D(14),w(),_(15,"td"),D(16),w(),_(17,"td"),D(18),w(),_(19,"td")(20,"button",13),$("click",function(){let i=Y(t).$implicit,o=X();return Z(o.manageItem(i))}),D(21," Manage "),w()()()}if(n&2){let t=e.$implicit;O(2),oe(t.code),O(2),oe(t.name),O(2),oe(t.physical),O(2),oe(t.purchase),O(2),oe(t.total),O(2),oe(t.sale),O(2),oe(t.closing),O(2),oe(t.actual),O(2),oe(t.variance)}}function g5(n,e){if(n&1){let t=je();_(0,"tr")(1,"td"),D(2),w(),_(3,"td"),D(4),w(),_(5,"td"),D(6),w(),_(7,"td")(8,"button",13),$("click",function(){let i=Y(t).$implicit,o=X();return Z(o.manageCombo(i))}),D(9," Manage "),w()()()}if(n&2){let t=e.$implicit,r=X();O(2),oe(t.id),O(2),oe(t.name),O(2),oe(r.getTotalUnitsSold(t))}}function y5(n,e){if(n&1){let t=je();_(0,"tr")(1,"td"),D(2),w(),_(3,"td"),D(4),w(),_(5,"td"),D(6),w(),_(7,"td")(8,"button",13),$("click",function(){let i=Y(t).$implicit,o=X();return Z(o.manageMenuItem(i))}),D(9," Manage "),w()()()}if(n&2){let t=e.$implicit;O(2),oe(t.id),O(2),oe(t.name),O(2),oe(t.unitsSold)}}var mN=(()=>{class n{router;itemService=k(He);constructor(t){this.router=t}items$;combos$;menuItems$;filteredItems=[];filteredCombos=[];filteredMenuItems=[];ngOnInit(){this.items$=this.itemService.getItems(),this.combos$=this.itemService.getCombos(),this.menuItems$=this.itemService.getMenuitems(),this.items$.subscribe(t=>{this.filteredItems=[...t]}),this.combos$.subscribe(t=>{this.filteredCombos=[...t]}),this.menuItems$.subscribe(t=>{this.filteredMenuItems=[...t]})}onSearch(t){let r=t.target.value.toLowerCase();this.items$.subscribe(i=>{this.filteredItems=i.filter(o=>o.name.toLowerCase().includes(r)||o.code.toLowerCase().includes(r))}),this.combos$.subscribe(i=>{this.filteredCombos=i.filter(o=>o.name.toLowerCase().includes(r)||o.id.toLowerCase().includes(r))}),this.menuItems$.subscribe(i=>{this.filteredMenuItems=i.filter(o=>o.name.toLowerCase().includes(r)||o.id.toLowerCase().includes(r))})}tovitems(){this.router.navigate(["/vitems"])}tovCombos(){this.router.navigate(["/vcombos"])}tovMenuItems(){this.router.navigate(["/vmi"])}manageItem(t){this.router.navigate(["/mitem",t.code])}manageCombo(t){this.router.navigate(["/mcombo",t.id])}manageMenuItem(t){this.router.navigate(["/mmi",t.id])}getTotalUnitsSold(t){return!t.comboEntries||t.comboEntries.length===0?0:t.comboEntries.reduce((r,i)=>r+i.unitsSold,0)}static \u0275fac=function(r){return new(r||n)(B(Se))};static \u0275cmp=Pe({type:n,selectors:[["app-home"]],decls:68,vars:3,consts:[[1,"container"],[1,"row"],[1,"search-container"],["type","text","placeholder","Search...",3,"input"],["type","button"],[1,"material-icons"],[1,"row","text-center"],[1,"col-6","col-sm-3","mb-2"],[1,"topbtns","w-100"],[1,"topbtns","w-100",3,"click"],[1,"table-container"],[2,"color","aliceblue"],[4,"ngFor","ngForOf"],[1,"tablebtns",2,"width","80%",3,"click"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),$("input",function(s){return i.onSearch(s)}),w(),_(4,"button",4)(5,"span",5),D(6,"search"),w()()()(),_(7,"div",6)(8,"div",7)(9,"button",8),D(10,"Print Stock "),w()(),_(11,"div",7)(12,"button",9),$("click",function(){return i.tovCombos()}),D(13,"Combos"),w()(),_(14,"div",7)(15,"button",9),$("click",function(){return i.tovMenuItems()}),D(16,"Menu Items"),w()(),_(17,"div",7)(18,"button",9),$("click",function(){return i.tovitems()}),D(19,"Items"),w()()(),te(20,"br"),_(21,"div",1)(22,"div",10)(23,"div",1)(24,"h1",11),D(25,"Items"),w()(),_(26,"table")(27,"thead")(28,"tr")(29,"th"),D(30,"Item Code"),w(),_(31,"th"),D(32,"Item Name"),w(),_(33,"th"),D(34,"Physical"),w(),_(35,"th"),D(36,"Purchases"),w(),_(37,"th"),D(38,"Total"),w(),_(39,"th"),D(40,"Sales"),w(),_(41,"th"),D(42,"Closing"),w(),_(43,"th"),D(44,"Actual"),w(),_(45,"th"),D(46,"Variance"),w(),te(47,"th"),w()(),_(48,"tbody"),be(49,m5,22,9,"tr",12),w()()()(),_(50,"div",1)(51,"div",10)(52,"div",1)(53,"h1",11),D(54,"Combos"),w()(),_(55,"table")(56,"thead")(57,"tr")(58,"th"),D(59,"Comb ID"),w(),_(60,"th"),D(61,"Name"),w(),_(62,"th"),D(63,"Sales"),w(),te(64,"th"),w()(),_(65,"tbody"),be(66,g5,10,3,"tr",12)(67,y5,10,3,"tr",12),w()()()()()),r&2&&(O(49),ue("ngForOf",i.filteredItems),O(17),ue("ngForOf",i.filteredCombos),O(),ue("ngForOf",i.filteredMenuItems))},dependencies:[Ue,gt],styles:[".search-container[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:20px;padding:5px;width:100%;max-width:400px;margin:5%}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:none;border-radius:20px;outline:none;flex-grow:1;padding:5px;font-size:16px;color:#508ca4}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#508ca4}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer}.search-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;color:#fff}.topbtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:1.2rem;border:none;padding:.6rem 1rem;white-space:nowrap;width:100%;transition:font-size .2s ease}@media (max-width: 768px){.topbtns[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem .8rem}.tablebtns[_ngcontent-%COMP%]{font-size:.9rem;padding:.4rem .8rem}}@media (max-width: 480px){.topbtns[_ngcontent-%COMP%]{font-size:.9rem}.tablebtns[_ngcontent-%COMP%]{font-size:.8rem;padding:.3rem .6rem}}.table-container[_ngcontent-%COMP%]{width:100%;margin:20px auto;border-collapse:separate;border-spacing:0}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-radius:20px;overflow:hidden;border:none}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:center;color:#508ca4;border:none}th[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;text-align:center;border:none}tr[_ngcontent-%COMP%]{background-color:#fff}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:20px}.tablebtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:1rem;border:none;padding:.5rem 1rem;width:100%;white-space:nowrap;transition:font-size .2s ease,padding .2s ease}"]})}return n})();var gN=(()=>{class n{itemService;router;newItem={code:"",name:"",price:0,cases:0,units:0,physical:0,sale:0,purchase:0,closing:0,total:0,actual:0,variance:0,dateMade:"",entries:[]};constructor(t,r){this.itemService=t,this.router=r}closeModal(){this.router.navigate(["/vitems"])}addItem(){return v(this,null,function*(){this.newItem.physical=this.newItem.cases*this.newItem.units,this.newItem.total=(this.newItem.physical||0)+(this.newItem.purchase||0),this.newItem.actual=(this.newItem.total||0)-(this.newItem.sale||0),this.newItem.closing=this.newItem.total,this.newItem.variance=(this.newItem.closing||0)-(this.newItem.actual||0);let t=new Date;this.newItem.dateMade=t.toISOString().split("T")[0];let r={date:this.newItem.dateMade,physical:this.newItem.physical||0,sale:this.newItem.sale||0,purchase:this.newItem.purchase||0,closing:this.newItem.closing||0,reason:""};this.newItem.entries?.push(r),yield this.itemService.addItem(this.newItem),console.log("Items created:",this.itemService.getItems()),console.log("date made:",this.newItem.dateMade),this.closeModal()})}static \u0275fac=function(r){return new(r||n)(B(He),B(Se))};static \u0275cmp=Pe({type:n,selectors:[["app-additem"]],decls:39,vars:5,consts:[["tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog",2,"padding-top","10%"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close","ml-auto",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","enter item code","required","",2,"margin-left","7.5%",3,"ngModelChange","ngModel"],["for","itemName"],["type","text","placeholder","enter item name","required","",2,"margin-left","6.5%",3,"ngModelChange","ngModel"],["for","itemPrice"],["type","number","placeholder","Enter price","required","",2,"margin-left","5%",3,"ngModelChange","ngModel"],["for","itemCases"],["type","number","placeholder","Enter cases","required","",2,"margin-left","16%",3,"ngModelChange","ngModel"],["for","itemUnits"],["type","number","placeholder","Enter units","required","",2,"margin-left","17%",3,"ngModelChange","ngModel"],[1,"btn",3,"click"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),D(5,"Add New Item"),w(),_(6,"button",5),$("click",function(){return i.closeModal()}),_(7,"span",6),D(8,"\xD7"),w()()(),_(9,"div",7)(10,"div")(11,"div",8)(12,"label"),D(13,"Item Code"),w(),_(14,"input",9),ye("ngModelChange",function(s){return _e(i.newItem.code,s)||(i.newItem.code=s),s}),w()(),te(15,"br"),_(16,"div",8)(17,"label",10),D(18,"Item Name"),w(),_(19,"input",11),ye("ngModelChange",function(s){return _e(i.newItem.name,s)||(i.newItem.name=s),s}),w()(),te(20,"br"),_(21,"div",8)(22,"label",12),D(23,"Price (/case)"),w(),_(24,"input",13),ye("ngModelChange",function(s){return _e(i.newItem.price,s)||(i.newItem.price=s),s}),w()(),te(25,"br"),_(26,"div",8)(27,"label",14),D(28,"Cases"),w(),_(29,"input",15),ye("ngModelChange",function(s){return _e(i.newItem.cases,s)||(i.newItem.cases=s),s}),w()(),te(30,"br"),_(31,"div",8)(32,"label",16),D(33,"Units"),w(),_(34,"input",17),ye("ngModelChange",function(s){return _e(i.newItem.units,s)||(i.newItem.units=s),s}),w()(),te(35,"br"),_(36,"div")(37,"button",18),$("click",function(){return i.addItem()}),D(38,"Add Item"),w()()()()()()()),r&2&&(O(14),ge("ngModel",i.newItem.code),O(5),ge("ngModel",i.newItem.name),O(5),ge("ngModel",i.newItem.price),O(5),ge("ngModel",i.newItem.cases),O(5),ge("ngModel",i.newItem.units))},dependencies:[Ue,bt,at,At,It,ln,ht],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#508ca4;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{color:#fff}.close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:24px;cursor:pointer}.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}label[_ngcontent-%COMP%]{font-size:large}.btn[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;border:1px solid transparent;width:100%;padding:10px;box-sizing:border-box}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#508ca4;border-color:#508ca4}.btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 .2rem #508ca440}input[_ngcontent-%COMP%]{border-radius:20px;border-width:1px;border-color:#508ca4;margin-left:5%;text-align:center;width:60%}"]})}return n})();function v5(n,e){if(n&1){let t=je();_(0,"tr")(1,"td"),D(2),w(),_(3,"td"),D(4),w(),_(5,"td")(6,"button",18),$("click",function(){let i=Y(t).$implicit,o=X();return Z(o.editItem(i))}),D(7,"Edit"),w()(),_(8,"td")(9,"button",18),$("click",function(){let i=Y(t).index,o=X();return Z(o.deleteItem(i))}),D(10,"Delete"),w()()()}if(n&2){let t=e.$implicit;O(2),oe(t.code),O(2),oe(t.name)}}var yN=(()=>{class n{router;itemService;constructor(t,r){this.router=t,this.itemService=r}goBack(){this.router.navigate(["/home"])}items=[];filteredItems=[];ngOnInit(){this.itemService.getItems().subscribe(t=>{this.items=t,this.filteredItems=[...this.items]}),this.filteredItems=[...this.items]}onSearch(t){let r=t.target.value.toLowerCase();this.filteredItems=this.items.filter(i=>i.name.toLowerCase().includes(r)||i.code.toLowerCase().includes(r))}toaddItem(){this.router.navigate(["/additem"])}editItem(t){this.router.navigate(["/eitem",t.code])}deleteItem(t){let r=this.items[t].code;console.log("Deleting item:",r),this.items.splice(t,1),this.itemService.deleteItem(r)}static \u0275fac=function(r){return new(r||n)(B(Se),B(He))};static \u0275cmp=Pe({type:n,selectors:[["app-vitems"]],decls:32,vars:1,consts:[[1,"container"],[1,"row","justify-content-end","mb-2"],[1,"col-auto"],[1,"topbtns",3,"click"],[1,"row","mb-3"],[1,"col"],[1,"ptitle"],[1,"row","align-items-center","mb-3"],[1,"col-8","col-sm-9"],[1,"search-container","d-flex"],["type","text","placeholder","Search...",1,"form-control",3,"input"],["type","button",1,"btn","btn-light","ms-2"],[1,"material-icons"],[1,"col-4","col-sm-3","text-end"],[1,"addbtn",3,"click"],[1,"row"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"tablebtns",3,"click"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),$("click",function(){return i.goBack()}),D(4,"Back"),w()()(),_(5,"div",4)(6,"div",5)(7,"h1",6),D(8,"ITEMS"),w()()(),_(9,"div",7)(10,"div",8)(11,"div",9)(12,"input",10),$("input",function(s){return i.onSearch(s)}),w(),_(13,"button",11)(14,"span",12),D(15,"search"),w()()()(),_(16,"div",13)(17,"button",14),$("click",function(){return i.toaddItem()}),D(18,"+Add"),w()()(),_(19,"div",15)(20,"div",16)(21,"table")(22,"thead")(23,"tr")(24,"th"),D(25,"Item Code"),w(),_(26,"th"),D(27,"Item Name"),w(),te(28,"th")(29,"th"),w()(),_(30,"tbody"),be(31,v5,11,2,"tr",17),w()()()()()),r&2&&(O(31),ue("ngForOf",i.filteredItems))},dependencies:[Ue,gt,_n],styles:[".topbtns[_ngcontent-%COMP%], .addbtn[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:1rem;border:none;padding:.5rem 1rem;margin:1rem 0;width:auto;min-width:100px;max-width:100%;white-space:nowrap}.topbtns[_ngcontent-%COMP%]{float:right}.addbtn[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:0}.ptitle[_ngcontent-%COMP%]{text-align:center;color:#fff}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:20px;padding:5px;width:100%;max-width:400px;margin:5%}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:none;border-radius:20px;outline:none;flex-grow:1;padding:5px;font-size:16px;color:#508ca4}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#508ca4}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer}.search-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;color:#fff}.table-container[_ngcontent-%COMP%]{width:100%;margin:20px auto;border-collapse:separate;border-spacing:0}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-radius:20px;overflow:hidden;border:none}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:center;color:#508ca4;border:none}th[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;text-align:center;border:none}tr[_ngcontent-%COMP%]{background-color:#fff}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:20px}.tablebtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:large;border:none;width:40%}td[_ngcontent-%COMP%]{color:#508ca4}@media (max-width: 576px){.topbtns[_ngcontent-%COMP%], .addbtn[_ngcontent-%COMP%]{font-size:.875rem;padding:.4rem .8rem;width:100%;margin:.5rem 0}.search-container[_ngcontent-%COMP%]{flex-direction:column}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}"]})}return n})();function _5(n,e){if(n&1){let t=je();_(0,"div")(1,"div",9)(2,"label"),D(3,"Item Code"),w(),_(4,"input",10),ye("ngModelChange",function(i){Y(t);let o=X();return _e(o.item.code,i)||(o.item.code=i),Z(i)}),w()(),te(5,"br"),_(6,"div",9)(7,"label",11),D(8,"Item Name"),w(),_(9,"input",12),ye("ngModelChange",function(i){Y(t);let o=X();return _e(o.item.name,i)||(o.item.name=i),Z(i)}),w()(),te(10,"br"),_(11,"div",9)(12,"label",13),D(13,"Price (/case)"),w(),_(14,"input",14),ye("ngModelChange",function(i){Y(t);let o=X();return _e(o.item.price,i)||(o.item.price=i),Z(i)}),w()(),te(15,"br"),_(16,"div",9)(17,"label",15),D(18,"Cases"),w(),_(19,"input",16),ye("ngModelChange",function(i){Y(t);let o=X();return _e(o.item.cases,i)||(o.item.cases=i),Z(i)}),w()(),te(20,"br"),_(21,"div",9)(22,"label",17),D(23,"Units"),w(),_(24,"input",18),ye("ngModelChange",function(i){Y(t);let o=X();return _e(o.item.units,i)||(o.item.units=i),Z(i)}),w()(),te(25,"br"),_(26,"div")(27,"button",19),$("click",function(){Y(t);let i=X();return Z(i.updateItem())}),D(28,"Update"),w()()()}if(n&2){let t=X();O(4),ge("ngModel",t.item.code),O(5),ge("ngModel",t.item.name),O(5),ge("ngModel",t.item.price),O(5),ge("ngModel",t.item.cases),O(5),ge("ngModel",t.item.units)}}var vN=(()=>{class n{itemService;route;router;itemCode=null;item={code:"",name:"",price:0,cases:0,units:0};constructor(t,r,i){this.itemService=t,this.route=r,this.router=i}ngOnInit(){let t=this.route.snapshot.paramMap.get("code");t&&this.itemService.getItemByCode(t).subscribe(r=>{r?this.item=r:(console.error("Item not found"),this.router.navigate(["/vitems"]))},r=>{console.error("Error fetching item",r),this.router.navigate(["/vitems"])})}updateItem(){this.item?(this.itemService.editItem(this.item),this.closeModal()):console.error("Item is not defined")}closeModal(){this.router.navigate(["/vitems"])}static \u0275fac=function(r){return new(r||n)(B(He),B(Dt),B(Se))};static \u0275cmp=Pe({type:n,selectors:[["app-edititem"]],decls:11,vars:1,consts:[["tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog",2,"padding-top","10%"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close","ml-auto",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"form-group"],["type","text","placeholder","enter item code","required","",2,"margin-left","7.5%",3,"ngModelChange","ngModel"],["for","itemName"],["type","text","placeholder","enter item name","required","",2,"margin-left","6.5%",3,"ngModelChange","ngModel"],["for","itemPrice"],["type","number","placeholder","Enter price","required","",2,"margin-left","5%",3,"ngModelChange","ngModel"],["for","itemCases"],["type","number","placeholder","Enter cases","required","",2,"margin-left","16%",3,"ngModelChange","ngModel"],["for","itemUnits"],["type","number","placeholder","Enter units","required","",2,"margin-left","17%",3,"ngModelChange","ngModel"],[1,"btn",3,"click"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),D(5,"Edit Item"),w(),_(6,"button",5),$("click",function(){return i.closeModal()}),_(7,"span",6),D(8,"\xD7"),w()()(),_(9,"div",7),be(10,_5,29,5,"div",8),w()()()()),r&2&&(O(10),ue("ngIf",i.item))},dependencies:[Ue,Wn,bt,at,At,It,ln,ht],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#508ca4;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{color:#fff}.close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:24px;cursor:pointer}.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}label[_ngcontent-%COMP%]{font-size:large}.btn[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;border:1px solid transparent;width:100%;padding:10px;box-sizing:border-box}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#508ca4;border-color:#508ca4}.btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 .2rem #508ca440}input[_ngcontent-%COMP%]{border-radius:20px;border-width:1px;border-color:#508ca4;margin-left:5%;text-align:center;width:60%}"]})}return n})();function w5(n,e){if(n&1&&(_(0,"h1",9),D(1),w()),n&2){let t=X();O(),oe(t.item.name)}}function E5(n,e){if(n&1){let t=je();_(0,"button",10),$("click",function(){Y(t);let i=X();return Z(i.addEntry())}),D(1,"+New Entry"),w()}}function I5(n,e){if(n&1&&(_(0,"tr")(1,"td"),D(2),w(),_(3,"td"),D(4),w(),_(5,"td"),D(6),w(),_(7,"td"),D(8),w(),_(9,"td")(10,"button",12),D(11,"Reason"),w()()()),n&2){let t=e.$implicit;O(2),oe(t.date),O(2),oe(t.physical),O(2),oe(t.purchase),O(2),oe(t.closing)}}function b5(n,e){if(n&1){let t=je();_(0,"tr")(1,"td"),D(2),w(),_(3,"td")(4,"input",13),ye("ngModelChange",function(i){Y(t);let o=X(2);return _e(o.newEntry.physical,i)||(o.newEntry.physical=i),Z(i)}),w()(),_(5,"td")(6,"input",14),ye("ngModelChange",function(i){Y(t);let o=X(2);return _e(o.newEntry.purchase,i)||(o.newEntry.purchase=i),Z(i)}),w()(),_(7,"td")(8,"input",15),ye("ngModelChange",function(i){Y(t);let o=X(2);return _e(o.newEntry.closing,i)||(o.newEntry.closing=i),Z(i)}),w()(),_(9,"td")(10,"button",16),$("click",function(){Y(t);let i=X(2);return Z(i.saveNewEntry())}),D(11,"Save"),w(),te(12,"br"),_(13,"button",16),$("click",function(){Y(t);let i=X(2);return Z(i.cancelEntry())}),D(14,"Cancel"),w()()()}if(n&2){let t=X(2);O(2),oe(t.newEntry.date),O(2),ge("ngModel",t.newEntry.physical),O(2),ge("ngModel",t.newEntry.purchase),O(2),ge("ngModel",t.newEntry.closing)}}function C5(n,e){if(n&1&&(_(0,"table")(1,"thead")(2,"tr")(3,"th"),D(4,"Date"),w(),_(5,"th"),D(6,"Physical"),w(),_(7,"th"),D(8,"Purchase"),w(),_(9,"th"),D(10,"Closing"),w(),_(11,"th"),D(12,"Reason"),w()()(),_(13,"tbody"),be(14,I5,12,4,"tr",11)(15,b5,15,4,"tr",8),w()()),n&2){let t=X();O(14),ue("ngForOf",t.entries),O(),ue("ngIf",t.newEntry)}}var _N=(()=>{class n{itemService;route;router;constructor(t,r,i){this.itemService=t,this.route=r,this.router=i}item;entries=[];newEntry=null;filteredItems=[];combos=[];menuItems=[];combo;comboEntries=[];newComboEntry=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("code");t&&(this.itemService.getItemByCode(t).subscribe(r=>{r&&(this.item=r)}),this.itemService.getItemEntries(t).subscribe(r=>{this.entries=r}))}goBack(){this.router.navigate(["/home"])}onSearch(t){let r=t.target.value.toLowerCase();console.log(r)}addEntry(){let t=new Date().toISOString().split("T")[0],r=this.entries.length>0?this.entries[this.entries.length-1].closing??0:0;this.newEntry={date:t,physical:r,purchase:0,closing:0,reason:""}}saveNewEntry(){return v(this,null,function*(){if(!this.newEntry||!this.item?.code)return;let t=this.newEntry,r=t.physical??0,i=t.purchase??0,o=t.sale??0,s=t.closing??0;this.item.total=r+i,this.item.actual=this.item.total-o,this.item.variance=s-this.item.actual,console.log(this.item.total),console.log(this.item.closing);let a=new Date().toISOString().split("T")[0],u=this.entries.length>0?this.entries[this.entries.length-1].closing??0:0;this.newEntry={date:a,physical:u,purchase:0,closing:0,reason:""},yield this.itemService.addItemEntry(this.item.code,t),this.newEntry=null})}cancelEntry(){this.newEntry=null}static \u0275fac=function(r){return new(r||n)(B(He),B(Dt),B(Se))};static \u0275cmp=Pe({type:n,selectors:[["app-mitem"]],decls:13,vars:3,consts:[[1,"container"],[1,"row",2,"text-align","right"],[1,"topbtns",3,"click"],[1,"row"],["class","ptitle",4,"ngIf"],[1,"col"],["class","addbtn",3,"click",4,"ngIf"],[1,"table-container"],[4,"ngIf"],[1,"ptitle"],[1,"addbtn",3,"click"],[4,"ngFor","ngForOf"],[1,"tablebtns"],["placeholder","Physical","type","number","disabled","true",1,"tlbinp",3,"ngModelChange","ngModel"],["placeholder","Purchase","type","number",1,"tlbinp",3,"ngModelChange","ngModel"],["placeholder","Closing","type","number",1,"tlbinp",3,"ngModelChange","ngModel"],[1,"tablebtns",3,"click"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"button",2),$("click",function(){return i.goBack()}),D(3,"Back"),w()(),te(4,"br"),_(5,"div",3),be(6,w5,2,1,"h1",4),w(),_(7,"div",3)(8,"div",5),be(9,E5,2,0,"button",6),w()(),_(10,"div",3)(11,"div",7),be(12,C5,16,2,"table",8),w()()()),r&2&&(O(6),ue("ngIf",i.item),O(3),ue("ngIf",i.item),O(3),ue("ngIf",i.item&&i.item.entries))},dependencies:[Ue,gt,Wn,_n,bt,at,At,It,ht],styles:[".topbtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:x-large;border:none;padding:1%;margin:2% 2% 2% 90%;width:10%}.ptitle[_ngcontent-%COMP%]{text-align:center;color:#fff}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:20px;padding:5px;width:100%;max-width:400px;margin:5%}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:none;border-radius:20px;outline:none;flex-grow:1;padding:5px;font-size:16px;color:#508ca4}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#508ca4}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer}.search-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;color:#fff}.addbtn[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:large;border:none;padding:1%;margin:0% 2% 2% 80%;width:20%}.table-container[_ngcontent-%COMP%]{width:100%;margin:20px auto;border-collapse:separate;border-spacing:0}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-radius:20px;overflow:hidden;border:none}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:center;color:#508ca4;border:none}th[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;text-align:center;border:none}tr[_ngcontent-%COMP%]{background-color:#fff}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:20px}.tablebtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:large;border:none;padding:2%;margin:2%;width:80%}td[_ngcontent-%COMP%]{color:#508ca4}.tlbinp[_ngcontent-%COMP%]{width:80%;text-align:center;border-style:solid;border-color:#508ca4;border-radius:20px}.red-button[_ngcontent-%COMP%]{background-color:red;color:#fff}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:10px;width:80%;max-width:500px}textarea[_ngcontent-%COMP%]{width:100%;height:100px;margin-bottom:10px}"]})}return n})();function T5(n,e){if(n&1){let t=je();_(0,"tr")(1,"td"),D(2),w(),_(3,"td"),D(4),w(),_(5,"td")(6,"button",18),$("click",function(){let i=Y(t).$implicit,o=X();return Z(o.editCombo(i))}),D(7,"Edit"),w()(),_(8,"td")(9,"button",18),$("click",function(){let i=Y(t).index,o=X();return Z(o.deleteCombo(i))}),D(10,"Delete"),w()()()}if(n&2){let t=e.$implicit;O(2),oe(t.id),O(2),oe(t.name)}}var wN=(()=>{class n{router;itemService;constructor(t,r){this.router=t,this.itemService=r}comboId=null;goBack(){this.router.navigate(["/home"])}combos=[];mi=[];filteredItems=[];ngOnInit(){this.itemService.getCombos().subscribe(t=>{this.combos=t,this.filteredItems=[...this.combos],console.log(this.combos)}),this.itemService.getMenuitems().subscribe(t=>{this.mi=t})}onSearch(t){let r=t.target.value.toLowerCase();this.filteredItems=this.combos.filter(i=>i.name.toLowerCase().includes(r)||i.id.toLowerCase().includes(r))}toaddCombp(){this.router.navigate(["/addcombo"])}editCombo(t){this.router.navigate(["/ecombo",t.id])}deleteCombo(t){let r=this.combos[t].id;console.log("Deleting item:",r),this.combos.splice(t,1),this.itemService.deleteCombo(r)}static \u0275fac=function(r){return new(r||n)(B(Se),B(He))};static \u0275cmp=Pe({type:n,selectors:[["app-vcombos"]],decls:32,vars:1,consts:[[1,"container"],[1,"row","justify-content-end","mb-2"],[1,"col-auto"],[1,"topbtns",3,"click"],[1,"row","mb-3"],[1,"col"],[1,"ptitle"],[1,"row","align-items-center","mb-3"],[1,"col-8","col-sm-9"],[1,"search-container","d-flex"],["type","text","placeholder","Search...",1,"form-control",3,"input"],["type","button",1,"btn","btn-light","ms-2"],[1,"material-icons"],[1,"col-4","col-sm-3","text-end"],[1,"addbtn",3,"click"],[1,"row"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"tablebtns",3,"click"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),$("click",function(){return i.goBack()}),D(4,"Back"),w()()(),_(5,"div",4)(6,"div",5)(7,"h1",6),D(8,"COMBOS"),w()()(),_(9,"div",7)(10,"div",8)(11,"div",9)(12,"input",10),$("input",function(s){return i.onSearch(s)}),w(),_(13,"button",11)(14,"span",12),D(15,"search"),w()()()(),_(16,"div",13)(17,"button",14),$("click",function(){return i.toaddCombp()}),D(18,"+Add"),w()()(),_(19,"div",15)(20,"div",16)(21,"table")(22,"thead")(23,"tr")(24,"th"),D(25,"Combo Id"),w(),_(26,"th"),D(27,"Combo Name"),w(),te(28,"th")(29,"th"),w()(),_(30,"tbody"),be(31,T5,11,2,"tr",17),w()()()()()),r&2&&(O(31),ue("ngForOf",i.filteredItems))},dependencies:[Ue,gt,_n],styles:[".topbtns[_ngcontent-%COMP%], .addbtn[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:1rem;border:none;padding:.5rem 1rem;margin:1rem 0;width:auto;min-width:100px;max-width:100%;white-space:nowrap}.topbtns[_ngcontent-%COMP%]{float:right}.addbtn[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:0}.ptitle[_ngcontent-%COMP%]{text-align:center;color:#fff}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:20px;padding:5px;width:100%;max-width:400px;margin:5%}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:none;border-radius:20px;outline:none;flex-grow:1;padding:5px;font-size:16px;color:#508ca4}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#508ca4}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer}.search-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;color:#fff}.table-container[_ngcontent-%COMP%]{width:100%;margin:20px auto;border-collapse:separate;border-spacing:0}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-radius:20px;overflow:hidden;border:none}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:center;color:#508ca4;border:none}th[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;text-align:center;border:none}tr[_ngcontent-%COMP%]{background-color:#fff}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:20px}.tablebtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:large;border:none;width:40%}td[_ngcontent-%COMP%]{color:#508ca4}@media (max-width: 576px){.topbtns[_ngcontent-%COMP%], .addbtn[_ngcontent-%COMP%]{font-size:.875rem;padding:.4rem .8rem;width:100%;margin:.5rem 0}.search-container[_ngcontent-%COMP%]{flex-direction:column}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}"]})}return n})();function D5(n,e){if(n&1&&(_(0,"h1",5),D(1),w()),n&2){let t=X();O(),oe(t.combo.name)}}function S5(n,e){n&1&&(qg(0),D(1,", "),Wg())}function A5(n,e){if(n&1&&(_(0,"span"),D(1),be(2,S5,2,0,"ng-container",10),w()),n&2){let t=e.$implicit,r=X();O(),Zi(" ",t.code," (",t.units," units) "),O(),ue("ngIf",!r.isLastComponent(r.combo.comps,t))}}function M5(n,e){if(n&1){let t=je();_(0,"button",11),$("click",function(){Y(t);let i=X();return Z(i.addComboEntry())}),D(1,"+New Entry"),w()}}function x5(n,e){if(n&1&&(_(0,"tr")(1,"td"),D(2),w(),_(3,"td"),D(4),w(),_(5,"td")(6,"button",12),D(7,"Reason"),w()()()),n&2){let t=e.$implicit;O(2),oe(t.date),O(2),oe(t.unitsSold)}}function R5(n,e){if(n&1){let t=je();_(0,"tr")(1,"td"),D(2),w(),_(3,"td")(4,"input",13),ye("ngModelChange",function(i){Y(t);let o=X(2);return _e(o.newComboEntry.unitsSold,i)||(o.newComboEntry.unitsSold=i),Z(i)}),w()(),_(5,"td")(6,"button",14),$("click",function(){Y(t);let i=X(2);return Z(i.saveComboEntry())}),D(7,"Save"),w(),te(8,"br"),_(9,"button",14),$("click",function(){Y(t);let i=X(2);return Z(i.cancelComboEntry())}),D(10,"Cancel"),w()()()}if(n&2){let t=X(2);O(2),oe(t.newComboEntry.date),O(2),ge("ngModel",t.newComboEntry.unitsSold)}}function N5(n,e){if(n&1&&(_(0,"table")(1,"thead")(2,"tr")(3,"th"),D(4,"Date"),w(),_(5,"th"),D(6,"Units Sold"),w(),te(7,"th"),w()(),_(8,"tbody"),be(9,x5,8,2,"tr",6)(10,R5,11,2,"tr",10),w()()),n&2){let t=X();O(9),ue("ngForOf",t.comboEntries),O(),ue("ngIf",t.newComboEntry)}}var EN=(()=>{class n{itemService;route;router;constructor(t,r,i){this.itemService=t,this.route=r,this.router=i}subscription;filteredItems=[];items=[];combos=[];menuItems=[];combo;item;mi;comboEntries=[];miEntries=[];newComboEntry=null;newMiEntry=null;getItemName(t){let r=this.items.find(i=>i.code===t);return r?r.name:"Unknown Item"}isLastComponent(t,r){return t.indexOf(r)===t.length-1}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.itemService.getComboById(t).subscribe(r=>{r&&(this.combo=r)}),this.itemService.getComboEntries(t).subscribe(r=>{this.comboEntries=r})),t&&this.itemService.getMiByCode(t).subscribe(r=>{r&&(this.mi=r)}),this.subscription=this.itemService.getItems().subscribe(r=>{this.items=r})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}goBack(){this.router.navigate(["/home"])}addComboEntry(){let t=new Date().toISOString().split("T")[0];this.newComboEntry={date:t,unitsSold:0,reason:""}}badsaveComboEntry(){if(this.newComboEntry){this.comboEntries.push(this.newComboEntry);let t=this.newComboEntry;this.combo.unitsSold=t.unitsSold??0,this.combo.comps?.length&&this.combo.unitsSold>0&&this.combo.comps.forEach(r=>{let i=this.items.find(o=>o.code===r.code);if(i){let o=(this.combo.unitsSold??0)*r.units;i.physical=(i.physical??0)-o,(i.physical??0)<0&&(console.warn(`Physical for item ${i.code} went below zero. Setting to 0.`),i.physical=0)}}),this.itemService.editCombo(this.combo),this.newComboEntry=null}}saveComboEntry(){return v(this,null,function*(){if(!this.newComboEntry||this.newComboEntry.unitsSold<=0){console.error("Invalid combo entry or units sold");return}let t={date:new Date().toISOString(),unitsSold:this.newComboEntry.unitsSold,reason:this.newComboEntry.reason||""};if(this.comboEntries||(this.comboEntries=[]),this.comboEntries.push(t),this.combo.unitsSold=t.unitsSold,!this.combo.comps){console.error("Combo components not found");return}try{let i=(yield qa(this.itemService.getItems())).map(o=>{let s=this.combo.comps.find(p=>p.code===o.code);if(!s)return o;let a=s.units*t.unitsSold,u=Math.max((o.physical??0)-a,0),l=(o.total??0)-a,h=(o.actual??0)-a;return ae(V({},o),{physical:u,sale:(o.sale??0)+a,total:l,actual:h})});yield Promise.all(i.map(o=>this.itemService.editItem(o))),this.itemService.editCombo(ae(V({},this.combo),{unitsSold:this.combo.unitsSold,comboEntries:this.comboEntries})),yield this.itemService.addComboEntry(this.combo.id,t),this.newComboEntry=null}catch(r){console.error("Error updating items:",r)}})}updatePhysicalValues(t){if(!this.combo||!this.combo.comps){console.error("Combo or components are undefined.");return}for(let r of this.combo.comps){if(!r||!r.code){console.warn("Invalid component in combo.");continue}this.itemService.getItemByCode(r.code).subscribe(i=>{if(i){let o=t.unitsSold*(r.units||0);i.physical=Math.max(0,(i.physical||0)-o),this.itemService.editItem(i)}else console.error(`Item with code ${r.code} not found in the service`)})}}cancelComboEntry(){this.newComboEntry=null}static \u0275fac=function(r){return new(r||n)(B(He),B(Dt),B(Se))};static \u0275cmp=Pe({type:n,selectors:[["app-mcombo"]],decls:15,vars:4,consts:[[1,"container"],[1,"row",2,"text-align","right"],[1,"topbtns",3,"click"],[1,"row"],["class","ptitle",4,"ngIf"],[1,"ptitle"],[4,"ngFor","ngForOf"],[1,"col"],["class","addbtn",3,"click",4,"ngIf"],[1,"table-container"],[4,"ngIf"],[1,"addbtn",3,"click"],[1,"tablebtns"],["placeholder","Units Sold","type","number",1,"tlbinp",3,"ngModelChange","ngModel"],[1,"tablebtns",3,"click"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"button",2),$("click",function(){return i.goBack()}),D(3,"Back"),w()(),te(4,"br"),_(5,"div",3),be(6,D5,2,1,"h1",4),_(7,"h3",5),be(8,A5,3,3,"span",6),w()(),_(9,"div",3)(10,"div",7),be(11,M5,2,0,"button",8),w()(),_(12,"div",3)(13,"div",9),be(14,N5,11,2,"table",10),w()()()),r&2&&(O(6),ue("ngIf",i.combo),O(2),ue("ngForOf",i.combo.comps),O(3),ue("ngIf",i.combo),O(3),ue("ngIf",i.combo&&i.comboEntries))},dependencies:[Ue,gt,Wn,_n,bt,at,At,It,ht],styles:[".topbtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:x-large;border:none;padding:1%;margin:2% 2% 2% 90%;width:10%}.ptitle[_ngcontent-%COMP%]{text-align:center;color:#fff}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:20px;padding:5px;width:100%;max-width:400px;margin:5%}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:none;border-radius:20px;outline:none;flex-grow:1;padding:5px;font-size:16px;color:#508ca4}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#508ca4}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer}.search-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;color:#fff}.addbtn[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:large;border:none;padding:1%;margin:0% 2% 2% 80%;width:20%}.table-container[_ngcontent-%COMP%]{width:100%;margin:20px auto;border-collapse:separate;border-spacing:0}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-radius:20px;overflow:hidden;border:none}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:center;color:#508ca4;border:none}th[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;text-align:center;border:none}tr[_ngcontent-%COMP%]{background-color:#fff}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:20px}.tablebtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:large;border:none;padding:2%;margin:2%;width:80%}td[_ngcontent-%COMP%]{color:#508ca4}.tlbinp[_ngcontent-%COMP%]{width:80%;text-align:center;border-style:solid;border-color:#508ca4;border-radius:20px}.red-button[_ngcontent-%COMP%]{background-color:red;color:#fff}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:10px;width:80%;max-width:500px}textarea[_ngcontent-%COMP%]{width:100%;height:100px;margin-bottom:10px}"]})}return n})();function P5(n,e){if(n&1){let t=je();_(0,"li",27),D(1),_(2,"button",28),$("click",function(){let i=Y(t).$implicit,o=X();return Z(o.removeComp(i))}),D(3,"Remove"),w()()}if(n&2){let t=e.$implicit;O(),Zi(" Code: ",t.code,", Units: ",t.units," ")}}function O5(n,e){if(n&1&&(_(0,"option",29),D(1),w()),n&2){let t=e.$implicit;ue("value",t.code),O(),oe(t.name)}}var IN=(()=>{class n{itemService;router;constructor(t,r){this.itemService=t,this.router=r}items=[{code:"001",name:"Item 1",price:10,cases:0,units:0},{code:"002",name:"Item 2",price:15,cases:0,units:0}];selectedItems=[];combos=[];newCombo={id:"",name:"",price:0,comps:[]};newComp={code:"",units:0};ngOnInit(){this.itemService.getItems().subscribe(t=>this.items=t)}closeModal(){this.router.navigate(["/vcombos"])}addComp(){this.newComp.code&&this.newComp.units>0&&(this.newCombo.comps.push(V({},this.newComp)),this.newComp={code:"",units:0})}removeComp(t){this.newCombo.comps=this.newCombo.comps.filter(r=>r!==t)}onSubmit(){if(this.getComboById(this.newCombo.id)){console.log(`Combo with ID ${this.newCombo.id} already exists.`);return}this.itemService.addCombo(this.newCombo),this.combos.push(V({},this.newCombo)),console.log(`Combo with ID ${this.newCombo.id} added successfully.`),this.resetForm()}getComboById(t){return this.combos.find(r=>r.id===t)}resetForm(){this.newCombo={id:"",name:"",price:0,comps:[]}}static \u0275fac=function(r){return new(r||n)(B(He),B(Se))};static \u0275cmp=Pe({type:n,selectors:[["app-addcombo"]],decls:45,vars:7,consts:[["comboForm","ngForm"],["tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog",2,"padding-top","10%"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close","ml-auto",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","id"],["type","text","id","id","name","id","placeholder","enter combo Id","required","",2,"margin-left","7.5%",3,"ngModelChange","ngModel"],["for","name"],["type","text","id","name","name","name","placeholder","enter combo name","required","",2,"margin-left","6.5%",3,"ngModelChange","ngModel"],["for","price"],["type","number","id","price","name","price","placeholder","enter price","required","",2,"margin-left","5%",3,"ngModelChange","ngModel"],[2,"color","#508CA4"],["style","margin: 2%;",4,"ngFor","ngForOf"],["for","comp-code"],["type","text","id","comp-code","name","compCode","placeholder","Enter item code","required","",2,"margin-left","2%","padding","5px","border-radius","5px",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","comp-units"],["type","number","id","comp-units","name","compUnits","placeholder","Enter item units","required","",2,"margin-left","2%",3,"ngModelChange","ngModel"],[1,"form-group",2,"align-items","right","justify-content","right"],["type","button",1,"btn",2,"width","65%","border-radius","20px",3,"click"],["type","submit",1,"btn"],[2,"margin","2%"],["type","button",1,"btn",2,"width","fit-content","padding","2px",3,"click"],[3,"value"]],template:function(r,i){if(r&1){let o=je();_(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),D(5,"Add New Combo"),w(),_(6,"button",6),$("click",function(){return Y(o),Z(i.closeModal())}),_(7,"span",7),D(8,"\xD7"),w()()(),_(9,"div",8)(10,"div")(11,"form",9,0),$("ngSubmit",function(){return Y(o),Z(i.onSubmit())}),_(13,"div",10)(14,"label",11),D(15,"Combo ID:"),w(),_(16,"input",12),ye("ngModelChange",function(a){return Y(o),_e(i.newCombo.id,a)||(i.newCombo.id=a),Z(a)}),w()(),_(17,"div",10)(18,"label",13),D(19,"Name:"),w(),_(20,"input",14),ye("ngModelChange",function(a){return Y(o),_e(i.newCombo.name,a)||(i.newCombo.name=a),Z(a)}),w()(),_(21,"div",10)(22,"label",15),D(23,"Price:"),w(),_(24,"input",16),ye("ngModelChange",function(a){return Y(o),_e(i.newCombo.price,a)||(i.newCombo.price=a),Z(a)}),w()(),te(25,"br"),_(26,"h4",17),D(27,"Items"),w(),_(28,"ul"),be(29,P5,4,2,"li",18),w(),_(30,"div",10)(31,"label",19),D(32,"Comp Code:"),w(),_(33,"select",20),ye("ngModelChange",function(a){return Y(o),_e(i.newComp.code,a)||(i.newComp.code=a),Z(a)}),be(34,O5,2,2,"option",21),w(),_(35,"label",22),D(36,"Units:"),w(),_(37,"input",23),ye("ngModelChange",function(a){return Y(o),_e(i.newComp.units,a)||(i.newComp.units=a),Z(a)}),w()(),_(38,"div",24)(39,"button",25),$("click",function(){return Y(o),Z(i.addComp())}),D(40," Add Component "),w()(),te(41,"br"),_(42,"div")(43,"button",26),D(44,"Add Combo"),w()()()()()()()()}r&2&&(O(16),ge("ngModel",i.newCombo.id),O(4),ge("ngModel",i.newCombo.name),O(4),ge("ngModel",i.newCombo.price),O(5),ue("ngForOf",i.newCombo.comps),O(4),ge("ngModel",i.newComp.code),O(),ue("ngForOf",i.items),O(3),ge("ngModel",i.newComp.units))},dependencies:[Ue,gt,bt,wa,up,lp,at,At,Ea,It,_a,ln,ht,Mo],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#508ca4;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{color:#fff}.close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:24px;cursor:pointer}.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.form-group[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:15px}label[_ngcontent-%COMP%]{white-space:nowrap;font-size:large;flex:1;text-align:center}.btn[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;border:1px solid transparent;width:100%;padding:10px;box-sizing:border-box}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#508ca4;border-color:#508ca4}.btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 .2rem #508ca440}input[_ngcontent-%COMP%]{flex:2;border-radius:20px;border-width:1px;border-color:#508ca4;padding:5px 10px;text-align:center;width:100%;box-sizing:border-box}"]})}return n})();function k5(n,e){if(n&1){let t=je();_(0,"li",27),D(1),_(2,"button",28),$("click",function(){let i=Y(t).$implicit,o=X();return Z(o.removeComp(i))}),D(3,"Remove"),w()()}if(n&2){let t=e.$implicit;O(),Zi(" Code: ",t.code,", Units: ",t.units," ")}}function F5(n,e){if(n&1&&(_(0,"option",29),D(1),w()),n&2){let t=e.$implicit;ue("value",t.code),O(),oe(t.name)}}var bN=(()=>{class n{itemService;route;router;comboId=null;combo;combos=[];items=[];newComp={code:"",units:0};constructor(t,r,i){this.itemService=t,this.route=r,this.router=i}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.itemService.getComboById(t).subscribe(r=>{r&&(this.combo=r)}),this.itemService.getItems().subscribe(r=>this.items=r)}updateItem(){this.itemService.editCombo(this.combo),this.closeModal()}addComp(){this.newComp.code&&this.newComp.units>0&&(this.combo.comps.push(V({},this.newComp)),this.newComp={code:"",units:0})}removeComp(t){this.combo.comps=this.combo.comps.filter(r=>r!==t)}closeModal(){this.router.navigate(["/vcombos"])}getComboById(t){return this.combos.find(r=>r.id===t)}static \u0275fac=function(r){return new(r||n)(B(He),B(Dt),B(Se))};static \u0275cmp=Pe({type:n,selectors:[["app-ecombo"]],decls:45,vars:7,consts:[["comboForm","ngForm"],["tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog",2,"padding-top","10%"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close","ml-auto",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","id"],["type","text","id","id","name","id","placeholder","enter combo Id","required","",2,"margin-left","7.5%",3,"ngModelChange","ngModel"],["for","name"],["type","text","id","name","name","name","placeholder","enter combo name","required","",2,"margin-left","6.5%",3,"ngModelChange","ngModel"],["for","price"],["type","number","id","price","name","price","placeholder","enter price","required","",2,"margin-left","5%",3,"ngModelChange","ngModel"],[2,"color","#508CA4"],["style","margin: 2%;",4,"ngFor","ngForOf"],["for","comp-code"],["type","text","id","comp-code","name","compCode","placeholder","Enter item code","required","",2,"margin-left","2%","padding","5px","border-radius","5px",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","comp-units"],["type","number","id","comp-units","name","compUnits","placeholder","Enter item units","required","",2,"margin-left","2%",3,"ngModelChange","ngModel"],[1,"form-group",2,"align-items","right","justify-content","right"],["type","button",1,"btn",2,"width","65%","border-radius","20px",3,"click"],["type","submit",1,"btn"],[2,"margin","2%"],["type","button",1,"btn",2,"width","fit-content","padding","2px",3,"click"],[3,"value"]],template:function(r,i){if(r&1){let o=je();_(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),D(5,"Add New Combo"),w(),_(6,"button",6),$("click",function(){return Y(o),Z(i.closeModal())}),_(7,"span",7),D(8,"\xD7"),w()()(),_(9,"div",8)(10,"div")(11,"form",9,0),$("ngSubmit",function(){return Y(o),Z(i.updateItem())}),_(13,"div",10)(14,"label",11),D(15,"Combo ID:"),w(),_(16,"input",12),ye("ngModelChange",function(a){return Y(o),_e(i.combo.id,a)||(i.combo.id=a),Z(a)}),w()(),_(17,"div",10)(18,"label",13),D(19,"Name:"),w(),_(20,"input",14),ye("ngModelChange",function(a){return Y(o),_e(i.combo.name,a)||(i.combo.name=a),Z(a)}),w()(),_(21,"div",10)(22,"label",15),D(23,"Price:"),w(),_(24,"input",16),ye("ngModelChange",function(a){return Y(o),_e(i.combo.price,a)||(i.combo.price=a),Z(a)}),w()(),te(25,"br"),_(26,"h4",17),D(27,"Items"),w(),_(28,"ul"),be(29,k5,4,2,"li",18),w(),_(30,"div",10)(31,"label",19),D(32,"Comp Code:"),w(),_(33,"select",20),ye("ngModelChange",function(a){return Y(o),_e(i.newComp.code,a)||(i.newComp.code=a),Z(a)}),be(34,F5,2,2,"option",21),w(),_(35,"label",22),D(36,"Units:"),w(),_(37,"input",23),ye("ngModelChange",function(a){return Y(o),_e(i.newComp.units,a)||(i.newComp.units=a),Z(a)}),w()(),_(38,"div",24)(39,"button",25),$("click",function(){return Y(o),Z(i.addComp())}),D(40," Add Component "),w()(),te(41,"br"),_(42,"div")(43,"button",26),D(44,"Update Combo"),w()()()()()()()()}r&2&&(O(16),ge("ngModel",i.combo.id),O(4),ge("ngModel",i.combo.name),O(4),ge("ngModel",i.combo.price),O(5),ue("ngForOf",i.combo.comps),O(4),ge("ngModel",i.newComp.code),O(),ue("ngForOf",i.items),O(3),ge("ngModel",i.newComp.units))},dependencies:[Ue,gt,bt,wa,up,lp,at,At,Ea,It,_a,ln,ht,Mo],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#508ca4;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{color:#fff}.close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:24px;cursor:pointer}.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.form-group[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:15px}label[_ngcontent-%COMP%]{white-space:nowrap;font-size:large;flex:1;text-align:center}.btn[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;border:1px solid transparent;width:100%;padding:10px;box-sizing:border-box}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#508ca4;border-color:#508ca4}.btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 .2rem #508ca440}input[_ngcontent-%COMP%]{flex:2;border-radius:20px;border-width:1px;border-color:#508ca4;padding:5px 10px;text-align:center;width:100%;box-sizing:border-box}"]})}return n})();function V5(n,e){if(n&1){let t=je();_(0,"tr")(1,"td"),D(2),w(),_(3,"td"),D(4),w(),_(5,"td")(6,"button",18),$("click",function(){let i=Y(t).$implicit,o=X();return Z(o.editMenuItem(i))}),D(7,"Edit"),w()(),_(8,"td")(9,"button",18),$("click",function(){let i=Y(t).index,o=X();return Z(o.deleteMenuItem(i))}),D(10,"Delete"),w()()()}if(n&2){let t=e.$implicit;O(2),oe(t.id),O(2),oe(t.name)}}var CN=(()=>{class n{router;itemService;menuItems=[];filteredMenuItems=[];constructor(t,r){this.router=t,this.itemService=r}goBack(){this.router.navigate(["/home"])}ngOnInit(){this.itemService.getMenuitems().subscribe(t=>{this.menuItems=t,this.filteredMenuItems=[...this.menuItems]}),this.filteredMenuItems=[...this.menuItems]}onSearch(t){let r=t.target.value.toLowerCase();this.filteredMenuItems=this.menuItems.filter(i=>i.name.toLowerCase().includes(r)||i.id.toLowerCase().includes(r))}toaddMenuItem(){this.router.navigate(["/addmi"])}editMenuItem(t){this.router.navigate(["/emi",t.id])}deleteMenuItem(t){let r=this.menuItems[t].id;console.log("Deleting menu item:",r),this.menuItems.splice(t,1),this.itemService.deleteMenuItem(r)}static \u0275fac=function(r){return new(r||n)(B(Se),B(He))};static \u0275cmp=Pe({type:n,selectors:[["app-vmi"]],decls:32,vars:1,consts:[[1,"container"],[1,"row","justify-content-end","mb-2"],[1,"col-auto"],[1,"topbtns",3,"click"],[1,"row","mb-3"],[1,"col"],[1,"ptitle"],[1,"row","align-items-center","mb-3"],[1,"col-8","col-sm-9"],[1,"search-container","d-flex"],["type","text","placeholder","Search...",1,"form-control",3,"input"],["type","button",1,"btn","btn-light","ms-2"],[1,"material-icons"],[1,"col-4","col-sm-3","text-end"],[1,"addbtn",3,"click"],[1,"row"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"tablebtns",3,"click"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),$("click",function(){return i.goBack()}),D(4,"Back"),w()()(),_(5,"div",4)(6,"div",5)(7,"h1",6),D(8,"MENU ITEMS"),w()()(),_(9,"div",7)(10,"div",8)(11,"div",9)(12,"input",10),$("input",function(s){return i.onSearch(s)}),w(),_(13,"button",11)(14,"span",12),D(15,"search"),w()()()(),_(16,"div",13)(17,"button",14),$("click",function(){return i.toaddMenuItem()}),D(18,"+Add"),w()()(),_(19,"div",15)(20,"div",16)(21,"table")(22,"thead")(23,"tr")(24,"th"),D(25,"Menu Item Id"),w(),_(26,"th"),D(27,"Menu Item Name"),w(),te(28,"th")(29,"th"),w()(),_(30,"tbody"),be(31,V5,11,2,"tr",17),w()()()()()),r&2&&(O(31),ue("ngForOf",i.filteredMenuItems))},dependencies:[Ue,gt,_n],styles:[".topbtns[_ngcontent-%COMP%], .addbtn[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:1rem;border:none;padding:.5rem 1rem;margin:1rem 0;width:auto;min-width:100px;max-width:100%;white-space:nowrap}.topbtns[_ngcontent-%COMP%]{float:right}.addbtn[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:0}.ptitle[_ngcontent-%COMP%]{text-align:center;color:#fff}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:20px;padding:5px;width:100%;max-width:400px;margin:5%}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:none;border-radius:20px;outline:none;flex-grow:1;padding:5px;font-size:16px;color:#508ca4}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#508ca4}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer}.search-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;color:#fff}.table-container[_ngcontent-%COMP%]{width:100%;margin:20px auto;border-collapse:separate;border-spacing:0}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-radius:20px;overflow:hidden;border:none}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:center;color:#508ca4;border:none}th[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;text-align:center;border:none}tr[_ngcontent-%COMP%]{background-color:#fff}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:20px}.tablebtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:large;border:none;width:40%}td[_ngcontent-%COMP%]{color:#508ca4}@media (max-width: 576px){.topbtns[_ngcontent-%COMP%], .addbtn[_ngcontent-%COMP%]{font-size:.875rem;padding:.4rem .8rem;width:100%;margin:.5rem 0}.search-container[_ngcontent-%COMP%]{flex-direction:column}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}"]})}return n})();function L5(n,e){if(n&1&&(_(0,"h1",9),D(1),w()),n&2){let t=X();O(),oe(t.mi.name)}}function j5(n,e){if(n&1){let t=je();_(0,"button",10),$("click",function(){Y(t);let i=X();return Z(i.addMiEntry())}),D(1,"+New Entry"),w()}}function U5(n,e){if(n&1&&(_(0,"tr")(1,"td"),D(2),w(),_(3,"td"),D(4),w(),_(5,"td")(6,"button",12),D(7,"Reason"),w()()()),n&2){let t=e.$implicit;O(2),oe(t.date),O(2),oe(t.unitsSold)}}function B5(n,e){if(n&1){let t=je();_(0,"tr")(1,"td"),D(2),w(),_(3,"td")(4,"input",13),ye("ngModelChange",function(i){Y(t);let o=X(2);return _e(o.newMiEntry.unitsSold,i)||(o.newMiEntry.unitsSold=i),Z(i)}),w()(),_(5,"td")(6,"button",14),$("click",function(){Y(t);let i=X(2);return Z(i.saveMiEntry())}),D(7,"Save"),w(),te(8,"br"),_(9,"button",14),$("click",function(){Y(t);let i=X(2);return Z(i.cancelMiEntry())}),D(10,"Cancel"),w()()()}if(n&2){let t=X(2);O(2),oe(t.newMiEntry.date),O(2),ge("ngModel",t.newMiEntry.unitsSold)}}function $5(n,e){if(n&1&&(_(0,"table")(1,"thead")(2,"tr")(3,"th"),D(4,"Date"),w(),_(5,"th"),D(6,"Units Sold"),w(),te(7,"th"),w()(),_(8,"tbody"),be(9,U5,8,2,"tr",11)(10,B5,11,2,"tr",8),w()()),n&2){let t=X();O(9),ue("ngForOf",t.miEntries),O(),ue("ngIf",t.newMiEntry)}}var TN=(()=>{class n{itemService;route;router;constructor(t,r,i){this.itemService=t,this.route=r,this.router=i}menuItems=[];mi;items=[];miEntries=[];newMiEntry=null;subscription;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.itemService.getMiByCode(t).subscribe(r=>{r&&(this.mi=r)}),this.itemService.getmenuItemEntries(t).subscribe(r=>{this.miEntries=r})),this.subscription=this.itemService.getItems().subscribe(r=>{this.items=r})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}goBack(){this.router.navigate(["/home"])}addMiEntry(){let t=new Date().toISOString().split("T")[0];this.newMiEntry={date:t,unitsSold:0,reason:""}}saveMiEntry(){return v(this,null,function*(){if(!this.newMiEntry||this.newMiEntry.unitsSold<=0){console.error("Invalid menu item entry or units sold");return}let t={date:new Date().toISOString(),unitsSold:this.newMiEntry.unitsSold,reason:this.newMiEntry.reason||""};this.miEntries.push(t),this.mi.unitsSold=t.unitsSold;try{(yield qa(this.itemService.getItems())).map(o=>{if(this.mi&&this.mi.id===o.code){let s=t.unitsSold??0,a=Math.max((o.physical??0)-s,0),u=(o.total??0)-s,l=(o.actual??0)-s;return ae(V({},o),{physical:a,sale:(o.sale??0)+s,total:u,actual:l})}return o}).forEach(o=>this.itemService.editItem(o)),this.itemService.editMi(ae(V({},this.mi),{unitsSold:this.mi.unitsSold,miEntries:this.miEntries})),yield this.itemService.addMenuItemEntry(this.mi.id,t),this.newMiEntry=null}catch(r){console.error("Error updating menu item:",r)}})}cancelMiEntry(){this.newMiEntry=null}static \u0275fac=function(r){return new(r||n)(B(He),B(Dt),B(Se))};static \u0275cmp=Pe({type:n,selectors:[["app-mmi"]],decls:13,vars:3,consts:[[1,"container"],[1,"row",2,"text-align","right"],[1,"topbtns",3,"click"],[1,"row"],["class","ptitle",4,"ngIf"],[1,"col"],["class","addbtn",3,"click",4,"ngIf"],[1,"table-container"],[4,"ngIf"],[1,"ptitle"],[1,"addbtn",3,"click"],[4,"ngFor","ngForOf"],[1,"tablebtns"],["placeholder","Units Sold","type","number",1,"tlbinp",3,"ngModelChange","ngModel"],[1,"tablebtns",3,"click"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"button",2),$("click",function(){return i.goBack()}),D(3,"Back"),w()(),te(4,"br"),_(5,"div",3),be(6,L5,2,1,"h1",4),w(),_(7,"div",3)(8,"div",5),be(9,j5,2,0,"button",6),w()(),_(10,"div",3)(11,"div",7),be(12,$5,11,2,"table",8),w()()()),r&2&&(O(6),ue("ngIf",i.mi),O(3),ue("ngIf",i.mi),O(3),ue("ngIf",i.mi&&i.miEntries))},dependencies:[Ue,gt,Wn,_n,bt,at,At,It,ht],styles:[".topbtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:x-large;border:none;padding:1%;margin:2% 2% 2% 90%;width:10%}.ptitle[_ngcontent-%COMP%]{text-align:center;color:#fff}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:20px;padding:5px;width:100%;max-width:400px;margin:5%}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:none;border-radius:20px;outline:none;flex-grow:1;padding:5px;font-size:16px;color:#508ca4}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#508ca4}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer}.search-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;color:#fff}.addbtn[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:large;border:none;padding:1%;margin:0% 2% 2% 80%;width:20%}.table-container[_ngcontent-%COMP%]{width:100%;margin:20px auto;border-collapse:separate;border-spacing:0}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-radius:20px;overflow:hidden;border:none}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:center;color:#508ca4;border:none}th[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;text-align:center;border:none}tr[_ngcontent-%COMP%]{background-color:#fff}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:20px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:20px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:20px}.tablebtns[_ngcontent-%COMP%]{color:#fff;border-radius:20px;background-color:#508ca4;font-size:large;border:none;padding:2%;margin:2%;width:80%}td[_ngcontent-%COMP%]{color:#508ca4}.tlbinp[_ngcontent-%COMP%]{width:80%;text-align:center;border-style:solid;border-color:#508ca4;border-radius:20px}.red-button[_ngcontent-%COMP%]{background-color:red;color:#fff}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:10px;width:80%;max-width:500px}textarea[_ngcontent-%COMP%]{width:100%;height:100px;margin-bottom:10px}"]})}return n})();var DN=(()=>{class n{itemService;router;constructor(t,r){this.itemService=t,this.router=r}closeModal(){this.router.navigate(["/vmi"])}newMenuItem={id:"",name:"",price:0,miEntries:[]};addItem(){this.itemService.addMenuItem(this.newMenuItem).then(()=>{this.closeModal()})}static \u0275fac=function(r){return new(r||n)(B(He),B(Se))};static \u0275cmp=Pe({type:n,selectors:[["app-addmi"]],decls:29,vars:3,consts:[["tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog",2,"padding-top","10%"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close","ml-auto",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","enter item code","required","",2,"margin-left","7.5%",3,"ngModelChange","ngModel"],["for","itemName"],["type","text","placeholder","enter item name","required","",2,"margin-left","6.5%",3,"ngModelChange","ngModel"],["for","itemPrice"],["type","number","placeholder","Enter price","required","",2,"margin-left","5%",3,"ngModelChange","ngModel"],[1,"btn",3,"click"]],template:function(r,i){r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),D(5,"Add New menu Item"),w(),_(6,"button",5),$("click",function(){return i.closeModal()}),_(7,"span",6),D(8,"\xD7"),w()()(),_(9,"div",7)(10,"div")(11,"div",8)(12,"label"),D(13,"Menu Item Code"),w(),_(14,"input",9),ye("ngModelChange",function(s){return _e(i.newMenuItem.id,s)||(i.newMenuItem.id=s),s}),w()(),te(15,"br"),_(16,"div",8)(17,"label",10),D(18,"Menu Item Name"),w(),_(19,"input",11),ye("ngModelChange",function(s){return _e(i.newMenuItem.name,s)||(i.newMenuItem.name=s),s}),w()(),te(20,"br"),_(21,"div",8)(22,"label",12),D(23,"Price"),w(),_(24,"input",13),ye("ngModelChange",function(s){return _e(i.newMenuItem.price,s)||(i.newMenuItem.price=s),s}),w()(),te(25,"br"),_(26,"div")(27,"button",14),$("click",function(){return i.addItem()}),D(28,"Add Item"),w()()()()()()()),r&2&&(O(14),ge("ngModel",i.newMenuItem.id),O(5),ge("ngModel",i.newMenuItem.name),O(5),ge("ngModel",i.newMenuItem.price))},dependencies:[Ue,bt,at,At,It,ln,ht],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#508ca4;display:flex;align-items:center;justify-content:space-between}.modal-title[_ngcontent-%COMP%]{color:#fff}.close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:24px;cursor:pointer}.close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}label[_ngcontent-%COMP%]{font-size:large}.btn[_ngcontent-%COMP%]{background-color:#508ca4;color:#fff;border:1px solid transparent;width:100%;padding:10px;box-sizing:border-box}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#508ca4;border-color:#508ca4}.btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 .2rem #508ca440}input[_ngcontent-%COMP%]{border-radius:20px;border-width:1px;border-color:#508ca4;margin-left:5%;text-align:center;width:60%}"]})}return n})();var SN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pe({type:n,selectors:[["app-emi"]],decls:2,vars:0,template:function(r,i){r&1&&(_(0,"p"),D(1,"emi works!"),w())},encapsulation:2})}return n})();var AN=[{path:"",component:eE},{path:"home",component:mN},{path:"login",component:eE},{path:"additem",component:gN},{path:"vitems",component:yN},{path:"eitem/:code",component:vN},{path:"mitem/:code",component:_N},{path:"mcombo/:id",component:EN},{path:"vcombos",component:wN},{path:"addcombo",component:IN},{path:"ecombo/:id",component:bN},{path:"mmi/:id",component:TN},{path:"emi/:id",component:SN},{path:"addmi",component:DN},{path:"vmi",component:CN}];Jy.production&&void 0;gD(hS,{providers:[sD(),aS(AN),rA(()=>iA(Jy.firebaseConfig)),zR(()=>qR()),uM(()=>dM())]}).catch(n=>console.error(n));
